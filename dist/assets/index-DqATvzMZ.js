(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Vp={exports:{}},Su={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function LC(){if(yx)return Su;yx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Su.Fragment=e,Su.jsx=n,Su.jsxs=n,Su}var vx;function UC(){return vx||(vx=1,Vp.exports=LC()),Vp.exports}var y=UC(),Op={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function zC(){if(bx)return Se;bx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function R(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function B(U,J,le){this.props=U,this.context=J,this.refs=N,this.updater=le||O}B.prototype.isReactComponent={},B.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},B.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function G(){}G.prototype=B.prototype;function F(U,J,le){this.props=U,this.context=J,this.refs=N,this.updater=le||O}var se=F.prototype=new G;se.constructor=F,j(se,B.prototype),se.isPureReactComponent=!0;var ae=Array.isArray;function ue(){}var k={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(U,J,le){var ce=le.ref;return{$$typeof:t,type:U,key:J,ref:ce!==void 0?ce:null,props:le}}function L(U,J){return C(U.type,J,U.props)}function P(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return J[le]})}var I=/\/+/g;function He(U,J){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):J.toString(36)}function ot(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ue,ue):(U.status="pending",U.then(function(J){U.status==="pending"&&(U.status="fulfilled",U.value=J)},function(J){U.status==="pending"&&(U.status="rejected",U.reason=J)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,J,le,ce,Te){var Re=typeof U;(Re==="undefined"||Re==="boolean")&&(U=null);var ze=!1;if(U===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(U.$$typeof){case t:case e:ze=!0;break;case v:return ze=U._init,W(ze(U._payload),J,le,ce,Te)}}if(ze)return Te=Te(U),ze=ce===""?"."+He(U,0):ce,ae(Te)?(le="",ze!=null&&(le=ze.replace(I,"$&/")+"/"),W(Te,J,le,"",function(Fi){return Fi})):Te!=null&&(P(Te)&&(Te=L(Te,le+(Te.key==null||U&&U.key===Te.key?"":(""+Te.key).replace(I,"$&/")+"/")+ze)),J.push(Te)),1;ze=0;var Lt=ce===""?".":ce+":";if(ae(U))for(var lt=0;lt<U.length;lt++)ce=U[lt],Re=Lt+He(ce,lt),ze+=W(ce,J,le,Re,Te);else if(lt=R(U),typeof lt=="function")for(U=lt.call(U),lt=0;!(ce=U.next()).done;)ce=ce.value,Re=Lt+He(ce,lt++),ze+=W(ce,J,le,Re,Te);else if(Re==="object"){if(typeof U.then=="function")return W(ot(U),J,le,ce,Te);throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ie(U,J,le){if(U==null)return U;var ce=[],Te=0;return W(U,ce,"","",function(Re){return J.call(le,Re,Te++)}),ce}function he(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var be=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Ie={map:ie,forEach:function(U,J,le){ie(U,function(){J.apply(this,arguments)},le)},count:function(U){var J=0;return ie(U,function(){J++}),J},toArray:function(U){return ie(U,function(J){return J})||[]},only:function(U){if(!P(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Se.Activity=_,Se.Children=Ie,Se.Component=B,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=F,Se.StrictMode=s,Se.Suspense=m,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Se.__COMPILER_RUNTIME={__proto__:null,c:function(U){return k.H.useMemoCache(U)}},Se.cache=function(U){return function(){return U.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(U,J,le){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ce=j({},U.props),Te=U.key;if(J!=null)for(Re in J.key!==void 0&&(Te=""+J.key),J)!A.call(J,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&J.ref===void 0||(ce[Re]=J[Re]);var Re=arguments.length-2;if(Re===1)ce.children=le;else if(1<Re){for(var ze=Array(Re),Lt=0;Lt<Re;Lt++)ze[Lt]=arguments[Lt+2];ce.children=ze}return C(U.type,Te,ce)},Se.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Se.createElement=function(U,J,le){var ce,Te={},Re=null;if(J!=null)for(ce in J.key!==void 0&&(Re=""+J.key),J)A.call(J,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Te[ce]=J[ce]);var ze=arguments.length-2;if(ze===1)Te.children=le;else if(1<ze){for(var Lt=Array(ze),lt=0;lt<ze;lt++)Lt[lt]=arguments[lt+2];Te.children=Lt}if(U&&U.defaultProps)for(ce in ze=U.defaultProps,ze)Te[ce]===void 0&&(Te[ce]=ze[ce]);return C(U,Re,Te)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(U){return{$$typeof:d,render:U}},Se.isValidElement=P,Se.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:he}},Se.memo=function(U,J){return{$$typeof:p,type:U,compare:J===void 0?null:J}},Se.startTransition=function(U){var J=k.T,le={};k.T=le;try{var ce=U(),Te=k.S;Te!==null&&Te(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,be)}catch(Re){be(Re)}finally{J!==null&&le.types!==null&&(J.types=le.types),k.T=J}},Se.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Se.use=function(U){return k.H.use(U)},Se.useActionState=function(U,J,le){return k.H.useActionState(U,J,le)},Se.useCallback=function(U,J){return k.H.useCallback(U,J)},Se.useContext=function(U){return k.H.useContext(U)},Se.useDebugValue=function(){},Se.useDeferredValue=function(U,J){return k.H.useDeferredValue(U,J)},Se.useEffect=function(U,J){return k.H.useEffect(U,J)},Se.useEffectEvent=function(U){return k.H.useEffectEvent(U)},Se.useId=function(){return k.H.useId()},Se.useImperativeHandle=function(U,J,le){return k.H.useImperativeHandle(U,J,le)},Se.useInsertionEffect=function(U,J){return k.H.useInsertionEffect(U,J)},Se.useLayoutEffect=function(U,J){return k.H.useLayoutEffect(U,J)},Se.useMemo=function(U,J){return k.H.useMemo(U,J)},Se.useOptimistic=function(U,J){return k.H.useOptimistic(U,J)},Se.useReducer=function(U,J,le){return k.H.useReducer(U,J,le)},Se.useRef=function(U){return k.H.useRef(U)},Se.useState=function(U){return k.H.useState(U)},Se.useSyncExternalStore=function(U,J,le){return k.H.useSyncExternalStore(U,J,le)},Se.useTransition=function(){return k.H.useTransition()},Se.version="19.2.0",Se}var _x;function py(){return _x||(_x=1,Op.exports=zC()),Op.exports}var M=py(),jp={exports:{}},Au={},Pp={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xx;function BC(){return xx||(xx=1,(function(t){function e(W,ie){var he=W.length;W.push(ie);e:for(;0<he;){var be=he-1>>>1,Ie=W[be];if(0<a(Ie,ie))W[be]=ie,W[he]=Ie,he=be;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ie=W[0],he=W.pop();if(he!==ie){W[0]=he;e:for(var be=0,Ie=W.length,U=Ie>>>1;be<U;){var J=2*(be+1)-1,le=W[J],ce=J+1,Te=W[ce];if(0>a(le,he))ce<Ie&&0>a(Te,le)?(W[be]=Te,W[ce]=he,be=ce):(W[be]=le,W[J]=he,be=J);else if(ce<Ie&&0>a(Te,he))W[be]=Te,W[ce]=he,be=ce;else break e}}return ie}function a(W,ie){var he=W.sortIndex-ie.sortIndex;return he!==0?he:W.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var m=[],p=[],v=1,_=null,w=3,R=!1,O=!1,j=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=W)s(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=n(p)}}function ae(W){if(j=!1,se(W),!O)if(n(m)!==null)O=!0,ue||(ue=!0,D());else{var ie=n(p);ie!==null&&ot(ae,ie.startTime-W)}}var ue=!1,k=-1,A=5,C=-1;function L(){return N?!0:!(t.unstable_now()-C<A)}function P(){if(N=!1,ue){var W=t.unstable_now();C=W;var ie=!0;try{e:{O=!1,j&&(j=!1,G(k),k=-1),R=!0;var he=w;try{t:{for(se(W),_=n(m);_!==null&&!(_.expirationTime>W&&L());){var be=_.callback;if(typeof be=="function"){_.callback=null,w=_.priorityLevel;var Ie=be(_.expirationTime<=W);if(W=t.unstable_now(),typeof Ie=="function"){_.callback=Ie,se(W),ie=!0;break t}_===n(m)&&s(m),se(W)}else s(m);_=n(m)}if(_!==null)ie=!0;else{var U=n(p);U!==null&&ot(ae,U.startTime-W),ie=!1}}break e}finally{_=null,w=he,R=!1}ie=void 0}}finally{ie?D():ue=!1}}}var D;if(typeof F=="function")D=function(){F(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,He=I.port2;I.port1.onmessage=P,D=function(){He.postMessage(null)}}else D=function(){B(P,0)};function ot(W,ie){k=B(function(){W(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(W){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var he=w;w=ie;try{return W()}finally{w=he}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(W,ie){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=w;w=W;try{return ie()}finally{w=he}},t.unstable_scheduleCallback=function(W,ie,he){var be=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,W){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=he+Ie,W={id:v++,callback:ie,priorityLevel:W,startTime:he,expirationTime:Ie,sortIndex:-1},he>be?(W.sortIndex=he,e(p,W),n(m)===null&&W===n(p)&&(j?(G(k),k=-1):j=!0,ot(ae,he-be))):(W.sortIndex=Ie,e(m,W),O||R||(O=!0,ue||(ue=!0,D()))),W},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(W){var ie=w;return function(){var he=w;w=ie;try{return W.apply(this,arguments)}finally{w=he}}}})(Lp)),Lp}var Tx;function FC(){return Tx||(Tx=1,Pp.exports=BC()),Pp.exports}var Up={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function qC(){if(wx)return rn;wx=1;var t=py();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(m,p,null,v)},rn.flushSync=function(m){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,m)return m()}finally{c.T=p,s.p=v,s.d.f()}},rn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(m,p))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:R}):v==="script"&&s.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(m)},rn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,_=d(v,p.crossOrigin);s.d.L(m,v,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,p){return m(p)},rn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var Ex;function HC(){if(Ex)return Up.exports;Ex=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Up.exports=qC(),Up.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx;function GC(){if(Sx)return Au;Sx=1;var t=FC(),e=py(),n=HC();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),r;if(g===u)return m(f),i;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var x=!1,E=f.child;E;){if(E===o){x=!0,o=f,u=g;break}if(E===u){x=!0,u=f,o=g;break}E=E.sibling}if(!x){for(E=g.child;E;){if(E===o){x=!0,o=g,u=f;break}if(E===u){x=!0,u=g,o=f;break}E=E.sibling}if(!x)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function v(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=v(r),i!==null)return i;r=r.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),F=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=P&&r[P]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function He(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case j:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case ae:return"Suspense";case ue:return"SuspenseList";case C:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case F:return r.displayName||"Context";case G:return(r._context.displayName||"Context")+".Consumer";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case k:return i=r.displayName||null,i!==null?i:He(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return He(r(i))}catch{}}return null}var ot=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],Ie=-1;function U(r){return{current:r}}function J(r){0>Ie||(r.current=be[Ie],be[Ie]=null,Ie--)}function le(r,i){Ie++,be[Ie]=r.current,r.current=i}var ce=U(null),Te=U(null),Re=U(null),ze=U(null);function Lt(r,i){switch(le(Re,i),le(Te,r),le(ce,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?z_(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=z_(i),r=B_(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}J(ce),le(ce,r)}function lt(){J(ce),J(Te),J(Re)}function Fi(r){r.memoizedState!==null&&le(ze,r);var i=ce.current,o=B_(i,r.type);i!==o&&(le(Te,r),le(ce,o))}function Ga(r){Te.current===r&&(J(ce),J(Te)),ze.current===r&&(J(ze),xu._currentValue=he)}var $a,Ka;function br(r){if($a===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);$a=i&&i[1]||"",Ka=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+r+Ka}var xl=!1;function qi(r,i){if(!r||xl)return"";xl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Y=X}Reflect.construct(r,[],te)}else{try{te.call()}catch(X){Y=X}r.call(te.prototype)}}else{try{throw Error()}catch(X){Y=X}(te=r())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],E=g[1];if(x&&E){var V=x.split(`
`),K=E.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===K.length)for(u=V.length-1,f=K.length-1;1<=u&&0<=f&&V[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==K[f]){var Z=`
`+V[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=f);break}}}finally{xl=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?br(o):""}function Tl(r,i){switch(r.tag){case 26:case 27:case 5:return br(r.type);case 16:return br("Lazy");case 13:return r.child!==i&&i!==null?br("Suspense Fallback"):br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return qi(r.type,!1);case 11:return qi(r.type.render,!1);case 1:return qi(r.type,!0);case 31:return br("Activity");default:return""}}function wl(r){try{var i="",o=null;do i+=Tl(r,o),o=r,r=r.return;while(r);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Et=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Us=t.unstable_cancelCallback,jf=t.unstable_shouldYield,kc=t.unstable_requestPaint,hn=t.unstable_now,Hi=t.unstable_getCurrentPriorityLevel,El=t.unstable_ImmediatePriority,Sl=t.unstable_UserBlockingPriority,zs=t.unstable_NormalPriority,Pf=t.unstable_LowPriority,Ic=t.unstable_IdlePriority,Dc=t.log,Mc=t.unstable_setDisableYieldValue,er=null,$t=null;function Vn(r){if(typeof Dc=="function"&&Mc(r),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(er,r)}catch{}}var vt=Math.clz32?Math.clz32:Oc,Vc=Math.log,Ya=Math.LN2;function Oc(r){return r>>>=0,r===0?32:31-(Vc(r)/Ya|0)|0}var _r=256,Gi=262144,St=4194304;function xr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Tr(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var E=u&134217727;return E!==0?(u=E&~g,u!==0?f=xr(u):(x&=E,x!==0?f=xr(x):o||(o=E&~r,o!==0&&(f=xr(o))))):(E=u&~g,E!==0?f=xr(E):x!==0?f=xr(x):o||(o=u&~r,o!==0&&(f=xr(o)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,o=i&-i,g>=o||g===32&&(o&4194048)!==0)?i:f}function tr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Lf(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var r=St;return St<<=1,(St&62914560)===0&&(St=4194304),r}function wr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function $i(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Uf(r,i,o,u,f,g){var x=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var E=r.entanglements,V=r.expirationTimes,K=r.hiddenUpdates;for(o=x&~o;0<o;){var Z=31-vt(o),te=1<<Z;E[Z]=0,V[Z]=-1;var Y=K[Z];if(Y!==null)for(K[Z]=null,Z=0;Z<Y.length;Z++){var X=Y[Z];X!==null&&(X.lane&=-536870913)}o&=~te}u!==0&&Ki(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(x&~i))}function Ki(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-vt(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Al(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-vt(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function Rl(r,i){var o=i&-i;return o=(o&42)!==0?1:Yi(o),(o&(r.suspendedLanes|i))!==0?0:o}function Yi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function is(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Pc(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:cx(r.type))}function nr(r,i){var o=ie.p;try{return ie.p=r,i()}finally{ie.p=o}}var rr=Math.random().toString(36).slice(2),At="__reactFiber$"+rr,Ft="__reactProps$"+rr,Er="__reactContainer$"+rr,Qa="__reactEvents$"+rr,zf="__reactListeners$"+rr,Lc="__reactHandles$"+rr,Uc="__reactResources$"+rr,Sr="__reactMarker$"+rr;function Xa(r){delete r[At],delete r[Ft],delete r[Qa],delete r[zf],delete r[Lc]}function Ar(r){var i=r[At];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Er]||o[At]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=Y_(r);r!==null;){if(o=r[At])return o;r=Y_(r)}return i}r=o,o=r.parentNode}return null}function On(r){if(r=r[At]||r[Er]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function En(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Rr(r){var i=r[Uc];return i||(i=r[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(r){r[Sr]=!0}var Cl=new Set,Nl={};function Cr(r,i){Nr(r,i),Nr(r+"Capture",i)}function Nr(r,i){for(Nl[r]=i,r=0;r<i.length;r++)Cl.add(i[r])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Il={},Dl={};function zc(r){return Et.call(Dl,r)?!0:Et.call(Il,r)?!1:kl.test(r)?Dl[r]=!0:(Il[r]=!0,!1)}function Wa(r,i,o){if(zc(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Sn(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Ct(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}function qt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Bs(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ml(r,i,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(x){o=""+x,g.call(this,x)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ye(r){if(!r._valueTracker){var i=Bs(r)?"checked":"value";r._valueTracker=Ml(r,i,""+r[i])}}function Qi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=Bs(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function kr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Xi=/[\n"\\]/g;function pn(r){return r.replace(Xi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Za(r,i,o,u,f,g,x,E){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),i!=null?x==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+qt(i)):r.value!==""+qt(i)&&(r.value=""+qt(i)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),i!=null?Vl(r,x,qt(i)):o!=null?Vl(r,x,qt(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+qt(E):r.removeAttribute("name")}function Bc(r,i,o,u,f,g,x,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),i!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Ye(r);return}o=o!=null?""+qt(o):"",i=i!=null?""+qt(i):o,E||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=E?r.checked:!!u,r.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),Ye(r)}function Vl(r,i,o){i==="number"&&kr(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Fs(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+qt(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function Fc(r,i,o){if(i!=null&&(i=""+qt(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+qt(o):""}function qs(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(ot(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=qt(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Ye(r)}function gn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var qc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ol(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||qc.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function jl(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&Ol(r,f,u)}else for(var g in i)i.hasOwnProperty(g)&&Ol(r,g,i[g])}function Ja(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function eo(r){return Hs.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function sr(){}var Pl=null;function jn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gs=null,Ir=null;function Wi(r){var i=On(r);if(i&&(r=i.stateNode)){var o=r[Ft]||null;e:switch(r=i.stateNode,i.type){case"input":if(Za(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pn(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[Ft]||null;if(!f)throw Error(s(90));Za(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&Qi(u)}break e;case"textarea":Fc(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Fs(r,!!o.multiple,i,!1)}}}var to=!1;function $s(r,i,o){if(to)return r(i,o);to=!0;try{var u=r(i);return u}finally{if(to=!1,(Gs!==null||Ir!==null)&&(Ph(),Gs&&(i=Gs,r=Ir,Ir=Gs=null,Wi(i),r)))for(i=0;i<r.length;i++)Wi(r[i])}}function ir(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Ft]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zi=!1;if(Pn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Zi=!1}var Dr=null,Ll=null,Ji=null;function Ul(){if(Ji)return Ji;var r,i=Ll,o=i.length,u,f="value"in Dr?Dr.value:Dr.textContent,g=f.length;for(r=0;r<o&&i[r]===f[r];r++);var x=o-r;for(u=1;u<=x&&i[o-u]===f[g-u];u++);return Ji=f.slice(r,1<u?1-u:void 0)}function ea(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function as(){return!0}function ar(){return!1}function Kt(r){function i(o,u,f,g,x){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(o=r[E],this[E]=o?o(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?as:ar,this.isPropagationStopped=ar,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),i}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=Kt(os),Ks=_({},os,{view:0,detail:0}),zl=Kt(Ks),Ys,no,Vr,ro=_({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Vr&&(Vr&&r.type==="mousemove"?(Ys=r.screenX-Vr.screenX,no=r.screenY-Vr.screenY):no=Ys=0,Vr=r),Ys)},movementY:function(r){return"movementY"in r?r.movementY:no}}),Bl=Kt(ro),ta=_({},ro,{dataTransfer:0}),Gc=Kt(ta),$c=_({},Ks,{relatedTarget:0}),na=Kt($c),Fl=_({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Kc=Kt(Fl),so=_({},os,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yc=Kt(so),Qc=_({},os,{data:0}),Or=Kt(Qc),Xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Zc[r])?!!i[r]:!1}function Qs(){return Jc}var dn=_({},Ks,{key:function(r){if(r.key){var i=Xc[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=ea(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(r){return r.type==="keypress"?ea(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ea(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),eh=Kt(dn),th=_({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Kt(th),h=_({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),b=Kt(h),T=_({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Kt(T),H=_({},ro,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Kt(H),oe=_({},os,{newState:0,oldState:0}),Ce=Kt(oe),bt=[9,13,27,32],Ge=Pn&&"CompositionEvent"in window,ut=null;Pn&&"documentMode"in document&&(ut=document.documentMode);var Ln=Pn&&"TextEvent"in window&&!ut,jr=Pn&&(!Ge||ut&&8<ut&&11>=ut),or=" ",lr=!1;function ra(r,i){switch(r){case"keyup":return bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function io(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function lR(r,i){switch(r){case"compositionend":return io(i);case"keypress":return i.which!==32?null:(lr=!0,or);case"textInput":return r=i.data,r===or&&lr?null:r;default:return null}}function uR(r,i){if(ao)return r==="compositionend"||!Ge&&ra(r,i)?(r=Ul(),Ji=Ll=Dr=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return jr&&i.locale!=="ko"?null:i.data;default:return null}}var cR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!cR[r.type]:i==="textarea"}function Z0(r,i,o,u){Gs?Ir?Ir.push(u):Ir=[u]:Gs=u,i=Hh(i,"onChange"),0<i.length&&(o=new Mr("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var ql=null,Hl=null;function hR(r){V_(r,0)}function nh(r){var i=En(r);if(Qi(i))return r}function J0(r,i){if(r==="change")return i}var ev=!1;if(Pn){var Bf;if(Pn){var Ff="oninput"in document;if(!Ff){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Ff=typeof tv.oninput=="function"}Bf=Ff}else Bf=!1;ev=Bf&&(!document.documentMode||9<document.documentMode)}function nv(){ql&&(ql.detachEvent("onpropertychange",rv),Hl=ql=null)}function rv(r){if(r.propertyName==="value"&&nh(Hl)){var i=[];Z0(i,Hl,r,jn(r)),$s(hR,i)}}function dR(r,i,o){r==="focusin"?(nv(),ql=i,Hl=o,ql.attachEvent("onpropertychange",rv)):r==="focusout"&&nv()}function fR(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nh(Hl)}function mR(r,i){if(r==="click")return nh(i)}function pR(r,i){if(r==="input"||r==="change")return nh(i)}function gR(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var An=typeof Object.is=="function"?Object.is:gR;function Gl(r,i){if(An(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Et.call(i,f)||!An(r[f],i[f]))return!1}return!0}function sv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function iv(r,i){var o=sv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sv(o)}}function av(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?av(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ov(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=kr(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=kr(r.document)}return i}function qf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var yR=Pn&&"documentMode"in document&&11>=document.documentMode,oo=null,Hf=null,$l=null,Gf=!1;function lv(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gf||oo==null||oo!==kr(u)||(u=oo,"selectionStart"in u&&qf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),$l&&Gl($l,u)||($l=u,u=Hh(Hf,"onSelect"),0<u.length&&(i=new Mr("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=oo)))}function sa(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var lo={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},$f={},uv={};Pn&&(uv=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function ia(r){if($f[r])return $f[r];if(!lo[r])return r;var i=lo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in uv)return $f[r]=i[o];return r}var cv=ia("animationend"),hv=ia("animationiteration"),dv=ia("animationstart"),vR=ia("transitionrun"),bR=ia("transitionstart"),_R=ia("transitioncancel"),fv=ia("transitionend"),mv=new Map,Kf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kf.push("scrollEnd");function ur(r,i){mv.set(r,i),Cr(i,[r])}var rh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Un=[],uo=0,Yf=0;function sh(){for(var r=uo,i=Yf=uo=0;i<r;){var o=Un[i];Un[i++]=null;var u=Un[i];Un[i++]=null;var f=Un[i];Un[i++]=null;var g=Un[i];if(Un[i++]=null,u!==null&&f!==null){var x=u.pending;x===null?f.next=f:(f.next=x.next,x.next=f),u.pending=f}g!==0&&pv(o,f,g)}}function ih(r,i,o,u){Un[uo++]=r,Un[uo++]=i,Un[uo++]=o,Un[uo++]=u,Yf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Qf(r,i,o,u){return ih(r,i,o,u),ah(r)}function aa(r,i){return ih(r,null,null,i),ah(r)}function pv(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&i!==null&&(f=31-vt(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),g):null}function ah(r){if(50<mu)throw mu=0,sp=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var co={};function xR(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,i,o,u){return new xR(r,i,o,u)}function Xf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function us(r,i){var o=r.alternate;return o===null?(o=Rn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function gv(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function oh(r,i,o,u,f,g){var x=0;if(u=r,typeof r=="function")Xf(r)&&(x=1);else if(typeof r=="string")x=AC(r,o,ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case C:return r=Rn(31,o,i,f),r.elementType=C,r.lanes=g,r;case j:return oa(o.children,f,g,i);case N:x=8,f|=24;break;case B:return r=Rn(12,o,i,f|2),r.elementType=B,r.lanes=g,r;case ae:return r=Rn(13,o,i,f),r.elementType=ae,r.lanes=g,r;case ue:return r=Rn(19,o,i,f),r.elementType=ue,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:x=10;break e;case G:x=9;break e;case se:x=11;break e;case k:x=14;break e;case A:x=16,u=null;break e}x=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=Rn(x,o,i,f),i.elementType=r,i.type=u,i.lanes=g,i}function oa(r,i,o,u){return r=Rn(7,r,u,i),r.lanes=o,r}function Wf(r,i,o){return r=Rn(6,r,null,i),r.lanes=o,r}function yv(r){var i=Rn(18,null,null,0);return i.stateNode=r,i}function Zf(r,i,o){return i=Rn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var vv=new WeakMap;function zn(r,i){if(typeof r=="object"&&r!==null){var o=vv.get(r);return o!==void 0?o:(i={value:r,source:i,stack:wl(i)},vv.set(r,i),i)}return{value:r,source:i,stack:wl(i)}}var ho=[],fo=0,lh=null,Kl=0,Bn=[],Fn=0,Xs=null,Pr=1,Lr="";function cs(r,i){ho[fo++]=Kl,ho[fo++]=lh,lh=r,Kl=i}function bv(r,i,o){Bn[Fn++]=Pr,Bn[Fn++]=Lr,Bn[Fn++]=Xs,Xs=r;var u=Pr;r=Lr;var f=32-vt(u)-1;u&=~(1<<f),o+=1;var g=32-vt(i)+f;if(30<g){var x=f-f%5;g=(u&(1<<x)-1).toString(32),u>>=x,f-=x,Pr=1<<32-vt(i)+f|o<<f|u,Lr=g+r}else Pr=1<<g|o<<f|u,Lr=r}function Jf(r){r.return!==null&&(cs(r,1),bv(r,1,0))}function em(r){for(;r===lh;)lh=ho[--fo],ho[fo]=null,Kl=ho[--fo],ho[fo]=null;for(;r===Xs;)Xs=Bn[--Fn],Bn[Fn]=null,Lr=Bn[--Fn],Bn[Fn]=null,Pr=Bn[--Fn],Bn[Fn]=null}function _v(r,i){Bn[Fn++]=Pr,Bn[Fn++]=Lr,Bn[Fn++]=Xs,Pr=i.id,Lr=i.overflow,Xs=r}var Yt=null,st=null,Ue=!1,Ws=null,qn=!1,tm=Error(s(519));function Zs(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(zn(i,r)),tm}function xv(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[At]=r,i[Ft]=u,o){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(o=0;o<gu.length;o++)Me(gu[o],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),Bc(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),qs(i,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||L_(i.textContent,o)?(u.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),u.onScroll!=null&&Me("scroll",i),u.onScrollEnd!=null&&Me("scrollend",i),u.onClick!=null&&(i.onclick=sr),i=!0):i=!1,i||Zs(r,!0)}function Tv(r){for(Yt=r.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Yt=Yt.return}}function mo(r){if(r!==Yt)return!1;if(!Ue)return Tv(r),Ue=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||bp(r.type,r.memoizedProps)),o=!o),o&&st&&Zs(r),Tv(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));st=K_(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));st=K_(r)}else i===27?(i=st,di(r.type)?(r=Ep,Ep=null,st=r):st=i):st=Yt?Gn(r.stateNode.nextSibling):null;return!0}function la(){st=Yt=null,Ue=!1}function nm(){var r=Ws;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),Ws=null),r}function Yl(r){Ws===null?Ws=[r]:Ws.push(r)}var rm=U(null),ua=null,hs=null;function Js(r,i,o){le(rm,i._currentValue),i._currentValue=o}function ds(r){r._currentValue=rm.current,J(rm)}function sm(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function im(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var x=f.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=f;for(var V=0;V<i.length;V++)if(E.context===i[V]){g.lanes|=o,E=g.alternate,E!==null&&(E.lanes|=o),sm(g.return,o,r),u||(x=null);break e}g=E.next}}else if(f.tag===18){if(x=f.return,x===null)throw Error(s(341));x.lanes|=o,g=x.alternate,g!==null&&(g.lanes|=o),sm(x,o,r),x=null}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===r){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}}function po(r,i,o,u){r=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var x=f.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var E=f.type;An(f.pendingProps.value,x.value)||(r!==null?r.push(E):r=[E])}}else if(f===ze.current){if(x=f.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(xu):r=[xu])}f=f.return}r!==null&&im(i,r,o,u),i.flags|=262144}function uh(r){for(r=r.firstContext;r!==null;){if(!An(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ca(r){ua=r,hs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Qt(r){return wv(ua,r)}function ch(r,i){return ua===null&&ca(r),wv(r,i)}function wv(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},hs===null){if(r===null)throw Error(s(308));hs=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else hs=hs.next=i;return o}var TR=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},wR=t.unstable_scheduleCallback,ER=t.unstable_NormalPriority,Nt={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function am(){return{controller:new TR,data:new Map,refCount:0}}function Ql(r){r.refCount--,r.refCount===0&&wR(ER,function(){r.controller.abort()})}var Xl=null,om=0,go=0,yo=null;function SR(r,i){if(Xl===null){var o=Xl=[];om=0,go=cp(),yo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return om++,i.then(Ev,Ev),i}function Ev(){if(--om===0&&Xl!==null){yo!==null&&(yo.status="fulfilled");var r=Xl;Xl=null,go=0,yo=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function AR(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Sv=W.S;W.S=function(r,i){l_=hn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SR(r,i),Sv!==null&&Sv(r,i)};var ha=U(null);function lm(){var r=ha.current;return r!==null?r:tt.pooledCache}function hh(r,i){i===null?le(ha,ha.current):le(ha,i.pool)}function Av(){var r=lm();return r===null?null:{parent:Nt._currentValue,pool:r}}var vo=Error(s(460)),um=Error(s(474)),dh=Error(s(542)),fh={then:function(){}};function Rv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Cv(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(sr,sr),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,kv(r),r;default:if(typeof i.status=="string")i.then(sr,sr);else{if(r=tt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,kv(r),r}throw fa=i,vo}}function da(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(fa=o,vo):o}}var fa=null;function Nv(){if(fa===null)throw Error(s(459));var r=fa;return fa=null,r}function kv(r){if(r===vo||r===dh)throw Error(s(483))}var bo=null,Wl=0;function mh(r){var i=Wl;return Wl+=1,bo===null&&(bo=[]),Cv(bo,r,i)}function Zl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function ph(r,i){throw i.$$typeof===w?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Iv(r){function i(q,z){if(r){var $=q.deletions;$===null?(q.deletions=[z],q.flags|=16):$.push(z)}}function o(q,z){if(!r)return null;for(;z!==null;)i(q,z),z=z.sibling;return null}function u(q){for(var z=new Map;q!==null;)q.key!==null?z.set(q.key,q):z.set(q.index,q),q=q.sibling;return z}function f(q,z){return q=us(q,z),q.index=0,q.sibling=null,q}function g(q,z,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<z?(q.flags|=67108866,z):$):(q.flags|=67108866,z)):(q.flags|=1048576,z)}function x(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function E(q,z,$,ee){return z===null||z.tag!==6?(z=Wf($,q.mode,ee),z.return=q,z):(z=f(z,$),z.return=q,z)}function V(q,z,$,ee){var ge=$.type;return ge===j?Z(q,z,$.props.children,ee,$.key):z!==null&&(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&da(ge)===z.type)?(z=f(z,$.props),Zl(z,$),z.return=q,z):(z=oh($.type,$.key,$.props,null,q.mode,ee),Zl(z,$),z.return=q,z)}function K(q,z,$,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Zf($,q.mode,ee),z.return=q,z):(z=f(z,$.children||[]),z.return=q,z)}function Z(q,z,$,ee,ge){return z===null||z.tag!==7?(z=oa($,q.mode,ee,ge),z.return=q,z):(z=f(z,$),z.return=q,z)}function te(q,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Wf(""+z,q.mode,$),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return $=oh(z.type,z.key,z.props,null,q.mode,$),Zl($,z),$.return=q,$;case O:return z=Zf(z,q.mode,$),z.return=q,z;case A:return z=da(z),te(q,z,$)}if(ot(z)||D(z))return z=oa(z,q.mode,$,null),z.return=q,z;if(typeof z.then=="function")return te(q,mh(z),$);if(z.$$typeof===F)return te(q,ch(q,z),$);ph(q,z)}return null}function Y(q,z,$,ee){var ge=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ge!==null?null:E(q,z,""+$,ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case R:return $.key===ge?V(q,z,$,ee):null;case O:return $.key===ge?K(q,z,$,ee):null;case A:return $=da($),Y(q,z,$,ee)}if(ot($)||D($))return ge!==null?null:Z(q,z,$,ee,null);if(typeof $.then=="function")return Y(q,z,mh($),ee);if($.$$typeof===F)return Y(q,z,ch(q,$),ee);ph(q,$)}return null}function X(q,z,$,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return q=q.get($)||null,E(z,q,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case R:return q=q.get(ee.key===null?$:ee.key)||null,V(z,q,ee,ge);case O:return q=q.get(ee.key===null?$:ee.key)||null,K(z,q,ee,ge);case A:return ee=da(ee),X(q,z,$,ee,ge)}if(ot(ee)||D(ee))return q=q.get($)||null,Z(z,q,ee,ge,null);if(typeof ee.then=="function")return X(q,z,$,mh(ee),ge);if(ee.$$typeof===F)return X(q,z,$,ch(z,ee),ge);ph(z,ee)}return null}function me(q,z,$,ee){for(var ge=null,Fe=null,pe=z,ke=z=0,Oe=null;pe!==null&&ke<$.length;ke++){pe.index>ke?(Oe=pe,pe=null):Oe=pe.sibling;var qe=Y(q,pe,$[ke],ee);if(qe===null){pe===null&&(pe=Oe);break}r&&pe&&qe.alternate===null&&i(q,pe),z=g(qe,z,ke),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe,pe=Oe}if(ke===$.length)return o(q,pe),Ue&&cs(q,ke),ge;if(pe===null){for(;ke<$.length;ke++)pe=te(q,$[ke],ee),pe!==null&&(z=g(pe,z,ke),Fe===null?ge=pe:Fe.sibling=pe,Fe=pe);return Ue&&cs(q,ke),ge}for(pe=u(pe);ke<$.length;ke++)Oe=X(pe,q,ke,$[ke],ee),Oe!==null&&(r&&Oe.alternate!==null&&pe.delete(Oe.key===null?ke:Oe.key),z=g(Oe,z,ke),Fe===null?ge=Oe:Fe.sibling=Oe,Fe=Oe);return r&&pe.forEach(function(yi){return i(q,yi)}),Ue&&cs(q,ke),ge}function ve(q,z,$,ee){if($==null)throw Error(s(151));for(var ge=null,Fe=null,pe=z,ke=z=0,Oe=null,qe=$.next();pe!==null&&!qe.done;ke++,qe=$.next()){pe.index>ke?(Oe=pe,pe=null):Oe=pe.sibling;var yi=Y(q,pe,qe.value,ee);if(yi===null){pe===null&&(pe=Oe);break}r&&pe&&yi.alternate===null&&i(q,pe),z=g(yi,z,ke),Fe===null?ge=yi:Fe.sibling=yi,Fe=yi,pe=Oe}if(qe.done)return o(q,pe),Ue&&cs(q,ke),ge;if(pe===null){for(;!qe.done;ke++,qe=$.next())qe=te(q,qe.value,ee),qe!==null&&(z=g(qe,z,ke),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe);return Ue&&cs(q,ke),ge}for(pe=u(pe);!qe.done;ke++,qe=$.next())qe=X(pe,q,ke,qe.value,ee),qe!==null&&(r&&qe.alternate!==null&&pe.delete(qe.key===null?ke:qe.key),z=g(qe,z,ke),Fe===null?ge=qe:Fe.sibling=qe,Fe=qe);return r&&pe.forEach(function(PC){return i(q,PC)}),Ue&&cs(q,ke),ge}function et(q,z,$,ee){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case R:e:{for(var ge=$.key;z!==null;){if(z.key===ge){if(ge=$.type,ge===j){if(z.tag===7){o(q,z.sibling),ee=f(z,$.props.children),ee.return=q,q=ee;break e}}else if(z.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===A&&da(ge)===z.type){o(q,z.sibling),ee=f(z,$.props),Zl(ee,$),ee.return=q,q=ee;break e}o(q,z);break}else i(q,z);z=z.sibling}$.type===j?(ee=oa($.props.children,q.mode,ee,$.key),ee.return=q,q=ee):(ee=oh($.type,$.key,$.props,null,q.mode,ee),Zl(ee,$),ee.return=q,q=ee)}return x(q);case O:e:{for(ge=$.key;z!==null;){if(z.key===ge)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){o(q,z.sibling),ee=f(z,$.children||[]),ee.return=q,q=ee;break e}else{o(q,z);break}else i(q,z);z=z.sibling}ee=Zf($,q.mode,ee),ee.return=q,q=ee}return x(q);case A:return $=da($),et(q,z,$,ee)}if(ot($))return me(q,z,$,ee);if(D($)){if(ge=D($),typeof ge!="function")throw Error(s(150));return $=ge.call($),ve(q,z,$,ee)}if(typeof $.then=="function")return et(q,z,mh($),ee);if($.$$typeof===F)return et(q,z,ch(q,$),ee);ph(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(o(q,z.sibling),ee=f(z,$),ee.return=q,q=ee):(o(q,z),ee=Wf($,q.mode,ee),ee.return=q,q=ee),x(q)):o(q,z)}return function(q,z,$,ee){try{Wl=0;var ge=et(q,z,$,ee);return bo=null,ge}catch(pe){if(pe===vo||pe===dh)throw pe;var Fe=Rn(29,pe,null,q.mode);return Fe.lanes=ee,Fe.return=q,Fe}finally{}}}var ma=Iv(!0),Dv=Iv(!1),ei=!1;function cm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ti(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ni(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=ah(r),pv(r,null,o),i}return ih(r,u,i,o),ah(r)}function Jl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Al(r,o)}}function dm(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var x={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=x:g=g.next=x,o=o.next}while(o!==null);g===null?f=g=i:g=g.next=i}else f=g=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var fm=!1;function eu(){if(fm){var r=yo;if(r!==null)throw r}}function tu(r,i,o,u){fm=!1;var f=r.updateQueue;ei=!1;var g=f.firstBaseUpdate,x=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var V=E,K=V.next;V.next=null,x===null?g=K:x.next=K,x=V;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,E=Z.lastBaseUpdate,E!==x&&(E===null?Z.firstBaseUpdate=K:E.next=K,Z.lastBaseUpdate=V))}if(g!==null){var te=f.baseState;x=0,Z=K=V=null,E=g;do{var Y=E.lane&-536870913,X=Y!==E.lane;if(X?(Ve&Y)===Y:(u&Y)===Y){Y!==0&&Y===go&&(fm=!0),Z!==null&&(Z=Z.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=r,ve=E;Y=i;var et=o;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){te=me.call(et,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,Y=typeof me=="function"?me.call(et,te,Y):me,Y==null)break e;te=_({},te,Y);break e;case 2:ei=!0}}Y=E.callback,Y!==null&&(r.flags|=64,X&&(r.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Z===null?(K=Z=X,V=te):Z=Z.next=X,x|=Y;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;X=E,E=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(V=te),f.baseState=V,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),oi|=x,r.lanes=x,r.memoizedState=te}}function Mv(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Vv(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Mv(o[r],i)}var _o=U(null),gh=U(0);function Ov(r,i){r=xs,le(gh,r),le(_o,i),xs=r|i.baseLanes}function mm(){le(gh,xs),le(_o,_o.current)}function pm(){xs=gh.current,J(_o),J(gh)}var Cn=U(null),Hn=null;function ri(r){var i=r.alternate;le(_t,_t.current&1),le(Cn,r),Hn===null&&(i===null||_o.current!==null||i.memoizedState!==null)&&(Hn=r)}function gm(r){le(_t,_t.current),le(Cn,r),Hn===null&&(Hn=r)}function jv(r){r.tag===22?(le(_t,_t.current),le(Cn,r),Hn===null&&(Hn=r)):si()}function si(){le(_t,_t.current),le(Cn,Cn.current)}function Nn(r){J(Cn),Hn===r&&(Hn=null),J(_t)}var _t=U(0);function yh(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Tp(o)||wp(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fs=0,Ne=null,Ze=null,kt=null,vh=!1,xo=!1,pa=!1,bh=0,nu=0,To=null,RR=0;function pt(){throw Error(s(321))}function ym(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!An(r[o],i[o]))return!1;return!0}function vm(r,i,o,u,f,g){return fs=g,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=r===null||r.memoizedState===null?bb:Mm,pa=!1,g=o(u,f),pa=!1,xo&&(g=Lv(i,o,u,f)),Pv(r),g}function Pv(r){W.H=iu;var i=Ze!==null&&Ze.next!==null;if(fs=0,kt=Ze=Ne=null,vh=!1,nu=0,To=null,i)throw Error(s(300));r===null||It||(r=r.dependencies,r!==null&&uh(r)&&(It=!0))}function Lv(r,i,o,u){Ne=r;var f=0;do{if(xo&&(To=null),nu=0,xo=!1,25<=f)throw Error(s(301));if(f+=1,kt=Ze=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=_b,g=i(o,u)}while(xo);return g}function CR(){var r=W.H,i=r.useState()[0];return i=typeof i.then=="function"?ru(i):i,r=r.useState()[0],(Ze!==null?Ze.memoizedState:null)!==r&&(Ne.flags|=1024),i}function bm(){var r=bh!==0;return bh=0,r}function _m(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function xm(r){if(vh){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vh=!1}fs=0,kt=Ze=Ne=null,xo=!1,nu=bh=0,To=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=r:kt=kt.next=r,kt}function xt(){if(Ze===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=Ze.next;var i=kt===null?Ne.memoizedState:kt.next;if(i!==null)kt=i,Ze=r;else{if(r===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ze=r,r={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},kt===null?Ne.memoizedState=kt=r:kt=kt.next=r}return kt}function _h(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(r){var i=nu;return nu+=1,To===null&&(To=[]),r=Cv(To,r,i),i=Ne,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?bb:Mm),r}function xh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ru(r);if(r.$$typeof===F)return Qt(r)}throw Error(s(438,String(r)))}function Tm(r){var i=null,o=Ne.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_h(),Ne.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=L;return i.index++,o}function ms(r,i){return typeof i=="function"?i(r):i}function Th(r){var i=xt();return wm(i,Ze,r)}function wm(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var x=f.next;f.next=g.next,g.next=x}i.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{i=f.next;var E=x=null,V=null,K=i,Z=!1;do{var te=K.lane&-536870913;if(te!==K.lane?(Ve&te)===te:(fs&te)===te){var Y=K.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),te===go&&(Z=!0);else if((fs&Y)===Y){K=K.next,Y===go&&(Z=!0);continue}else te={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(E=V=te,x=g):V=V.next=te,Ne.lanes|=Y,oi|=Y;te=K.action,pa&&o(g,te),g=K.hasEagerState?K.eagerState:o(g,te)}else Y={lane:te,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(E=V=Y,x=g):V=V.next=Y,Ne.lanes|=te,oi|=te;K=K.next}while(K!==null&&K!==i);if(V===null?x=g:V.next=E,!An(g,r.memoizedState)&&(It=!0,Z&&(o=yo,o!==null)))throw o;r.memoizedState=g,r.baseState=x,r.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Em(r){var i=xt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=i.memoizedState;if(f!==null){o.pending=null;var x=f=f.next;do g=r(g,x.action),x=x.next;while(x!==f);An(g,i.memoizedState)||(It=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),o.lastRenderedState=g}return[g,u]}function Uv(r,i,o){var u=Ne,f=xt(),g=Ue;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=i();var x=!An((Ze||f).memoizedState,o);if(x&&(f.memoizedState=o,It=!0),f=f.queue,Rm(Fv.bind(null,u,f,r),[r]),f.getSnapshot!==i||x||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,wo(9,{destroy:void 0},Bv.bind(null,u,f,o,i),null),tt===null)throw Error(s(349));g||(fs&127)!==0||zv(u,i,o)}return o}function zv(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Ne.updateQueue,i===null?(i=_h(),Ne.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function Bv(r,i,o,u){i.value=o,i.getSnapshot=u,qv(i)&&Hv(r)}function Fv(r,i,o){return o(function(){qv(i)&&Hv(r)})}function qv(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!An(r,o)}catch{return!0}}function Hv(r){var i=aa(r,2);i!==null&&xn(i,r,2)}function Sm(r){var i=fn();if(typeof r=="function"){var o=r;if(r=o(),pa){Vn(!0);try{o()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:r},i}function Gv(r,i,o,u){return r.baseState=o,wm(r,Ze,typeof u=="function"?u:ms)}function NR(r,i,o,u,f){if(Sh(r))throw Error(s(485));if(r=i.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=i.pending,o===null?(g.next=i.pending=g,$v(i,g)):(g.next=o.next,i.pending=o.next=g)}}function $v(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var g=W.T,x={};W.T=x;try{var E=o(f,u),V=W.S;V!==null&&V(x,E),Kv(r,i,E)}catch(K){Am(r,i,K)}finally{g!==null&&x.types!==null&&(g.types=x.types),W.T=g}}else try{g=o(f,u),Kv(r,i,g)}catch(K){Am(r,i,K)}}function Kv(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Yv(r,i,u)},function(u){return Am(r,i,u)}):Yv(r,i,o)}function Yv(r,i,o){i.status="fulfilled",i.value=o,Qv(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,$v(r,o)))}function Am(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Qv(i),i=i.next;while(i!==u)}r.action=null}function Qv(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Xv(r,i){return i}function Wv(r,i){if(Ue){var o=tt.formState;if(o!==null){e:{var u=Ne;if(Ue){if(st){t:{for(var f=st,g=qn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){st=Gn(f.nextSibling),u=f.data==="F!";break e}}Zs(u)}u=!1}u&&(i=o[0])}}return o=fn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xv,lastRenderedState:i},o.queue=u,o=gb.bind(null,Ne,u),u.dispatch=o,u=Sm(!1),g=Dm.bind(null,Ne,!1,u.queue),u=fn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=NR.bind(null,Ne,f,g,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function Zv(r){var i=xt();return Jv(i,Ze,r)}function Jv(r,i,o){if(i=wm(r,i,Xv)[0],r=Th(ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=ru(i)}catch(x){throw x===vo?dh:x}else u=i;i=xt();var f=i.queue,g=f.dispatch;return o!==i.memoizedState&&(Ne.flags|=2048,wo(9,{destroy:void 0},kR.bind(null,f,o),null)),[u,g,r]}function kR(r,i){r.action=i}function eb(r){var i=xt(),o=Ze;if(o!==null)return Jv(i,o,r);xt(),i=i.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function wo(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Ne.updateQueue,i===null&&(i=_h(),Ne.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function tb(){return xt().memoizedState}function wh(r,i,o,u){var f=fn();Ne.flags|=r,f.memoizedState=wo(1|i,{destroy:void 0},o,u===void 0?null:u)}function Eh(r,i,o,u){var f=xt();u=u===void 0?null:u;var g=f.memoizedState.inst;Ze!==null&&u!==null&&ym(u,Ze.memoizedState.deps)?f.memoizedState=wo(i,g,o,u):(Ne.flags|=r,f.memoizedState=wo(1|i,g,o,u))}function nb(r,i){wh(8390656,8,r,i)}function Rm(r,i){Eh(2048,8,r,i)}function IR(r){Ne.flags|=4;var i=Ne.updateQueue;if(i===null)i=_h(),Ne.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function rb(r){var i=xt().memoizedState;return IR({ref:i,nextImpl:r}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function sb(r,i){return Eh(4,2,r,i)}function ib(r,i){return Eh(4,4,r,i)}function ab(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function ob(r,i,o){o=o!=null?o.concat([r]):null,Eh(4,4,ab.bind(null,i,r),o)}function Cm(){}function lb(r,i){var o=xt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&ym(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function ub(r,i){var o=xt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&ym(i,u[1]))return u[0];if(u=r(),pa){Vn(!0);try{r()}finally{Vn(!1)}}return o.memoizedState=[u,i],u}function Nm(r,i,o){return o===void 0||(fs&1073741824)!==0&&(Ve&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=c_(),Ne.lanes|=r,oi|=r,o)}function cb(r,i,o,u){return An(o,i)?o:_o.current!==null?(r=Nm(r,o,u),An(r,i)||(It=!0),r):(fs&42)===0||(fs&1073741824)!==0&&(Ve&261930)===0?(It=!0,r.memoizedState=o):(r=c_(),Ne.lanes|=r,oi|=r,i)}function hb(r,i,o,u,f){var g=ie.p;ie.p=g!==0&&8>g?g:8;var x=W.T,E={};W.T=E,Dm(r,!1,i,o);try{var V=f(),K=W.S;if(K!==null&&K(E,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=AR(V,u);su(r,i,Z,Dn(r))}else su(r,i,u,Dn(r))}catch(te){su(r,i,{then:function(){},status:"rejected",reason:te},Dn())}finally{ie.p=g,x!==null&&E.types!==null&&(x.types=E.types),W.T=x}}function DR(){}function km(r,i,o,u){if(r.tag!==5)throw Error(s(476));var f=db(r).queue;hb(r,f,i,he,o===null?DR:function(){return fb(r),o(u)})}function db(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:he},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function fb(r){var i=db(r);i.next===null&&(i=r.alternate.memoizedState),su(r,i.next.queue,{},Dn())}function Im(){return Qt(xu)}function mb(){return xt().memoizedState}function pb(){return xt().memoizedState}function MR(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Dn();r=ti(o);var u=ni(i,r,o);u!==null&&(xn(u,i,o),Jl(u,i,o)),i={cache:am()},r.payload=i;return}i=i.return}}function VR(r,i,o){var u=Dn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sh(r)?yb(i,o):(o=Qf(r,i,o,u),o!==null&&(xn(o,r,u),vb(o,i,u)))}function gb(r,i,o){var u=Dn();su(r,i,o,u)}function su(r,i,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sh(r))yb(i,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var x=i.lastRenderedState,E=g(x,o);if(f.hasEagerState=!0,f.eagerState=E,An(E,x))return ih(r,i,f,0),tt===null&&sh(),!1}catch{}finally{}if(o=Qf(r,i,f,u),o!==null)return xn(o,r,u),vb(o,i,u),!0}return!1}function Dm(r,i,o,u){if(u={lane:2,revertLane:cp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sh(r)){if(i)throw Error(s(479))}else i=Qf(r,o,u,2),i!==null&&xn(i,r,2)}function Sh(r){var i=r.alternate;return r===Ne||i!==null&&i===Ne}function yb(r,i){xo=vh=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function vb(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,Al(r,o)}}var iu={readContext:Qt,use:xh,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};iu.useEffectEvent=pt;var bb={readContext:Qt,use:xh,useCallback:function(r,i){return fn().memoizedState=[r,i===void 0?null:i],r},useContext:Qt,useEffect:nb,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,wh(4194308,4,ab.bind(null,i,r),o)},useLayoutEffect:function(r,i){return wh(4194308,4,r,i)},useInsertionEffect:function(r,i){wh(4,2,r,i)},useMemo:function(r,i){var o=fn();i=i===void 0?null:i;var u=r();if(pa){Vn(!0);try{r()}finally{Vn(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=fn();if(o!==void 0){var f=o(i);if(pa){Vn(!0);try{o(i)}finally{Vn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=VR.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var i=fn();return r={current:r},i.memoizedState=r},useState:function(r){r=Sm(r);var i=r.queue,o=gb.bind(null,Ne,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Cm,useDeferredValue:function(r,i){var o=fn();return Nm(o,r,i)},useTransition:function(){var r=Sm(!1);return r=hb.bind(null,Ne,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Ne,f=fn();if(Ue){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),tt===null)throw Error(s(349));(Ve&127)!==0||zv(u,i,o)}f.memoizedState=o;var g={value:o,getSnapshot:i};return f.queue=g,nb(Fv.bind(null,u,g,r),[r]),u.flags|=2048,wo(9,{destroy:void 0},Bv.bind(null,u,g,o,i),null),o},useId:function(){var r=fn(),i=tt.identifierPrefix;if(Ue){var o=Lr,u=Pr;o=(u&~(1<<32-vt(u)-1)).toString(32)+o,i="_"+i+"R_"+o,o=bh++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=RR++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Im,useFormState:Wv,useActionState:Wv,useOptimistic:function(r){var i=fn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Dm.bind(null,Ne,!0,o),o.dispatch=i,[r,i]},useMemoCache:Tm,useCacheRefresh:function(){return fn().memoizedState=MR.bind(null,Ne)},useEffectEvent:function(r){var i=fn(),o={impl:r};return i.memoizedState=o,function(){if(($e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Mm={readContext:Qt,use:xh,useCallback:lb,useContext:Qt,useEffect:Rm,useImperativeHandle:ob,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:ub,useReducer:Th,useRef:tb,useState:function(){return Th(ms)},useDebugValue:Cm,useDeferredValue:function(r,i){var o=xt();return cb(o,Ze.memoizedState,r,i)},useTransition:function(){var r=Th(ms)[0],i=xt().memoizedState;return[typeof r=="boolean"?r:ru(r),i]},useSyncExternalStore:Uv,useId:mb,useHostTransitionStatus:Im,useFormState:Zv,useActionState:Zv,useOptimistic:function(r,i){var o=xt();return Gv(o,Ze,r,i)},useMemoCache:Tm,useCacheRefresh:pb};Mm.useEffectEvent=rb;var _b={readContext:Qt,use:xh,useCallback:lb,useContext:Qt,useEffect:Rm,useImperativeHandle:ob,useInsertionEffect:sb,useLayoutEffect:ib,useMemo:ub,useReducer:Em,useRef:tb,useState:function(){return Em(ms)},useDebugValue:Cm,useDeferredValue:function(r,i){var o=xt();return Ze===null?Nm(o,r,i):cb(o,Ze.memoizedState,r,i)},useTransition:function(){var r=Em(ms)[0],i=xt().memoizedState;return[typeof r=="boolean"?r:ru(r),i]},useSyncExternalStore:Uv,useId:mb,useHostTransitionStatus:Im,useFormState:eb,useActionState:eb,useOptimistic:function(r,i){var o=xt();return Ze!==null?Gv(o,Ze,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:pb};_b.useEffectEvent=rb;function Vm(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:_({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Om={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Dn(),f=ti(u);f.payload=i,o!=null&&(f.callback=o),i=ni(r,f,u),i!==null&&(xn(i,r,u),Jl(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Dn(),f=ti(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=ni(r,f,u),i!==null&&(xn(i,r,u),Jl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Dn(),u=ti(o);u.tag=2,i!=null&&(u.callback=i),i=ni(r,u,o),i!==null&&(xn(i,r,o),Jl(i,r,o))}};function xb(r,i,o,u,f,g,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,x):i.prototype&&i.prototype.isPureReactComponent?!Gl(o,u)||!Gl(f,g):!0}function Tb(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&Om.enqueueReplaceState(i,i.state,null)}function ga(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=_({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}function wb(r){rh(r)}function Eb(r){console.error(r)}function Sb(r){rh(r)}function Ah(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Ab(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function jm(r,i,o){return o=ti(o),o.tag=3,o.payload={element:null},o.callback=function(){Ah(r,i)},o}function Rb(r){return r=ti(r),r.tag=3,r}function Cb(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){Ab(i,o,u)}}var x=o.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Ab(i,o,u),typeof f!="function"&&(li===null?li=new Set([this]):li.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function OR(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&po(i,o,f,!0),o=Cn.current,o!==null){switch(o.tag){case 31:case 13:return Hn===null?Lh():o.alternate===null&&gt===0&&(gt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===fh?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),op(r,u,f)),!1;case 22:return o.flags|=65536,u===fh?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),op(r,u,f)),!1}throw Error(s(435,o.tag))}return op(r,u,f),Lh(),!1}if(Ue)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==tm&&(r=Error(s(422),{cause:u}),Yl(zn(r,o)))):(u!==tm&&(i=Error(s(423),{cause:u}),Yl(zn(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=zn(u,o),f=jm(r.stateNode,u,f),dm(r,f),gt!==4&&(gt=2)),!1;var g=Error(s(520),{cause:u});if(g=zn(g,o),fu===null?fu=[g]:fu.push(g),gt!==4&&(gt=2),i===null)return!0;u=zn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=jm(o.stateNode,u,r),dm(o,r),!1;case 1:if(i=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(li===null||!li.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Rb(f),Cb(f,r,o,u),dm(o,f),!1}o=o.return}while(o!==null);return!1}var Pm=Error(s(461)),It=!1;function Xt(r,i,o,u){i.child=r===null?Dv(i,null,o,u):ma(i,r.child,o,u)}function Nb(r,i,o,u,f){o=o.render;var g=i.ref;if("ref"in u){var x={};for(var E in u)E!=="ref"&&(x[E]=u[E])}else x=u;return ca(i),u=vm(r,i,o,x,g,f),E=bm(),r!==null&&!It?(_m(r,i,f),ps(r,i,f)):(Ue&&E&&Jf(i),i.flags|=1,Xt(r,i,u,f),i.child)}function kb(r,i,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!Xf(g)&&g.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=g,Ib(r,i,g,u,f)):(r=oh(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!Gm(r,f)){var x=g.memoizedProps;if(o=o.compare,o=o!==null?o:Gl,o(x,u)&&r.ref===i.ref)return ps(r,i,f)}return i.flags|=1,r=us(g,u),r.ref=i.ref,r.return=i,i.child=r}function Ib(r,i,o,u,f){if(r!==null){var g=r.memoizedProps;if(Gl(g,u)&&r.ref===i.ref)if(It=!1,i.pendingProps=u=g,Gm(r,f))(r.flags&131072)!==0&&(It=!0);else return i.lanes=r.lanes,ps(r,i,f)}return Lm(r,i,o,u,f)}function Db(r,i,o,u){var f=u.children,g=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(u=i.child=r.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,i.child=null;return Mb(r,i,g,o,u)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&hh(i,g!==null?g.cachePool:null),g!==null?Ov(i,g):mm(),jv(i);else return u=i.lanes=536870912,Mb(r,i,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(hh(i,g.cachePool),Ov(i,g),si(),i.memoizedState=null):(r!==null&&hh(i,null),mm(),si());return Xt(r,i,f,o),i.child}function au(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Mb(r,i,o,u,f){var g=lm();return g=g===null?null:{parent:Nt._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},r!==null&&hh(i,null),mm(),jv(i),r!==null&&po(r,i,u,!0),i.childLanes=f,null}function Rh(r,i){return i=Nh({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function Vb(r,i,o){return ma(i,r.child,null,o),r=Rh(i,i.pendingProps),r.flags|=2,Nn(i),i.memoizedState=null,r}function jR(r,i,o){var u=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Ue){if(u.mode==="hidden")return r=Rh(i,u),i.lanes=536870912,au(null,r);if(gm(i),(r=st)?(r=$_(r,qn),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Xs!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},o=yv(r),o.return=i,i.child=o,Yt=i,st=null)):r=null,r===null)throw Zs(i);return i.lanes=536870912,null}return Rh(i,u)}var g=r.memoizedState;if(g!==null){var x=g.dehydrated;if(gm(i),f)if(i.flags&256)i.flags&=-257,i=Vb(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||po(r,i,o,!1),f=(o&r.childLanes)!==0,It||f){if(u=tt,u!==null&&(x=Rl(u,o),x!==0&&x!==g.retryLane))throw g.retryLane=x,aa(r,x),xn(u,r,x),Pm;Lh(),i=Vb(r,i,o)}else r=g.treeContext,st=Gn(x.nextSibling),Yt=i,Ue=!0,Ws=null,qn=!1,r!==null&&_v(i,r),i=Rh(i,u),i.flags|=4096;return i}return r=us(r.child,{mode:u.mode,children:u.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Ch(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Lm(r,i,o,u,f){return ca(i),o=vm(r,i,o,u,void 0,f),u=bm(),r!==null&&!It?(_m(r,i,f),ps(r,i,f)):(Ue&&u&&Jf(i),i.flags|=1,Xt(r,i,o,f),i.child)}function Ob(r,i,o,u,f,g){return ca(i),i.updateQueue=null,o=Lv(i,u,o,f),Pv(r),u=bm(),r!==null&&!It?(_m(r,i,g),ps(r,i,g)):(Ue&&u&&Jf(i),i.flags|=1,Xt(r,i,o,g),i.child)}function jb(r,i,o,u,f){if(ca(i),i.stateNode===null){var g=co,x=o.contextType;typeof x=="object"&&x!==null&&(g=Qt(x)),g=new o(u,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Om,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=u,g.state=i.memoizedState,g.refs={},cm(i),x=o.contextType,g.context=typeof x=="object"&&x!==null?Qt(x):co,g.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(Vm(i,o,x,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Om.enqueueReplaceState(g,g.state,null),tu(i,u,g,f),eu(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){g=i.stateNode;var E=i.memoizedProps,V=ga(o,E);g.props=V;var K=g.context,Z=o.contextType;x=co,typeof Z=="object"&&Z!==null&&(x=Qt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||K!==x)&&Tb(i,g,u,x),ei=!1;var Y=i.memoizedState;g.state=Y,tu(i,u,g,f),eu(),K=i.memoizedState,E||Y!==K||ei?(typeof te=="function"&&(Vm(i,o,te,u),K=i.memoizedState),(V=ei||xb(i,o,V,u,Y,K,x))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=K),g.props=u,g.state=K,g.context=x,u=V):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{g=i.stateNode,hm(r,i),x=i.memoizedProps,Z=ga(o,x),g.props=Z,te=i.pendingProps,Y=g.context,K=o.contextType,V=co,typeof K=="object"&&K!==null&&(V=Qt(K)),E=o.getDerivedStateFromProps,(K=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==te||Y!==V)&&Tb(i,g,u,V),ei=!1,Y=i.memoizedState,g.state=Y,tu(i,u,g,f),eu();var X=i.memoizedState;x!==te||Y!==X||ei||r!==null&&r.dependencies!==null&&uh(r.dependencies)?(typeof E=="function"&&(Vm(i,o,E,u),X=i.memoizedState),(Z=ei||xb(i,o,Z,u,Y,X,V)||r!==null&&r.dependencies!==null&&uh(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,V)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=X),g.props=u,g.state=X,g.context=V,u=Z):(typeof g.componentDidUpdate!="function"||x===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),u=!1)}return g=u,Ch(r,i),u=(i.flags&128)!==0,g||u?(g=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,r!==null&&u?(i.child=ma(i,r.child,null,f),i.child=ma(i,null,o,f)):Xt(r,i,o,f),i.memoizedState=g.state,r=i.child):r=ps(r,i,f),r}function Pb(r,i,o,u){return la(),i.flags|=256,Xt(r,i,o,u),i.child}var Um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zm(r){return{baseLanes:r,cachePool:Av()}}function Bm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=In),r}function Lb(r,i,o){var u=i.pendingProps,f=!1,g=(i.flags&128)!==0,x;if((x=g)||(x=r!==null&&r.memoizedState===null?!1:(_t.current&2)!==0),x&&(f=!0,i.flags&=-129),x=(i.flags&32)!==0,i.flags&=-33,r===null){if(Ue){if(f?ri(i):si(),(r=st)?(r=$_(r,qn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:Xs!==null?{id:Pr,overflow:Lr}:null,retryLane:536870912,hydrationErrors:null},o=yv(r),o.return=i,i.child=o,Yt=i,st=null)):r=null,r===null)throw Zs(i);return wp(r)?i.lanes=32:i.lanes=536870912,null}var E=u.children;return u=u.fallback,f?(si(),f=i.mode,E=Nh({mode:"hidden",children:E},f),u=oa(u,f,o,null),E.return=i,u.return=i,E.sibling=u,i.child=E,u=i.child,u.memoizedState=zm(o),u.childLanes=Bm(r,x,o),i.memoizedState=Um,au(null,u)):(ri(i),Fm(i,E))}var V=r.memoizedState;if(V!==null&&(E=V.dehydrated,E!==null)){if(g)i.flags&256?(ri(i),i.flags&=-257,i=qm(r,i,o)):i.memoizedState!==null?(si(),i.child=r.child,i.flags|=128,i=null):(si(),E=u.fallback,f=i.mode,u=Nh({mode:"visible",children:u.children},f),E=oa(E,f,o,null),E.flags|=2,u.return=i,E.return=i,u.sibling=E,i.child=u,ma(i,r.child,null,o),u=i.child,u.memoizedState=zm(o),u.childLanes=Bm(r,x,o),i.memoizedState=Um,i=au(null,u));else if(ri(i),wp(E)){if(x=E.nextSibling&&E.nextSibling.dataset,x)var K=x.dgst;x=K,u=Error(s(419)),u.stack="",u.digest=x,Yl({value:u,source:null,stack:null}),i=qm(r,i,o)}else if(It||po(r,i,o,!1),x=(o&r.childLanes)!==0,It||x){if(x=tt,x!==null&&(u=Rl(x,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,aa(r,u),xn(x,r,u),Pm;Tp(E)||Lh(),i=qm(r,i,o)}else Tp(E)?(i.flags|=192,i.child=r.child,i=null):(r=V.treeContext,st=Gn(E.nextSibling),Yt=i,Ue=!0,Ws=null,qn=!1,r!==null&&_v(i,r),i=Fm(i,u.children),i.flags|=4096);return i}return f?(si(),E=u.fallback,f=i.mode,V=r.child,K=V.sibling,u=us(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,K!==null?E=us(K,E):(E=oa(E,f,o,null),E.flags|=2),E.return=i,u.return=i,u.sibling=E,i.child=u,au(null,u),u=i.child,E=r.child.memoizedState,E===null?E=zm(o):(f=E.cachePool,f!==null?(V=Nt._currentValue,f=f.parent!==V?{parent:V,pool:V}:f):f=Av(),E={baseLanes:E.baseLanes|o,cachePool:f}),u.memoizedState=E,u.childLanes=Bm(r,x,o),i.memoizedState=Um,au(r.child,u)):(ri(i),o=r.child,r=o.sibling,o=us(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(x=i.deletions,x===null?(i.deletions=[r],i.flags|=16):x.push(r)),i.child=o,i.memoizedState=null,o)}function Fm(r,i){return i=Nh({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Nh(r,i){return r=Rn(22,r,null,i),r.lanes=0,r}function qm(r,i,o){return ma(i,r.child,null,o),r=Fm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ub(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),sm(r.return,i,o)}function Hm(r,i,o,u,f,g){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(x.isBackwards=i,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=f,x.treeForkCount=g)}function zb(r,i,o){var u=i.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var x=_t.current,E=(x&2)!==0;if(E?(x=x&1|2,i.flags|=128):x&=1,le(_t,x),Xt(r,i,u,o),u=Ue?Kl:0,!E&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Ub(r,o,i);else if(r.tag===19)Ub(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&yh(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),Hm(i,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&yh(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Hm(i,!0,o,null,g,u);break;case"together":Hm(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function ps(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),oi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(po(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=us(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=us(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function Gm(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&uh(r)))}function PR(r,i,o){switch(i.tag){case 3:Lt(i,i.stateNode.containerInfo),Js(i,Nt,r.memoizedState.cache),la();break;case 27:case 5:Fi(i);break;case 4:Lt(i,i.stateNode.containerInfo);break;case 10:Js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,gm(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ri(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Lb(r,i,o):(ri(i),r=ps(r,i,o),r!==null?r.sibling:null);ri(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(po(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return zb(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(_t,_t.current),u)break;return null;case 22:return i.lanes=0,Db(r,i,o,i.pendingProps);case 24:Js(i,Nt,r.memoizedState.cache)}return ps(r,i,o)}function Bb(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)It=!0;else{if(!Gm(r,o)&&(i.flags&128)===0)return It=!1,PR(r,i,o);It=(r.flags&131072)!==0}else It=!1,Ue&&(i.flags&1048576)!==0&&bv(i,Kl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(r=da(i.elementType),i.type=r,typeof r=="function")Xf(r)?(u=ga(r,u),i.tag=1,i=jb(null,i,r,u,o)):(i.tag=0,i=Lm(null,i,r,u,o));else{if(r!=null){var f=r.$$typeof;if(f===se){i.tag=11,i=Nb(null,i,r,u,o);break e}else if(f===k){i.tag=14,i=kb(null,i,r,u,o);break e}}throw i=He(r)||r,Error(s(306,i,""))}}return i;case 0:return Lm(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=ga(u,i.pendingProps),jb(r,i,u,f,o);case 3:e:{if(Lt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var g=i.memoizedState;f=g.element,hm(r,i),tu(i,u,null,o);var x=i.memoizedState;if(u=x.cache,Js(i,Nt,u),u!==g.cache&&im(i,[Nt],o,!0),eu(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Pb(r,i,u,o);break e}else if(u!==f){f=zn(Error(s(424)),i),Yl(f),i=Pb(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(st=Gn(r.firstChild),Yt=i,Ue=!0,Ws=null,qn=!0,o=Dv(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(la(),u===f){i=ps(r,i,o);break e}Xt(r,i,u,o)}i=i.child}return i;case 26:return Ch(r,i),r===null?(o=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ue||(o=i.type,r=i.pendingProps,u=Gh(Re.current).createElement(o),u[At]=i,u[Ft]=r,Wt(u,o,r),Rt(u),i.stateNode=u):i.memoizedState=Z_(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Fi(i),r===null&&Ue&&(u=i.stateNode=Q_(i.type,i.pendingProps,Re.current),Yt=i,qn=!0,f=st,di(i.type)?(Ep=f,st=Gn(u.firstChild)):st=f),Xt(r,i,i.pendingProps.children,o),Ch(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Ue&&((f=u=st)&&(u=fC(u,i.type,i.pendingProps,qn),u!==null?(i.stateNode=u,Yt=i,st=Gn(u.firstChild),qn=!1,f=!0):f=!1),f||Zs(i)),Fi(i),f=i.type,g=i.pendingProps,x=r!==null?r.memoizedProps:null,u=g.children,bp(f,g)?u=null:x!==null&&bp(f,x)&&(i.flags|=32),i.memoizedState!==null&&(f=vm(r,i,CR,null,null,o),xu._currentValue=f),Ch(r,i),Xt(r,i,u,o),i.child;case 6:return r===null&&Ue&&((r=o=st)&&(o=mC(o,i.pendingProps,qn),o!==null?(i.stateNode=o,Yt=i,st=null,r=!0):r=!1),r||Zs(i)),null;case 13:return Lb(r,i,o);case 4:return Lt(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=ma(i,null,u,o):Xt(r,i,u,o),i.child;case 11:return Nb(r,i,i.type,i.pendingProps,o);case 7:return Xt(r,i,i.pendingProps,o),i.child;case 8:return Xt(r,i,i.pendingProps.children,o),i.child;case 12:return Xt(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Js(i,i.type,u.value),Xt(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,ca(i),f=Qt(f),u=u(f),i.flags|=1,Xt(r,i,u,o),i.child;case 14:return kb(r,i,i.type,i.pendingProps,o);case 15:return Ib(r,i,i.type,i.pendingProps,o);case 19:return zb(r,i,o);case 31:return jR(r,i,o);case 22:return Db(r,i,o,i.pendingProps);case 24:return ca(i),u=Qt(Nt),r===null?(f=lm(),f===null&&(f=tt,g=am(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),i.memoizedState={parent:u,cache:f},cm(i),Js(i,Nt,f)):((r.lanes&o)!==0&&(hm(r,i),tu(i,null,null,o),eu()),f=r.memoizedState,g=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Js(i,Nt,u)):(u=g.cache,Js(i,Nt,u),u!==f.cache&&im(i,[Nt],o,!0))),Xt(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function gs(r){r.flags|=4}function $m(r,i,o,u,f){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(f&335544128)===f)if(r.stateNode.complete)r.flags|=8192;else if(m_())r.flags|=8192;else throw fa=fh,um}else r.flags&=-16777217}function Fb(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rx(i))if(m_())r.flags|=8192;else throw fa=fh,um}function kh(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?jc():536870912,r.lanes|=i,Ro|=i)}function ou(r,i){if(!Ue)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function it(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function LR(r,i,o){var u=i.pendingProps;switch(em(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ds(Nt),lt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(mo(i)?gs(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,nm())),it(i),null;case 26:var f=i.type,g=i.memoizedState;return r===null?(gs(i),g!==null?(it(i),Fb(i,g)):(it(i),$m(i,f,null,u,o))):g?g!==r.memoizedState?(gs(i),it(i),Fb(i,g)):(it(i),i.flags&=-16777217):(r=r.memoizedProps,r!==u&&gs(i),it(i),$m(i,f,r,u,o)),null;case 27:if(Ga(i),o=Re.current,f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&gs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return it(i),null}r=ce.current,mo(i)?xv(i):(r=Q_(f,u,o),i.stateNode=r,gs(i))}return it(i),null;case 5:if(Ga(i),f=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&gs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(g=ce.current,mo(i))xv(i);else{var x=Gh(Re.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(f,{is:u.is}):x.createElement(f)}}g[At]=i,g[Ft]=u;e:for(x=i.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===i)break e;for(;x.sibling===null;){if(x.return===null||x.return===i)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}i.stateNode=g;e:switch(Wt(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&gs(i)}}return it(i),$m(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&gs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=Re.current,mo(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=Yt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[At]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||L_(r.nodeValue,o)),r||Zs(i,!0)}else r=Gh(r).createTextNode(u),r[At]=i,i.stateNode=r}return it(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(u=mo(i),o!==null){if(r===null){if(!u)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[At]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),r=!1}else o=nm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=mo(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[At]=i}else la(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),f=!1}else f=nm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=o,i):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),kh(i,i.updateQueue),it(i),null);case 4:return lt(),r===null&&mp(i.stateNode.containerInfo),it(i),null;case 10:return ds(i.type),it(i),null;case 19:if(J(_t),u=i.memoizedState,u===null)return it(i),null;if(f=(i.flags&128)!==0,g=u.rendering,g===null)if(f)ou(u,!1);else{if(gt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(g=yh(r),g!==null){for(i.flags|=128,ou(u,!1),r=g.updateQueue,i.updateQueue=r,kh(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)gv(o,r),o=o.sibling;return le(_t,_t.current&1|2),Ue&&cs(i,u.treeForkCount),i.child}r=r.sibling}u.tail!==null&&hn()>Oh&&(i.flags|=128,f=!0,ou(u,!1),i.lanes=4194304)}else{if(!f)if(r=yh(g),r!==null){if(i.flags|=128,f=!0,r=r.updateQueue,i.updateQueue=r,kh(i,r),ou(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return it(i),null}else 2*hn()-u.renderingStartTime>Oh&&o!==536870912&&(i.flags|=128,f=!0,ou(u,!1),i.lanes=4194304);u.isBackwards?(g.sibling=i.child,i.child=g):(r=u.last,r!==null?r.sibling=g:i.child=g,u.last=g)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=hn(),r.sibling=null,o=_t.current,le(_t,f?o&1|2:o&1),Ue&&cs(i,u.treeForkCount),r):(it(i),null);case 22:case 23:return Nn(i),pm(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),o=i.updateQueue,o!==null&&kh(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&J(ha),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ds(Nt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function UR(r,i){switch(em(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return ds(Nt),lt(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Ga(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(s(340));la()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(Nn(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));la()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return J(_t),null;case 4:return lt(),null;case 10:return ds(i.type),null;case 22:case 23:return Nn(i),pm(),r!==null&&J(ha),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return ds(Nt),null;case 25:return null;default:return null}}function qb(r,i){switch(em(i),i.tag){case 3:ds(Nt),lt();break;case 26:case 27:case 5:Ga(i);break;case 4:lt();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:J(_t);break;case 10:ds(i.type);break;case 22:case 23:Nn(i),pm(),r!==null&&J(ha);break;case 24:ds(Nt)}}function lu(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,x=o.inst;u=g(),x.destroy=u}o=o.next}while(o!==f)}}catch(E){Xe(i,i.return,E)}}function ii(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var x=u.inst,E=x.destroy;if(E!==void 0){x.destroy=void 0,f=i;var V=o,K=E;try{K()}catch(Z){Xe(f,V,Z)}}}u=u.next}while(u!==g)}}catch(Z){Xe(i,i.return,Z)}}function Hb(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Vv(i,o)}catch(u){Xe(r,r.return,u)}}}function Gb(r,i,o){o.props=ga(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(r,i,u)}}function uu(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Xe(r,i,f)}}function Ur(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Xe(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Xe(r,i,f)}else o.current=null}function $b(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Xe(r,r.return,f)}}function Km(r,i,o){try{var u=r.stateNode;oC(u,r.type,o,i),u[Ft]=i}catch(f){Xe(r,r.return,f)}}function Kb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&di(r.type)||r.tag===4}function Ym(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Kb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&di(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qm(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=sr));else if(u!==4&&(u===27&&di(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(Qm(r,i,o),r=r.sibling;r!==null;)Qm(r,i,o),r=r.sibling}function Ih(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&di(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ih(r,i,o),r=r.sibling;r!==null;)Ih(r,i,o),r=r.sibling}function Yb(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Wt(i,u,o),i[At]=r,i[Ft]=o}catch(g){Xe(r,r.return,g)}}var ys=!1,Dt=!1,Xm=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function zR(r,i){if(r=r.containerInfo,yp=Zh,r=ov(r),qf(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var x=0,E=-1,V=-1,K=0,Z=0,te=r,Y=null;t:for(;;){for(var X;te!==o||f!==0&&te.nodeType!==3||(E=x+f),te!==g||u!==0&&te.nodeType!==3||(V=x+u),te.nodeType===3&&(x+=te.nodeValue.length),(X=te.firstChild)!==null;)Y=te,te=X;for(;;){if(te===r)break t;if(Y===o&&++K===f&&(E=x),Y===g&&++Z===u&&(V=x),(X=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=X}o=E===-1||V===-1?null:{start:E,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(vp={focusedElem:r,selectionRange:o},Zh=!1,Ht=i;Ht!==null;)if(i=Ht,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Ht=r;else for(;Ht!==null;){switch(i=Ht,g=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)f=r[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=i,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=ga(o.type,f);r=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ve){Xe(o,o.return,ve)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)xp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":xp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Ht=r;break}Ht=i.return}}function Xb(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:bs(r,o),u&4&&lu(5,o);break;case 1:if(bs(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(x){Xe(o,o.return,x)}else{var f=ga(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(x){Xe(o,o.return,x)}}u&64&&Hb(o),u&512&&uu(o,o.return);break;case 3:if(bs(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Vv(r,i)}catch(x){Xe(o,o.return,x)}}break;case 27:i===null&&u&4&&Yb(o);case 26:case 5:bs(r,o),i===null&&u&4&&$b(o),u&512&&uu(o,o.return);break;case 12:bs(r,o);break;case 31:bs(r,o),u&4&&Jb(r,o);break;case 13:bs(r,o),u&4&&e_(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=QR.bind(null,o),pC(r,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){i=i!==null&&i.memoizedState!==null||Dt,f=ys;var g=Dt;ys=u,(Dt=i)&&!g?_s(r,o,(o.subtreeFlags&8772)!==0):bs(r,o),ys=f,Dt=g}break;case 30:break;default:bs(r,o)}}function Wb(r){var i=r.alternate;i!==null&&(r.alternate=null,Wb(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Xa(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ct=null,yn=!1;function vs(r,i,o){for(o=o.child;o!==null;)Zb(r,i,o),o=o.sibling}function Zb(r,i,o){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(er,o)}catch{}switch(o.tag){case 26:Dt||Ur(o,i),vs(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Ur(o,i);var u=ct,f=yn;di(o.type)&&(ct=o.stateNode,yn=!1),vs(r,i,o),vu(o.stateNode),ct=u,yn=f;break;case 5:Dt||Ur(o,i);case 6:if(u=ct,f=yn,ct=null,vs(r,i,o),ct=u,yn=f,ct!==null)if(yn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(o.stateNode)}catch(g){Xe(o,i,g)}else try{ct.removeChild(o.stateNode)}catch(g){Xe(o,i,g)}break;case 18:ct!==null&&(yn?(r=ct,H_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Oo(r)):H_(ct,o.stateNode));break;case 4:u=ct,f=yn,ct=o.stateNode.containerInfo,yn=!0,vs(r,i,o),ct=u,yn=f;break;case 0:case 11:case 14:case 15:ii(2,o,i),Dt||ii(4,o,i),vs(r,i,o);break;case 1:Dt||(Ur(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Gb(o,i,u)),vs(r,i,o);break;case 21:vs(r,i,o);break;case 22:Dt=(u=Dt)||o.memoizedState!==null,vs(r,i,o),Dt=u;break;default:vs(r,i,o)}}function Jb(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Oo(r)}catch(o){Xe(i,i.return,o)}}}function e_(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Oo(r)}catch(o){Xe(i,i.return,o)}}function BR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new Qb),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new Qb),i;default:throw Error(s(435,r.tag))}}function Dh(r,i){var o=BR(r);i.forEach(function(u){if(!o.has(u)){o.add(u);var f=XR.bind(null,r,u);u.then(f,f)}})}function vn(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 27:if(di(E.type)){ct=E.stateNode,yn=!1;break e}break;case 5:ct=E.stateNode,yn=!1;break e;case 3:case 4:ct=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(ct===null)throw Error(s(160));Zb(g,x,f),ct=null,yn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)t_(i,r),i=i.sibling}var cr=null;function t_(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:vn(i,r),bn(r),u&4&&(ii(3,r,r.return),lu(3,r),ii(5,r,r.return));break;case 1:vn(i,r),bn(r),u&512&&(Dt||o===null||Ur(o,o.return)),u&64&&ys&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=cr;if(vn(i,r),bn(r),u&512&&(Dt||o===null||Ur(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Sr]||g[At]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Wt(g,u,o),g[At]=r,Rt(g),u=g;break e;case"link":var x=tx("link","href",f).get(u+(o.href||""));if(x){for(var E=0;E<x.length;E++)if(g=x[E],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){x.splice(E,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;case"meta":if(x=tx("meta","content",f).get(u+(o.content||""))){for(E=0;E<x.length;E++)if(g=x[E],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){x.splice(E,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[At]=r,Rt(g),u=g}r.stateNode=u}else nx(f,r.type,r.stateNode);else r.stateNode=ex(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?nx(f,r.type,r.stateNode):ex(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Km(r,r.memoizedProps,o.memoizedProps)}break;case 27:vn(i,r),bn(r),u&512&&(Dt||o===null||Ur(o,o.return)),o!==null&&u&4&&Km(r,r.memoizedProps,o.memoizedProps);break;case 5:if(vn(i,r),bn(r),u&512&&(Dt||o===null||Ur(o,o.return)),r.flags&32){f=r.stateNode;try{gn(f,"")}catch(me){Xe(r,r.return,me)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,Km(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Xm=!0);break;case 6:if(vn(i,r),bn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(me){Xe(r,r.return,me)}}break;case 3:if(Yh=null,f=cr,cr=$h(i.containerInfo),vn(i,r),cr=f,bn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Oo(i.containerInfo)}catch(me){Xe(r,r.return,me)}Xm&&(Xm=!1,n_(r));break;case 4:u=cr,cr=$h(r.stateNode.containerInfo),vn(i,r),bn(r),cr=u;break;case 12:vn(i,r),bn(r);break;case 31:vn(i,r),bn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Dh(r,u)));break;case 13:vn(i,r),bn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vh=hn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Dh(r,u)));break;case 22:f=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,K=ys,Z=Dt;if(ys=K||f,Dt=Z||V,vn(i,r),Dt=Z,ys=K,bn(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||V||ys||Dt||ya(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){V=o=i;try{if(g=V.stateNode,f)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{E=V.stateNode;var te=V.memoizedProps.style,Y=te!=null&&te.hasOwnProperty("display")?te.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(me){Xe(V,V.return,me)}}}else if(i.tag===6){if(o===null){V=i;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(me){Xe(V,V.return,me)}}}else if(i.tag===18){if(o===null){V=i;try{var X=V.stateNode;f?G_(X,!0):G_(V.stateNode,!1)}catch(me){Xe(V,V.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Dh(r,o))));break;case 19:vn(i,r),bn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Dh(r,u)));break;case 30:break;case 21:break;default:vn(i,r),bn(r)}}function bn(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(Kb(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=Ym(r);Ih(r,g,f);break;case 5:var x=o.stateNode;o.flags&32&&(gn(x,""),o.flags&=-33);var E=Ym(r);Ih(r,E,x);break;case 3:case 4:var V=o.stateNode.containerInfo,K=Ym(r);Qm(r,K,V);break;default:throw Error(s(161))}}catch(Z){Xe(r,r.return,Z)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function n_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;n_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function bs(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Xb(r,i.alternate,i),i=i.sibling}function ya(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ii(4,i,i.return),ya(i);break;case 1:Ur(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Gb(i,i.return,o),ya(i);break;case 27:vu(i.stateNode);case 26:case 5:Ur(i,i.return),ya(i);break;case 22:i.memoizedState===null&&ya(i);break;case 30:ya(i);break;default:ya(i)}r=r.sibling}}function _s(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,g=i,x=g.flags;switch(g.tag){case 0:case 11:case 15:_s(f,g,o),lu(4,g);break;case 1:if(_s(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Xe(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var E=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Mv(V[f],E)}catch(K){Xe(u,u.return,K)}}o&&x&64&&Hb(g),uu(g,g.return);break;case 27:Yb(g);case 26:case 5:_s(f,g,o),o&&u===null&&x&4&&$b(g),uu(g,g.return);break;case 12:_s(f,g,o);break;case 31:_s(f,g,o),o&&x&4&&Jb(f,g);break;case 13:_s(f,g,o),o&&x&4&&e_(f,g);break;case 22:g.memoizedState===null&&_s(f,g,o),uu(g,g.return);break;case 30:break;default:_s(f,g,o)}i=i.sibling}}function Wm(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ql(o))}function Zm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ql(r))}function hr(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(r,i,o,u),i=i.sibling}function r_(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:hr(r,i,o,u),f&2048&&lu(9,i);break;case 1:hr(r,i,o,u);break;case 3:hr(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Ql(r)));break;case 12:if(f&2048){hr(r,i,o,u),r=i.stateNode;try{var g=i.memoizedProps,x=g.id,E=g.onPostCommit;typeof E=="function"&&E(x,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Xe(i,i.return,V)}}else hr(r,i,o,u);break;case 31:hr(r,i,o,u);break;case 13:hr(r,i,o,u);break;case 23:break;case 22:g=i.stateNode,x=i.alternate,i.memoizedState!==null?g._visibility&2?hr(r,i,o,u):cu(r,i):g._visibility&2?hr(r,i,o,u):(g._visibility|=2,Eo(r,i,o,u,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Wm(x,i);break;case 24:hr(r,i,o,u),f&2048&&Zm(i.alternate,i);break;default:hr(r,i,o,u)}}function Eo(r,i,o,u,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=r,x=i,E=o,V=u,K=x.flags;switch(x.tag){case 0:case 11:case 15:Eo(g,x,E,V,f),lu(8,x);break;case 23:break;case 22:var Z=x.stateNode;x.memoizedState!==null?Z._visibility&2?Eo(g,x,E,V,f):cu(g,x):(Z._visibility|=2,Eo(g,x,E,V,f)),f&&K&2048&&Wm(x.alternate,x);break;case 24:Eo(g,x,E,V,f),f&&K&2048&&Zm(x.alternate,x);break;default:Eo(g,x,E,V,f)}i=i.sibling}}function cu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:cu(o,u),f&2048&&Wm(u.alternate,u);break;case 24:cu(o,u),f&2048&&Zm(u.alternate,u);break;default:cu(o,u)}i=i.sibling}}var hu=8192;function So(r,i,o){if(r.subtreeFlags&hu)for(r=r.child;r!==null;)s_(r,i,o),r=r.sibling}function s_(r,i,o){switch(r.tag){case 26:So(r,i,o),r.flags&hu&&r.memoizedState!==null&&RC(o,cr,r.memoizedState,r.memoizedProps);break;case 5:So(r,i,o);break;case 3:case 4:var u=cr;cr=$h(r.stateNode.containerInfo),So(r,i,o),cr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=hu,hu=16777216,So(r,i,o),hu=u):So(r,i,o));break;default:So(r,i,o)}}function i_(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function du(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,o_(u,r)}i_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)a_(r),r=r.sibling}function a_(r){switch(r.tag){case 0:case 11:case 15:du(r),r.flags&2048&&ii(9,r,r.return);break;case 3:du(r);break;case 12:du(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Mh(r)):du(r);break;default:du(r)}}function Mh(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ht=u,o_(u,r)}i_(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ii(8,i,i.return),Mh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Mh(i));break;default:Mh(i)}r=r.sibling}}function o_(r,i){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:ii(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=r;Ht!==null;){u=Ht;var f=u.sibling,g=u.return;if(Wb(u),u===o){Ht=null;break e}if(f!==null){f.return=g,Ht=f;break e}Ht=g}}}var FR={getCacheForType:function(r){var i=Qt(Nt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Qt(Nt).controller.signal}},qR=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Ve=0,Qe=0,kn=null,ai=!1,Ao=!1,Jm=!1,xs=0,gt=0,oi=0,va=0,ep=0,In=0,Ro=0,fu=null,_n=null,tp=!1,Vh=0,l_=0,Oh=1/0,jh=null,li=null,zt=0,ui=null,Co=null,Ts=0,np=0,rp=null,u_=null,mu=0,sp=null;function Dn(){return($e&2)!==0&&Ve!==0?Ve&-Ve:W.T!==null?cp():Pc()}function c_(){if(In===0)if((Ve&536870912)===0||Ue){var r=Gi;Gi<<=1,(Gi&3932160)===0&&(Gi=262144),In=r}else In=536870912;return r=Cn.current,r!==null&&(r.flags|=32),In}function xn(r,i,o){(r===tt&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)&&(No(r,0),ci(r,Ve,In,!1)),$i(r,o),(($e&2)===0||r!==tt)&&(r===tt&&(($e&2)===0&&(va|=o),gt===4&&ci(r,Ve,In,!1)),zr(r))}function h_(r,i,o){if(($e&6)!==0)throw Error(s(327));var u=!o&&(i&127)===0&&(i&r.expiredLanes)===0||tr(r,i),f=u?$R(r,i):ap(r,i,!0),g=u;do{if(f===0){Ao&&!u&&ci(r,i,0,!1);break}else{if(o=r.current.alternate,g&&!HR(o)){f=ap(r,i,!1),g=!1;continue}if(f===2){if(g=i,r.errorRecoveryDisabledLanes&g)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){i=x;e:{var E=r;f=fu;var V=E.current.memoizedState.isDehydrated;if(V&&(No(E,x).flags|=256),x=ap(E,x,!1),x!==2){if(Jm&&!V){E.errorRecoveryDisabledLanes|=g,va|=g,f=4;break e}g=_n,_n=f,g!==null&&(_n===null?_n=g:_n.push.apply(_n,g))}f=x}if(g=!1,f!==2)continue}}if(f===1){No(r,0),ci(r,i,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ci(u,i,In,!ai);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Vh+300-hn(),10<f)){if(ci(u,i,In,!ai),Tr(u,0,!0)!==0)break e;Ts=i,u.timeoutHandle=F_(d_.bind(null,u,o,_n,jh,tp,i,In,va,Ro,ai,g,"Throttled",-0,0),f);break e}d_(u,o,_n,jh,tp,i,In,va,Ro,ai,g,null,-0,0)}}break}while(!0);zr(r)}function d_(r,i,o,u,f,g,x,E,V,K,Z,te,Y,X){if(r.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sr},s_(i,g,te);var me=(g&62914560)===g?Vh-hn():(g&4194048)===g?l_-hn():0;if(me=CC(te,me),me!==null){Ts=g,r.cancelPendingCommit=me(__.bind(null,r,i,g,o,u,f,x,E,V,Z,te,null,Y,X)),ci(r,g,x,!K);return}}__(r,i,g,o,u,f,x,E,V)}function HR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!An(g(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ci(r,i,o,u){i&=~ep,i&=~va,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var g=31-vt(f),x=1<<g;u[g]=-1,f&=~x}o!==0&&Ki(r,o,i)}function Ph(){return($e&6)===0?(pu(0),!1):!0}function ip(){if(De!==null){if(Qe===0)var r=De.return;else r=De,hs=ua=null,xm(r),bo=null,Wl=0,r=De;for(;r!==null;)qb(r.alternate,r),r=r.return;De=null}}function No(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,cC(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ts=0,ip(),tt=r,De=o=us(r.current,null),Ve=i,Qe=0,kn=null,ai=!1,Ao=tr(r,i),Jm=!1,Ro=In=ep=va=oi=gt=0,_n=fu=null,tp=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-vt(u),g=1<<f;i|=r[f],u&=~g}return xs=i,sh(),o}function f_(r,i){Ne=null,W.H=iu,i===vo||i===dh?(i=Nv(),Qe=3):i===um?(i=Nv(),Qe=4):Qe=i===Pm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,De===null&&(gt=1,Ah(r,zn(i,r.current)))}function m_(){var r=Cn.current;return r===null?!0:(Ve&4194048)===Ve?Hn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?r===Hn:!1}function p_(){var r=W.H;return W.H=iu,r===null?iu:r}function g_(){var r=W.A;return W.A=FR,r}function Lh(){gt=4,ai||(Ve&4194048)!==Ve&&Cn.current!==null||(Ao=!0),(oi&134217727)===0&&(va&134217727)===0||tt===null||ci(tt,Ve,In,!1)}function ap(r,i,o){var u=$e;$e|=2;var f=p_(),g=g_();(tt!==r||Ve!==i)&&(jh=null,No(r,i)),i=!1;var x=gt;e:do try{if(Qe!==0&&De!==null){var E=De,V=kn;switch(Qe){case 8:ip(),x=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var K=Qe;if(Qe=0,kn=null,ko(r,E,V,K),o&&Ao){x=0;break e}break;default:K=Qe,Qe=0,kn=null,ko(r,E,V,K)}}GR(),x=gt;break}catch(Z){f_(r,Z)}while(!0);return i&&r.shellSuspendCounter++,hs=ua=null,$e=u,W.H=f,W.A=g,De===null&&(tt=null,Ve=0,sh()),x}function GR(){for(;De!==null;)y_(De)}function $R(r,i){var o=$e;$e|=2;var u=p_(),f=g_();tt!==r||Ve!==i?(jh=null,Oh=hn()+500,No(r,i)):Ao=tr(r,i);e:do try{if(Qe!==0&&De!==null){i=De;var g=kn;t:switch(Qe){case 1:Qe=0,kn=null,ko(r,i,g,1);break;case 2:case 9:if(Rv(g)){Qe=0,kn=null,v_(i);break}i=function(){Qe!==2&&Qe!==9||tt!==r||(Qe=7),zr(r)},g.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Rv(g)?(Qe=0,kn=null,v_(i)):(Qe=0,kn=null,ko(r,i,g,7));break;case 5:var x=null;switch(De.tag){case 26:x=De.memoizedState;case 5:case 27:var E=De;if(x?rx(x):E.stateNode.complete){Qe=0,kn=null;var V=E.sibling;if(V!==null)De=V;else{var K=E.return;K!==null?(De=K,Uh(K)):De=null}break t}}Qe=0,kn=null,ko(r,i,g,5);break;case 6:Qe=0,kn=null,ko(r,i,g,6);break;case 8:ip(),gt=6;break e;default:throw Error(s(462))}}KR();break}catch(Z){f_(r,Z)}while(!0);return hs=ua=null,W.H=u,W.A=f,$e=o,De!==null?0:(tt=null,Ve=0,sh(),gt)}function KR(){for(;De!==null&&!jf();)y_(De)}function y_(r){var i=Bb(r.alternate,r,xs);r.memoizedProps=r.pendingProps,i===null?Uh(r):De=i}function v_(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Ob(o,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Ob(o,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:xm(i);default:qb(o,i),i=De=gv(i,xs),i=Bb(o,i,xs)}r.memoizedProps=r.pendingProps,i===null?Uh(r):De=i}function ko(r,i,o,u){hs=ua=null,xm(i),bo=null,Wl=0;var f=i.return;try{if(OR(r,f,i,o,Ve)){gt=1,Ah(r,zn(o,r.current)),De=null;return}}catch(g){if(f!==null)throw De=f,g;gt=1,Ah(r,zn(o,r.current)),De=null;return}i.flags&32768?(Ue||u===1?r=!0:Ao||(Ve&536870912)!==0?r=!1:(ai=r=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),b_(i,r)):Uh(i)}function Uh(r){var i=r;do{if((i.flags&32768)!==0){b_(i,ai);return}r=i.return;var o=LR(i.alternate,i,xs);if(o!==null){De=o;return}if(i=i.sibling,i!==null){De=i;return}De=i=r}while(i!==null);gt===0&&(gt=5)}function b_(r,i){do{var o=UR(r.alternate,r);if(o!==null){o.flags&=32767,De=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){De=r;return}De=r=o}while(r!==null);gt=6,De=null}function __(r,i,o,u,f,g,x,E,V){r.cancelPendingCommit=null;do zh();while(zt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Yf,Uf(r,o,g,x,E,V),r===tt&&(De=tt=null,Ve=0),Co=i,ui=r,Ts=o,np=g,rp=f,u_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WR(zs,function(){return S_(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=ie.p,ie.p=2,x=$e,$e|=4;try{zR(r,i,o)}finally{$e=x,ie.p=f,W.T=u}}zt=1,x_(),T_(),w_()}}function x_(){if(zt===1){zt=0;var r=ui,i=Co,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=ie.p;ie.p=2;var f=$e;$e|=4;try{t_(i,r);var g=vp,x=ov(r.containerInfo),E=g.focusedElem,V=g.selectionRange;if(x!==E&&E&&E.ownerDocument&&av(E.ownerDocument.documentElement,E)){if(V!==null&&qf(E)){var K=V.start,Z=V.end;if(Z===void 0&&(Z=K),"selectionStart"in E)E.selectionStart=K,E.selectionEnd=Math.min(Z,E.value.length);else{var te=E.ownerDocument||document,Y=te&&te.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),me=E.textContent.length,ve=Math.min(V.start,me),et=V.end===void 0?ve:Math.min(V.end,me);!X.extend&&ve>et&&(x=et,et=ve,ve=x);var q=iv(E,ve),z=iv(E,et);if(q&&z&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==z.node||X.focusOffset!==z.offset)){var $=te.createRange();$.setStart(q.node,q.offset),X.removeAllRanges(),ve>et?(X.addRange($),X.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),X.addRange($))}}}}for(te=[],X=E;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<te.length;E++){var ee=te[E];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Zh=!!yp,vp=yp=null}finally{$e=f,ie.p=u,W.T=o}}r.current=i,zt=2}}function T_(){if(zt===2){zt=0;var r=ui,i=Co,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=ie.p;ie.p=2;var f=$e;$e|=4;try{Xb(r,i.alternate,i)}finally{$e=f,ie.p=u,W.T=o}}zt=3}}function w_(){if(zt===4||zt===3){zt=0,kc();var r=ui,i=Co,o=Ts,u=u_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Co=ui=null,E_(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(li=null),is(o),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(er,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=W.T,f=ie.p,ie.p=2,W.T=null;try{for(var g=r.onRecoverableError,x=0;x<u.length;x++){var E=u[x];g(E.value,{componentStack:E.stack})}}finally{W.T=i,ie.p=f}}(Ts&3)!==0&&zh(),zr(r),f=r.pendingLanes,(o&261930)!==0&&(f&42)!==0?r===sp?mu++:(mu=0,sp=r):mu=0,pu(0)}}function E_(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Ql(i)))}function zh(){return x_(),T_(),w_(),S_()}function S_(){if(zt!==5)return!1;var r=ui,i=np;np=0;var o=is(Ts),u=W.T,f=ie.p;try{ie.p=32>o?32:o,W.T=null,o=rp,rp=null;var g=ui,x=Ts;if(zt=0,Co=ui=null,Ts=0,($e&6)!==0)throw Error(s(331));var E=$e;if($e|=4,a_(g.current),r_(g,g.current,x,o),$e=E,pu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(er,g)}catch{}return!0}finally{ie.p=f,W.T=u,E_(r,i)}}function A_(r,i,o){i=zn(o,i),i=jm(r.stateNode,i,2),r=ni(r,i,2),r!==null&&($i(r,2),zr(r))}function Xe(r,i,o){if(r.tag===3)A_(r,r,o);else for(;i!==null;){if(i.tag===3){A_(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(li===null||!li.has(u))){r=zn(o,r),o=Rb(2),u=ni(i,o,2),u!==null&&(Cb(o,u,i,r),$i(u,2),zr(u));break}}i=i.return}}function op(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new qR;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(Jm=!0,f.add(o),r=YR.bind(null,r,i,o),i.then(r,r))}function YR(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,tt===r&&(Ve&o)===o&&(gt===4||gt===3&&(Ve&62914560)===Ve&&300>hn()-Vh?($e&2)===0&&No(r,0):ep|=o,Ro===Ve&&(Ro=0)),zr(r)}function R_(r,i){i===0&&(i=jc()),r=aa(r,i),r!==null&&($i(r,i),zr(r))}function QR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),R_(r,o)}function XR(r,i){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),R_(r,o)}function WR(r,i){return Ut(r,i)}var Bh=null,Io=null,lp=!1,Fh=!1,up=!1,hi=0;function zr(r){r!==Io&&r.next===null&&(Io===null?Bh=Io=r:Io=Io.next=r),Fh=!0,lp||(lp=!0,JR())}function pu(r,i){if(!up&&Fh){up=!0;do for(var o=!1,u=Bh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var x=u.suspendedLanes,E=u.pingedLanes;g=(1<<31-vt(42|r)+1)-1,g&=f&~(x&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,I_(u,g))}else g=Ve,g=Tr(u,u===tt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||tr(u,g)||(o=!0,I_(u,g));u=u.next}while(o);up=!1}}function ZR(){C_()}function C_(){Fh=lp=!1;var r=0;hi!==0&&uC()&&(r=hi);for(var i=hn(),o=null,u=Bh;u!==null;){var f=u.next,g=N_(u,i);g===0?(u.next=null,o===null?Bh=f:o.next=f,f===null&&(Io=o)):(o=u,(r!==0||(g&3)!==0)&&(Fh=!0)),u=f}zt!==0&&zt!==5||pu(r),hi!==0&&(hi=0)}function N_(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var x=31-vt(g),E=1<<x,V=f[x];V===-1?((E&o)===0||(E&u)!==0)&&(f[x]=Lf(E,i)):V<=i&&(r.expiredLanes|=E),g&=~E}if(i=tt,o=Ve,o=Tr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(Qe===2||Qe===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Us(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||tr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&Us(u),is(o)){case 2:case 8:o=Sl;break;case 32:o=zs;break;case 268435456:o=Ic;break;default:o=zs}return u=k_.bind(null,r),o=Ut(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&Us(u),r.callbackPriority=2,r.callbackNode=null,2}function k_(r,i){if(zt!==0&&zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(zh()&&r.callbackNode!==o)return null;var u=Ve;return u=Tr(r,r===tt?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(h_(r,u,i),N_(r,hn()),r.callbackNode!=null&&r.callbackNode===o?k_.bind(null,r):null)}function I_(r,i){if(zh())return null;h_(r,i,!0)}function JR(){hC(function(){($e&6)!==0?Ut(El,ZR):C_()})}function cp(){if(hi===0){var r=go;r===0&&(r=_r,_r<<=1,(_r&261888)===0&&(_r=256)),hi=r}return hi}function D_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:eo(""+r)}function M_(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function eC(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var g=D_((f[Ft]||null).action),x=u.submitter;x&&(i=(i=x[Ft]||null)?D_(i.formAction):x.getAttribute("formAction"),i!==null&&(g=i,x=null));var E=new Mr("action","action",null,u,f);r.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hi!==0){var V=x?M_(f,x):new FormData(f);km(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(E.preventDefault(),V=x?M_(f,x):new FormData(f),km(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var hp=0;hp<Kf.length;hp++){var dp=Kf[hp],tC=dp.toLowerCase(),nC=dp[0].toUpperCase()+dp.slice(1);ur(tC,"on"+nC)}ur(cv,"onAnimationEnd"),ur(hv,"onAnimationIteration"),ur(dv,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(vR,"onTransitionRun"),ur(bR,"onTransitionStart"),ur(_R,"onTransitionCancel"),ur(fv,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function V_(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(i)for(var x=u.length-1;0<=x;x--){var E=u[x],V=E.instance,K=E.currentTarget;if(E=E.listener,V!==g&&f.isPropagationStopped())break e;g=E,f.currentTarget=K;try{g(f)}catch(Z){rh(Z)}f.currentTarget=null,g=V}else for(x=0;x<u.length;x++){if(E=u[x],V=E.instance,K=E.currentTarget,E=E.listener,V!==g&&f.isPropagationStopped())break e;g=E,f.currentTarget=K;try{g(f)}catch(Z){rh(Z)}f.currentTarget=null,g=V}}}}function Me(r,i){var o=i[Qa];o===void 0&&(o=i[Qa]=new Set);var u=r+"__bubble";o.has(u)||(O_(i,r,2,!1),o.add(u))}function fp(r,i,o){var u=0;i&&(u|=4),O_(o,r,u,i)}var qh="_reactListening"+Math.random().toString(36).slice(2);function mp(r){if(!r[qh]){r[qh]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(rC.has(o)||fp(o,!1,r),fp(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[qh]||(i[qh]=!0,fp("selectionchange",!1,i))}}function O_(r,i,o,u){switch(cx(i)){case 2:var f=IC;break;case 8:f=DC;break;default:f=Np}o=f.bind(null,i,o,r),f=void 0,!Zi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function pp(r,i,o,u,f){var g=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var E=u.stateNode.containerInfo;if(E===f)break;if(x===4)for(x=u.return;x!==null;){var V=x.tag;if((V===3||V===4)&&x.stateNode.containerInfo===f)return;x=x.return}for(;E!==null;){if(x=Ar(E),x===null)return;if(V=x.tag,V===5||V===6||V===26||V===27){u=g=x;continue e}E=E.parentNode}}u=u.return}$s(function(){var K=g,Z=jn(o),te=[];e:{var Y=mv.get(r);if(Y!==void 0){var X=Mr,me=r;switch(r){case"keypress":if(ea(o)===0)break e;case"keydown":case"keyup":X=eh;break;case"focusin":me="focus",X=na;break;case"focusout":me="blur",X=na;break;case"beforeblur":case"afterblur":X=na;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=b;break;case cv:case hv:case dv:X=Kc;break;case fv:X=S;break;case"scroll":case"scrollend":X=zl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ls;break;case"toggle":case"beforetoggle":X=Ce}var ve=(i&4)!==0,et=!ve&&(r==="scroll"||r==="scrollend"),q=ve?Y!==null?Y+"Capture":null:Y;ve=[];for(var z=K,$;z!==null;){var ee=z;if($=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||$===null||q===null||(ee=ir(z,q),ee!=null&&ve.push(yu(z,ee,$))),et)break;z=z.return}0<ve.length&&(Y=new X(Y,me,null,o,Z),te.push({event:Y,listeners:ve}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",Y&&o!==Pl&&(me=o.relatedTarget||o.fromElement)&&(Ar(me)||me[Er]))break e;if((X||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=K,me=me?Ar(me):null,me!==null&&(et=l(me),ve=me.tag,me!==et||ve!==5&&ve!==27&&ve!==6)&&(me=null)):(X=null,me=K),X!==me)){if(ve=Bl,ee="onMouseLeave",q="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ve=ls,ee="onPointerLeave",q="onPointerEnter",z="pointer"),et=X==null?Y:En(X),$=me==null?Y:En(me),Y=new ve(ee,z+"leave",X,o,Z),Y.target=et,Y.relatedTarget=$,ee=null,Ar(Z)===K&&(ve=new ve(q,z+"enter",me,o,Z),ve.target=$,ve.relatedTarget=et,ee=ve),et=ee,X&&me)t:{for(ve=sC,q=X,z=me,$=0,ee=q;ee;ee=ve(ee))$++;ee=0;for(var ge=z;ge;ge=ve(ge))ee++;for(;0<$-ee;)q=ve(q),$--;for(;0<ee-$;)z=ve(z),ee--;for(;$--;){if(q===z||z!==null&&q===z.alternate){ve=q;break t}q=ve(q),z=ve(z)}ve=null}else ve=null;X!==null&&j_(te,Y,X,ve,!1),me!==null&&et!==null&&j_(te,et,me,ve,!0)}}e:{if(Y=K?En(K):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var Fe=J0;else if(W0(Y))if(ev)Fe=pR;else{Fe=fR;var pe=dR}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?K&&Ja(K.elementType)&&(Fe=J0):Fe=mR;if(Fe&&(Fe=Fe(r,K))){Z0(te,Fe,o,Z);break e}pe&&pe(r,Y,K),r==="focusout"&&K&&Y.type==="number"&&K.memoizedProps.value!=null&&Vl(Y,"number",Y.value)}switch(pe=K?En(K):window,r){case"focusin":(W0(pe)||pe.contentEditable==="true")&&(oo=pe,Hf=K,$l=null);break;case"focusout":$l=Hf=oo=null;break;case"mousedown":Gf=!0;break;case"contextmenu":case"mouseup":case"dragend":Gf=!1,lv(te,o,Z);break;case"selectionchange":if(yR)break;case"keydown":case"keyup":lv(te,o,Z)}var ke;if(Ge)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ao?ra(r,o)&&(Oe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Oe="onCompositionStart");Oe&&(jr&&o.locale!=="ko"&&(ao||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ao&&(ke=Ul()):(Dr=Z,Ll="value"in Dr?Dr.value:Dr.textContent,ao=!0)),pe=Hh(K,Oe),0<pe.length&&(Oe=new Or(Oe,r,null,o,Z),te.push({event:Oe,listeners:pe}),ke?Oe.data=ke:(ke=io(o),ke!==null&&(Oe.data=ke)))),(ke=Ln?lR(r,o):uR(r,o))&&(Oe=Hh(K,"onBeforeInput"),0<Oe.length&&(pe=new Or("onBeforeInput","beforeinput",null,o,Z),te.push({event:pe,listeners:Oe}),pe.data=ke)),eC(te,r,K,o,Z)}V_(te,i)})}function yu(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Hh(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ir(r,o),f!=null&&u.unshift(yu(r,f,g)),f=ir(r,i),f!=null&&u.push(yu(r,f,g))),r.tag===3)return u;r=r.return}return[]}function sC(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function j_(r,i,o,u,f){for(var g=i._reactName,x=[];o!==null&&o!==u;){var E=o,V=E.alternate,K=E.stateNode;if(E=E.tag,V!==null&&V===u)break;E!==5&&E!==26&&E!==27||K===null||(V=K,f?(K=ir(o,g),K!=null&&x.unshift(yu(o,K,V))):f||(K=ir(o,g),K!=null&&x.push(yu(o,K,V)))),o=o.return}x.length!==0&&r.push({event:i,listeners:x})}var iC=/\r\n?/g,aC=/\u0000|\uFFFD/g;function P_(r){return(typeof r=="string"?r:""+r).replace(iC,`
`).replace(aC,"")}function L_(r,i){return i=P_(i),P_(r)===i}function Je(r,i,o,u,f,g){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||gn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&gn(r,""+u);break;case"className":Sn(r,"class",u);break;case"tabIndex":Sn(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(r,o,u);break;case"style":jl(r,u,g);break;case"data":if(i!=="object"){Sn(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=eo(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(i!=="input"&&Je(r,i,"name",f.name,f,null),Je(r,i,"formEncType",f.formEncType,f,null),Je(r,i,"formMethod",f.formMethod,f,null),Je(r,i,"formTarget",f.formTarget,f,null)):(Je(r,i,"encType",f.encType,f,null),Je(r,i,"method",f.method,f,null),Je(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=eo(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=sr);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=eo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Me("beforetoggle",r),Me("toggle",r),Wa(r,"popover",u);break;case"xlinkActuate":Ct(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ct(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ct(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ct(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ct(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ct(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ct(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ct(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ct(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Hc.get(o)||o,Wa(r,o,u))}}function gp(r,i,o,u,f,g){switch(o){case"style":jl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?gn(r,u):(typeof u=="number"||typeof u=="bigint")&&gn(r,""+u);break;case"onScroll":u!=null&&Me("scroll",r);break;case"onScrollEnd":u!=null&&Me("scrollend",r);break;case"onClick":u!=null&&(r.onclick=sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),g=r[Ft]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(i,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Wa(r,o,u)}}}function Wt(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var x=o[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(r,i,g,x,o,null)}}f&&Je(r,i,"srcSet",o.srcSet,o,null),u&&Je(r,i,"src",o.src,o,null);return;case"input":Me("invalid",r);var E=g=x=f=null,V=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":x=Z;break;case"checked":V=Z;break;case"defaultChecked":K=Z;break;case"value":g=Z;break;case"defaultValue":E=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Je(r,i,u,Z,o,null)}}Bc(r,g,E,V,K,x,f,!1);return;case"select":Me("invalid",r),u=x=g=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":x=E;break;case"multiple":u=E;default:Je(r,i,f,E,o,null)}i=g,o=x,r.multiple=!!u,i!=null?Fs(r,!!u,i,!1):o!=null&&Fs(r,!!u,o,!0);return;case"textarea":Me("invalid",r),g=f=u=null;for(x in o)if(o.hasOwnProperty(x)&&(E=o[x],E!=null))switch(x){case"value":u=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Je(r,i,x,E,o,null)}qs(r,u,f,g);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(r,i,V,u,o,null)}return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(u=0;u<gu.length;u++)Me(gu[u],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(r,i,K,u,o,null)}return;default:if(Ja(i)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&gp(r,i,Z,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&Je(r,i,E,u,o,null))}function oC(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,x=null,E=null,V=null,K=null,Z=null;for(X in o){var te=o[X];if(o.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=te;default:u.hasOwnProperty(X)||Je(r,i,X,null,u,te)}}for(var Y in u){var X=u[Y];if(te=o[Y],u.hasOwnProperty(Y)&&(X!=null||te!=null))switch(Y){case"type":g=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":x=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==te&&Je(r,i,Y,X,u,te)}}Za(r,x,E,V,K,Z,g,f);return;case"select":X=x=E=Y=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(g)||Je(r,i,g,null,u,V)}for(f in u)if(g=u[f],V=o[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":Y=g;break;case"defaultValue":E=g;break;case"multiple":x=g;default:g!==V&&Je(r,i,f,g,u,V)}i=E,o=x,u=X,Y!=null?Fs(r,!!o,Y,!1):!!u!=!!o&&(i!=null?Fs(r,!!o,i,!0):Fs(r,!!o,o?[]:"",!1));return;case"textarea":X=Y=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(r,i,E,null,u,f)}for(x in u)if(f=u[x],g=o[x],u.hasOwnProperty(x)&&(f!=null||g!=null))switch(x){case"value":Y=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Je(r,i,x,f,u,g)}Fc(r,Y,X);return;case"option":for(var me in o)if(Y=o[me],o.hasOwnProperty(me)&&Y!=null&&!u.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:Je(r,i,me,null,u,Y)}for(V in u)if(Y=u[V],X=o[V],u.hasOwnProperty(V)&&Y!==X&&(Y!=null||X!=null))switch(V){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Je(r,i,V,Y,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in o)Y=o[ve],o.hasOwnProperty(ve)&&Y!=null&&!u.hasOwnProperty(ve)&&Je(r,i,ve,null,u,Y);for(K in u)if(Y=u[K],X=o[K],u.hasOwnProperty(K)&&Y!==X&&(Y!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Je(r,i,K,Y,u,X)}return;default:if(Ja(i)){for(var et in o)Y=o[et],o.hasOwnProperty(et)&&Y!==void 0&&!u.hasOwnProperty(et)&&gp(r,i,et,void 0,u,Y);for(Z in u)Y=u[Z],X=o[Z],!u.hasOwnProperty(Z)||Y===X||Y===void 0&&X===void 0||gp(r,i,Z,Y,u,X);return}}for(var q in o)Y=o[q],o.hasOwnProperty(q)&&Y!=null&&!u.hasOwnProperty(q)&&Je(r,i,q,null,u,Y);for(te in u)Y=u[te],X=o[te],!u.hasOwnProperty(te)||Y===X||Y==null&&X==null||Je(r,i,te,Y,u,X)}function U_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lC(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,x=f.initiatorType,E=f.duration;if(g&&E&&U_(x)){for(x=0,E=f.responseEnd,u+=1;u<o.length;u++){var V=o[u],K=V.startTime;if(K>E)break;var Z=V.transferSize,te=V.initiatorType;Z&&U_(te)&&(V=V.responseEnd,x+=Z*(V<E?1:(E-K)/(V-K)))}if(--u,i+=8*(g+x)/(f.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var yp=null,vp=null;function Gh(r){return r.nodeType===9?r:r.ownerDocument}function z_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function bp(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _p=null;function uC(){var r=window.event;return r&&r.type==="popstate"?r===_p?!1:(_p=r,!0):(_p=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,q_=typeof Promise=="function"?Promise:void 0,hC=typeof queueMicrotask=="function"?queueMicrotask:typeof q_<"u"?function(r){return q_.resolve(null).then(r).catch(dC)}:F_;function dC(r){setTimeout(function(){throw r})}function di(r){return r==="head"}function H_(r,i){var o=i,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(f),Oo(i);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")vu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,vu(o);for(var g=o.firstChild;g;){var x=g.nextSibling,E=g.nodeName;g[Sr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=x}}else o==="body"&&vu(r.ownerDocument.body);o=f}while(o);Oo(i)}function G_(r,i){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function xp(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xp(o),Xa(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function fC(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Sr])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Gn(r.nextSibling),r===null)break}return null}function mC(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Gn(r.nextSibling),r===null))return null;return r}function $_(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Gn(r.nextSibling),r===null))return null;return r}function Tp(r){return r.data==="$?"||r.data==="$~"}function wp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function pC(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Gn(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Ep=null;function K_(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Gn(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function Y_(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function Q_(r,i,o){switch(i=Gh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function vu(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Xa(r)}var $n=new Map,X_=new Set;function $h(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ws=ie.d;ie.d={f:gC,r:yC,D:vC,C:bC,L:_C,m:xC,X:wC,S:TC,M:EC};function gC(){var r=ws.f(),i=Ph();return r||i}function yC(r){var i=On(r);i!==null&&i.tag===5&&i.type==="form"?fb(i):ws.r(r)}var Do=typeof document>"u"?null:document;function W_(r,i,o){var u=Do;if(u&&typeof i=="string"&&i){var f=pn(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),X_.has(f)||(X_.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),Wt(i,"link",r),Rt(i),u.head.appendChild(i)))}}function vC(r){ws.D(r),W_("dns-prefetch",r,null)}function bC(r,i){ws.C(r,i),W_("preconnect",r,i)}function _C(r,i,o){ws.L(r,i,o);var u=Do;if(u&&r&&i){var f='link[rel="preload"][as="'+pn(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pn(o.imageSizes)+'"]')):f+='[href="'+pn(r)+'"]';var g=f;switch(i){case"style":g=Mo(r);break;case"script":g=Vo(r)}$n.has(g)||(r=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),$n.set(g,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(bu(g))||i==="script"&&u.querySelector(_u(g))||(i=u.createElement("link"),Wt(i,"link",r),Rt(i),u.head.appendChild(i)))}}function xC(r,i){ws.m(r,i);var o=Do;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+pn(u)+'"][href="'+pn(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vo(r)}if(!$n.has(g)&&(r=_({rel:"modulepreload",href:r},i),$n.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(g)))return}u=o.createElement("link"),Wt(u,"link",r),Rt(u),o.head.appendChild(u)}}}function TC(r,i,o){ws.S(r,i,o);var u=Do;if(u&&r){var f=Rr(u).hoistableStyles,g=Mo(r);i=i||"default";var x=f.get(g);if(!x){var E={loading:0,preload:null};if(x=u.querySelector(bu(g)))E.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":i},o),(o=$n.get(g))&&Sp(r,o);var V=x=u.createElement("link");Rt(V),Wt(V,"link",r),V._p=new Promise(function(K,Z){V.onload=K,V.onerror=Z}),V.addEventListener("load",function(){E.loading|=1}),V.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Kh(x,i,u)}x={type:"stylesheet",instance:x,count:1,state:E},f.set(g,x)}}}function wC(r,i){ws.X(r,i);var o=Do;if(o&&r){var u=Rr(o).hoistableScripts,f=Vo(r),g=u.get(f);g||(g=o.querySelector(_u(f)),g||(r=_({src:r,async:!0},i),(i=$n.get(f))&&Ap(r,i),g=o.createElement("script"),Rt(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function EC(r,i){ws.M(r,i);var o=Do;if(o&&r){var u=Rr(o).hoistableScripts,f=Vo(r),g=u.get(f);g||(g=o.querySelector(_u(f)),g||(r=_({src:r,async:!0,type:"module"},i),(i=$n.get(f))&&Ap(r,i),g=o.createElement("script"),Rt(g),Wt(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Z_(r,i,o,u){var f=(f=Re.current)?$h(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Mo(o.href),o=Rr(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Mo(o.href);var g=Rr(f).hoistableStyles,x=g.get(r);if(x||(f=f.ownerDocument||f,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,x),(g=f.querySelector(bu(r)))&&!g._p&&(x.instance=g,x.state.loading=5),$n.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(r,o),g||SC(f,r,o,x.state))),i&&u===null)throw Error(s(528,""));return x}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Vo(o),o=Rr(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Mo(r){return'href="'+pn(r)+'"'}function bu(r){return'link[rel="stylesheet"]['+r+"]"}function J_(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function SC(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Wt(i,"link",o),Rt(i),r.head.appendChild(i))}function Vo(r){return'[src="'+pn(r)+'"]'}function _u(r){return"script[async]"+r}function ex(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+pn(o.href)+'"]');if(u)return i.instance=u,Rt(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Rt(u),Wt(u,"style",f),Kh(u,o.precedence,r),i.instance=u;case"stylesheet":f=Mo(o.href);var g=r.querySelector(bu(f));if(g)return i.state.loading|=4,i.instance=g,Rt(g),g;u=J_(o),(f=$n.get(f))&&Sp(u,f),g=(r.ownerDocument||r).createElement("link"),Rt(g);var x=g;return x._p=new Promise(function(E,V){x.onload=E,x.onerror=V}),Wt(g,"link",u),i.state.loading|=4,Kh(g,o.precedence,r),i.instance=g;case"script":return g=Vo(o.src),(f=r.querySelector(_u(g)))?(i.instance=f,Rt(f),f):(u=o,(f=$n.get(g))&&(u=_({},o),Ap(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Rt(f),Wt(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Kh(u,o.precedence,r));return i.instance}function Kh(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,x=0;x<u.length;x++){var E=u[x];if(E.dataset.precedence===i)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Sp(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Ap(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Yh=null;function tx(r,i,o){if(Yh===null){var u=new Map,f=Yh=new Map;f.set(o,u)}else f=Yh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[Sr]||g[At]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(i)||"";x=r+x;var E=u.get(x);E?E.push(g):u.set(x,[g])}}return u}function nx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function AC(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function RC(r,i,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Mo(u.href),g=i.querySelector(bu(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Qh.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=g,Rt(g);return}g=i.ownerDocument||i,u=J_(u),(f=$n.get(f))&&Sp(u,f),g=g.createElement("link"),Rt(g);var x=g;x._p=new Promise(function(E,V){x.onload=E,x.onerror=V}),Wt(g,"link",u),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Qh.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Rp=0;function CC(r,i){return r.stylesheets&&r.count===0&&Wh(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Wh(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+i);0<r.imgBytes&&Rp===0&&(Rp=62500*lC());var f=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wh(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Rp?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xh=null;function Wh(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xh=new Map,i.forEach(NC,r),Xh=null,Qh.call(r))}function NC(r,i){if(!(i.state.loading&4)){var o=Xh.get(r);if(o)var u=o.get(null);else{o=new Map,Xh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var x=f[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(o.set(x.dataset.precedence,x),u=x)}u&&o.set(null,u)}f=i.instance,x=f.getAttribute("data-precedence"),g=o.get(x)||u,g===u&&o.set(null,f),o.set(x,f),this.count++,u=Qh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var xu={$$typeof:F,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function kC(r,i,o,u,f,g,x,E,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.hiddenUpdates=wr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function sx(r,i,o,u,f,g,x,E,V,K,Z,te){return r=new kC(r,i,o,x,V,K,Z,te,E),i=1,g===!0&&(i|=24),g=Rn(3,null,null,i),r.current=g,g.stateNode=r,i=am(),i.refCount++,r.pooledCache=i,i.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:i},cm(g),r}function ix(r){return r?(r=co,r):co}function ax(r,i,o,u,f,g){f=ix(f),u.context===null?u.context=f:u.pendingContext=f,u=ti(i),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ni(r,u,i),o!==null&&(xn(o,r,i),Jl(o,r,i))}function ox(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Cp(r,i){ox(r,i),(r=r.alternate)&&ox(r,i)}function lx(r){if(r.tag===13||r.tag===31){var i=aa(r,67108864);i!==null&&xn(i,r,67108864),Cp(r,67108864)}}function ux(r){if(r.tag===13||r.tag===31){var i=Dn();i=Yi(i);var o=aa(r,i);o!==null&&xn(o,r,i),Cp(r,i)}}var Zh=!0;function IC(r,i,o,u){var f=W.T;W.T=null;var g=ie.p;try{ie.p=2,Np(r,i,o,u)}finally{ie.p=g,W.T=f}}function DC(r,i,o,u){var f=W.T;W.T=null;var g=ie.p;try{ie.p=8,Np(r,i,o,u)}finally{ie.p=g,W.T=f}}function Np(r,i,o,u){if(Zh){var f=kp(u);if(f===null)pp(r,i,u,Jh,o),hx(r,u);else if(VC(f,r,i,o,u))u.stopPropagation();else if(hx(r,u),i&4&&-1<MC.indexOf(r)){for(;f!==null;){var g=On(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=xr(g.pendingLanes);if(x!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;x;){var V=1<<31-vt(x);E.entanglements[1]|=V,x&=~V}zr(g),($e&6)===0&&(Oh=hn()+500,pu(0))}}break;case 31:case 13:E=aa(g,2),E!==null&&xn(E,g,2),Ph(),Cp(g,2)}if(g=kp(u),g===null&&pp(r,i,u,Jh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else pp(r,i,u,null,o)}}function kp(r){return r=jn(r),Ip(r)}var Jh=null;function Ip(r){if(Jh=null,r=Ar(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===31){if(r=d(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Jh=r,null}function cx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hi()){case El:return 2;case Sl:return 8;case zs:case Pf:return 32;case Ic:return 268435456;default:return 32}default:return 32}}var Dp=!1,fi=null,mi=null,pi=null,Tu=new Map,wu=new Map,gi=[],MC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hx(r,i){switch(r){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(i.pointerId)}}function Eu(r,i,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&lx(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function VC(r,i,o,u,f){switch(i){case"focusin":return fi=Eu(fi,r,i,o,u,f),!0;case"dragenter":return mi=Eu(mi,r,i,o,u,f),!0;case"mouseover":return pi=Eu(pi,r,i,o,u,f),!0;case"pointerover":var g=f.pointerId;return Tu.set(g,Eu(Tu.get(g)||null,r,i,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,wu.set(g,Eu(wu.get(g)||null,r,i,o,u,f)),!0}return!1}function dx(r){var i=Ar(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,nr(r.priority,function(){ux(o)});return}}else if(i===31){if(i=d(o),i!==null){r.blockedOn=i,nr(r.priority,function(){ux(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ed(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=kp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Pl=u,o.target.dispatchEvent(u),Pl=null}else return i=On(o),i!==null&&lx(i),r.blockedOn=o,!1;i.shift()}return!0}function fx(r,i,o){ed(r)&&o.delete(i)}function OC(){Dp=!1,fi!==null&&ed(fi)&&(fi=null),mi!==null&&ed(mi)&&(mi=null),pi!==null&&ed(pi)&&(pi=null),Tu.forEach(fx),wu.forEach(fx)}function td(r,i){r.blockedOn===i&&(r.blockedOn=null,Dp||(Dp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OC)))}var nd=null;function mx(r){nd!==r&&(nd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nd===r&&(nd=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(Ip(u||o)===null)continue;break}var g=On(o);g!==null&&(r.splice(i,3),i-=3,km(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Oo(r){function i(V){return td(V,r)}fi!==null&&td(fi,r),mi!==null&&td(mi,r),pi!==null&&td(pi,r),Tu.forEach(i),wu.forEach(i);for(var o=0;o<gi.length;o++){var u=gi[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<gi.length&&(o=gi[0],o.blockedOn===null);)dx(o),o.blockedOn===null&&gi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],x=f[Ft]||null;if(typeof g=="function")x||mx(o);else if(x){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,x=g[Ft]||null)E=x.formAction;else if(Ip(f)!==null)continue}else E=x.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),mx(o)}}}function px(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return f=x})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Mp(r){this._internalRoot=r}rd.prototype.render=Mp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Dn();ax(o,u,r,i,null,null)},rd.prototype.unmount=Mp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ax(r.current,2,null,r,null,null),Ph(),i[Er]=null}};function rd(r){this._internalRoot=r}rd.prototype.unstable_scheduleHydration=function(r){if(r){var i=Pc();r={blockedOn:null,target:r,priority:i};for(var o=0;o<gi.length&&i!==0&&i<gi[o].priority;o++);gi.splice(o,0,r),o===0&&dx(r)}};var gx=e.version;if(gx!=="19.2.0")throw Error(s(527,gx,"19.2.0"));ie.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var jC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{er=sd.inject(jC),$t=sd}catch{}}return Au.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",f=wb,g=Eb,x=Sb;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),i=sx(r,1,!1,null,null,o,u,null,f,g,x,px),r[Er]=i.current,mp(r),new Mp(i)},Au.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,f="",g=wb,x=Eb,E=Sb,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),i=sx(r,1,!0,i,o??null,u,f,V,g,x,E,px),i.context=ix(null),o=i.current,u=Dn(),u=Yi(u),f=ti(u),f.callback=null,ni(o,f,u),o=u,i.current.lanes=o,$i(i,o),zr(i),r[Er]=i.current,mp(r),new rd(i)},Au.version="19.2.0",Au}var Ax;function $C(){if(Ax)return jp.exports;Ax=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jp.exports=GC(),jp.exports}var KC=$C();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rx="popstate";function YC(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return gg("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ku(a)}return XC(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QC(){return Math.random().toString(36).substring(2,10)}function Cx(t,e){return{usr:t.state,key:t.key,idx:e}}function gg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:n,key:e&&e.key||s||QC()}}function Ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function XC(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let N=v(),B=N==null?null:N-p;p=N,m&&m({action:d,location:j.location,delta:B})}function w(N,B){d="PUSH";let G=gg(j.location,N,B);p=v()+1;let F=Cx(G,p),se=j.createHref(G);try{c.pushState(F,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;a.location.assign(se)}l&&m&&m({action:d,location:j.location,delta:1})}function R(N,B){d="REPLACE";let G=gg(j.location,N,B);p=v();let F=Cx(G,p),se=j.createHref(G);c.replaceState(F,"",se),l&&m&&m({action:d,location:j.location,delta:0})}function O(N){return WC(N)}let j={get action(){return d},get location(){return t(a,c)},listen(N){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Rx,_),m=N,()=>{a.removeEventListener(Rx,_),m=null}},createHref(N){return e(a,N)},createURL:O,encodeLocation(N){let B=O(N);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:w,replace:R,go(N){return c.go(N)}};return j}function WC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ku(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NE(t,e,n="/"){return ZC(t,e,n,!1)}function ZC(t,e,n,s){let a=typeof e=="string"?ul(e):e,l=ks(a.pathname||"/",n);if(l==null)return null;let c=kE(t);JC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=cN(l);d=lN(c[m],p,s)}return d}function kE(t,e=[],n=[],s="",a=!1){let l=(c,d,m=a,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&m)return;ft(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let _=As([s,v.relativePath]),w=n.concat(v);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),kE(c.children,e,w,_,m)),!(c.path==null&&!c.index)&&e.push({path:_,score:aN(_,c.index),routesMeta:w})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let m of IE(c.path))l(c,d,!0,m)}),e}function IE(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=IE(s.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>t.startsWith("/")&&m===""?"/":m)}function JC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:oN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var eN=/^:[\w-]+$/,tN=3,nN=2,rN=1,sN=10,iN=-2,Nx=t=>t==="*";function aN(t,e){let n=t.split("/"),s=n.length;return n.some(Nx)&&(s+=iN),e&&(s+=nN),n.filter(a=>!Nx(a)).reduce((a,l)=>a+(eN.test(l)?tN:l===""?rN:sN),s)}function oN(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function lN(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let m=s[d],p=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),w=m.route;if(!_&&p&&n&&!s[s.length-1].route.index&&(_=Vd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:As([l,_.pathname]),pathnameBase:mN(As([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=As([l,_.pathnameBase]))}return c}function Vd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=uN(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:_},w)=>{if(v==="*"){let O=d[w]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=d[w];return _&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function uN(t,e=!1,n=!0){Zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(s.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function cN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ks(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function hN(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?ul(t):t;return{pathname:n?n.startsWith("/")?n:dN(n,e):e,search:pN(s),hash:gN(a)}}function dN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function zp(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DE(t){let e=fN(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ME(t,e,n,s=!1){let a;typeof t=="string"?a=ul(t):(a={...t},ft(!a.pathname||!a.pathname.includes("?"),zp("?","pathname","search",a)),ft(!a.pathname||!a.pathname.includes("#"),zp("#","pathname","hash",a)),ft(!a.search||!a.search.includes("#"),zp("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let _=e.length-1;if(!s&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}d=_>=0?e[_]:"/"}let m=hN(a,d),p=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var As=t=>t.join("/").replace(/\/\/+/g,"/"),mN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var VE=["POST","PUT","PATCH","DELETE"];new Set(VE);var vN=["GET",...VE];new Set(vN);var cl=M.createContext(null);cl.displayName="DataRouter";var uf=M.createContext(null);uf.displayName="DataRouterState";M.createContext(!1);var OE=M.createContext({isTransitioning:!1});OE.displayName="ViewTransition";var bN=M.createContext(new Map);bN.displayName="Fetchers";var _N=M.createContext(null);_N.displayName="Await";var ts=M.createContext(null);ts.displayName="Navigation";var hc=M.createContext(null);hc.displayName="Location";var ns=M.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var gy=M.createContext(null);gy.displayName="RouteError";function xN(t,{relative:e}={}){ft(dc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=M.useContext(ts),{hash:a,pathname:l,search:c}=fc(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:As([n,l])),s.createHref({pathname:d,search:c,hash:a})}function dc(){return M.useContext(hc)!=null}function ja(){return ft(dc(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(hc).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(t){M.useContext(ts).static||M.useLayoutEffect(t)}function Pa(){let{isDataRoute:t}=M.useContext(ns);return t?ON():TN()}function TN(){ft(dc(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(cl),{basename:e,navigator:n}=M.useContext(ts),{matches:s}=M.useContext(ns),{pathname:a}=ja(),l=JSON.stringify(DE(s)),c=M.useRef(!1);return PE(()=>{c.current=!0}),M.useCallback((m,p={})=>{if(Zr(c.current,jE),!c.current)return;if(typeof m=="number"){n.go(m);return}let v=ME(m,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:As([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}M.createContext(null);function wN(){let{matches:t}=M.useContext(ns),e=t[t.length-1];return e?e.params:{}}function fc(t,{relative:e}={}){let{matches:n}=M.useContext(ns),{pathname:s}=ja(),a=JSON.stringify(DE(n));return M.useMemo(()=>ME(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function EN(t,e){return LE(t,e)}function LE(t,e,n,s,a){ft(dc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(ts),{matches:c}=M.useContext(ns),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let G=_&&_.path||"";UE(p,!_||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=ja(),R;if(e){let G=typeof e=="string"?ul(e):e;ft(v==="/"||G.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${G.pathname}" was given in the \`location\` prop.`),R=G}else R=w;let O=R.pathname||"/",j=O;if(v!=="/"){let G=v.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(G.length).join("/")}let N=NE(t,{pathname:j});Zr(_||N!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Zr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=NN(N&&N.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:As([v,l.encodeLocation?l.encodeLocation(G.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?v:As([v,l.encodeLocation?l.encodeLocation(G.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:G.pathnameBase])})),c,n,s,a);return e&&B?M.createElement(hc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},B):B}function SN(){let t=VN(),e=yN(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:a},n):null,c)}var AN=M.createElement(SN,null),RN=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?M.createElement(ns.Provider,{value:this.props.routeContext},M.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CN({routeContext:t,match:e,children:n}){let s=M.useContext(cl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ns.Provider,{value:t},n)}function NN(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let p=l.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let d=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let v=l[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=p),v.route.id){let{loaderData:_,errors:w}=n,R=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!w||w[v.route.id]===void 0);if(v.route.lazy||R){d=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,v,_)=>{let w,R=!1,O=null,j=null;n&&(w=c&&v.route.id?c[v.route.id]:void 0,O=v.route.errorElement||AN,d&&(m<0&&_===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===_&&(R=!0,j=v.route.hydrateFallbackElement||null)));let N=e.concat(l.slice(0,_+1)),B=()=>{let G;return w?G=O:R?G=j:v.route.Component?G=M.createElement(v.route.Component,null):v.route.element?G=v.route.element:G=p,M.createElement(CN,{match:v,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:G})};return n&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?M.createElement(RN,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:B(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:s}):B()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kN(t){let e=M.useContext(cl);return ft(e,yy(t)),e}function IN(t){let e=M.useContext(uf);return ft(e,yy(t)),e}function DN(t){let e=M.useContext(ns);return ft(e,yy(t)),e}function vy(t){let e=DN(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function MN(){return vy("useRouteId")}function VN(){let t=M.useContext(gy),e=IN("useRouteError"),n=vy("useRouteError");return t!==void 0?t:e.errors?.[n]}function ON(){let{router:t}=kN("useNavigate"),e=vy("useNavigate"),n=M.useRef(!1);return PE(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{Zr(n.current,jE),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var kx={};function UE(t,e,n){!e&&!kx[t]&&(kx[t]=!0,Zr(!1,n))}M.memo(jN);function jN({routes:t,future:e,state:n,unstable_onError:s}){return LE(t,void 0,n,s,e)}function bi(t){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PN({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){ft(!dc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=M.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=ul(n));let{pathname:m="/",search:p="",hash:v="",state:_=null,key:w="default"}=n,R=M.useMemo(()=>{let O=ks(m,c);return O==null?null:{location:{pathname:O,search:p,hash:v,state:_,key:w},navigationType:s}},[c,m,p,v,_,w,s]);return Zr(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:M.createElement(ts.Provider,{value:d},M.createElement(hc.Provider,{children:e,value:R}))}function LN({children:t,location:e}){return EN(yg(t),e)}function yg(t,e=[]){let n=[];return M.Children.forEach(t,(s,a)=>{if(!M.isValidElement(s))return;let l=[...e,a];if(s.type===M.Fragment){n.push.apply(n,yg(s.props.children,l));return}ft(s.type===bi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yg(s.props.children,l)),n.push(c)}),n}var yd="get",vd="application/x-www-form-urlencoded";function cf(t){return t!=null&&typeof t.tagName=="string"}function UN(t){return cf(t)&&t.tagName.toLowerCase()==="button"}function zN(t){return cf(t)&&t.tagName.toLowerCase()==="form"}function BN(t){return cf(t)&&t.tagName.toLowerCase()==="input"}function FN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qN(t,e){return t.button===0&&(!e||e==="_self")&&!FN(t)}var id=null;function HN(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var GN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bp(t){return t!=null&&!GN.has(t)?(Zr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vd}"`),null):t}function $N(t,e){let n,s,a,l,c;if(zN(t)){let d=t.getAttribute("action");s=d?ks(d,e):null,n=t.getAttribute("method")||yd,a=Bp(t.getAttribute("enctype"))||vd,l=new FormData(t)}else if(UN(t)||BN(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=t.getAttribute("formaction")||d.getAttribute("action");if(s=m?ks(m,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||yd,a=Bp(t.getAttribute("formenctype"))||Bp(d.getAttribute("enctype"))||vd,l=new FormData(d,t),!HN()){let{name:p,type:v,value:_}=t;if(v==="image"){let w=p?`${p}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else p&&l.append(p,_)}}else{if(cf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yd,s=null,a=vd,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function by(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function KN(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function YN(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QN(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function XN(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await YN(l,n);return c.links?c.links():[]}return[]}));return ek(s.flat(1).filter(QN).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ix(t,e,n,s,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,d=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?e.filter((m,p)=>c(m,p)||d(m,p)):l==="data"?e.filter((m,p)=>{let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WN(t,e,{includeHydrateFallback:n}={}){return ZN(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZN(t){return[...new Set(t)]}function JN(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function ek(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(JN(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function zE(){let t=M.useContext(cl);return by(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tk(){let t=M.useContext(uf);return by(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _y=M.createContext(void 0);_y.displayName="FrameworkContext";function BE(){let t=M.useContext(_y);return by(t,"You must render this element inside a <HydratedRouter> element"),t}function nk(t,e){let n=M.useContext(_y),[s,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let j=B=>{B.forEach(G=>{c(G.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return w.current&&N.observe(w.current),()=>{N.disconnect()}}},[t]),M.useEffect(()=>{if(s){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[s]);let R=()=>{a(!0)},O=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ru(d,R),onBlur:Ru(m,O),onMouseEnter:Ru(p,R),onMouseLeave:Ru(v,O),onTouchStart:Ru(_,R)}]:[!1,w,{}]}function Ru(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rk({page:t,...e}){let{router:n}=zE(),s=M.useMemo(()=>NE(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?M.createElement(ik,{page:t,matches:s,...e}):null}function sk(t){let{manifest:e,routeModules:n}=BE(),[s,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return XN(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function ik({page:t,matches:e,...n}){let s=ja(),{manifest:a,routeModules:l}=BE(),{basename:c}=zE(),{loaderData:d,matches:m}=tk(),p=M.useMemo(()=>Ix(t,e,m,a,s,"data"),[t,e,m,a,s]),v=M.useMemo(()=>Ix(t,e,m,a,s,"assets"),[t,e,m,a,s]),_=M.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let O=new Set,j=!1;if(e.forEach(B=>{let G=a.routes[B.route.id];!G||!G.hasLoader||(!p.some(F=>F.route.id===B.route.id)&&B.route.id in d&&l[B.route.id]?.shouldRevalidate||G.hasClientLoader?j=!0:O.add(B.route.id))}),O.size===0)return[];let N=KN(t,c,"data");return j&&O.size>0&&N.searchParams.set("_routes",e.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[N.pathname+N.search]},[c,d,s,a,p,e,t,l]),w=M.useMemo(()=>WN(v,a),[v,a]),R=sk(v);return M.createElement(M.Fragment,null,_.map(O=>M.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),w.map(O=>M.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),R.map(({key:O,link:j})=>M.createElement("link",{key:O,nonce:n.nonce,...j})))}function ak(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.9.4")}catch{}function ok({basename:t,children:e,window:n}){let s=M.useRef();s.current==null&&(s.current=YC({window:n,v5Compat:!0}));let a=s.current,[l,c]=M.useState({action:a.action,location:a.location}),d=M.useCallback(m=>{M.startTransition(()=>c(m))},[c]);return M.useLayoutEffect(()=>a.listen(d),[a,d]),M.createElement(PN,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,an=M.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:p,preventScrollReset:v,viewTransition:_,...w},R){let{basename:O}=M.useContext(ts),j=typeof p=="string"&&qE.test(p),N,B=!1;if(typeof p=="string"&&j&&(N=p,FE))try{let C=new URL(window.location.href),L=p.startsWith("//")?new URL(C.protocol+p):new URL(p),P=ks(L.pathname,O);L.origin===C.origin&&P!=null?p=P+L.search+L.hash:B=!0}catch{Zr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let G=xN(p,{relative:a}),[F,se,ae]=nk(s,w),ue=hk(p,{replace:c,state:d,target:m,preventScrollReset:v,relative:a,viewTransition:_});function k(C){e&&e(C),C.defaultPrevented||ue(C)}let A=M.createElement("a",{...w,...ae,href:N||G,onClick:B||l?e:k,ref:ak(R,se),target:m,"data-discover":!j&&n==="render"?"true":void 0});return F&&!j?M.createElement(M.Fragment,null,A,M.createElement(rk,{page:G})):A});an.displayName="Link";var lk=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...p},v){let _=fc(c,{relative:p.relative}),w=ja(),R=M.useContext(uf),{navigator:O,basename:j}=M.useContext(ts),N=R!=null&&gk(_)&&d===!0,B=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,G=w.pathname,F=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(G=G.toLowerCase(),F=F?F.toLowerCase():null,B=B.toLowerCase()),F&&j&&(F=ks(F,j)||F);const se=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let ae=G===B||!a&&G.startsWith(B)&&G.charAt(se)==="/",ue=F!=null&&(F===B||!a&&F.startsWith(B)&&F.charAt(B.length)==="/"),k={isActive:ae,isPending:ue,isTransitioning:N},A=ae?e:void 0,C;typeof s=="function"?C=s(k):C=[s,ae?"active":null,ue?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(k):l;return M.createElement(an,{...p,"aria-current":A,className:C,ref:v,style:L,to:c,viewTransition:d},typeof m=="function"?m(k):m)});lk.displayName="NavLink";var uk=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=yd,action:d,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:_,...w},R)=>{let O=mk(),j=pk(d,{relative:p}),N=c.toLowerCase()==="get"?"get":"post",B=typeof d=="string"&&qE.test(d),G=F=>{if(m&&m(F),F.defaultPrevented)return;F.preventDefault();let se=F.nativeEvent.submitter,ae=se?.getAttribute("formmethod")||c;O(se||F.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:R,method:N,action:j,onSubmit:s?m:G,...w,"data-discover":!B&&t==="render"?"true":void 0})});uk.displayName="Form";function ck(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(t){let e=M.useContext(cl);return ft(e,ck(t)),e}function hk(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Pa(),m=ja(),p=fc(t,{relative:l});return M.useCallback(v=>{if(qN(v,e)){v.preventDefault();let _=n!==void 0?n:Ku(m)===Ku(p);d(t,{replace:_,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,p,n,s,e,t,a,l,c])}var dk=0,fk=()=>`__${String(++dk)}__`;function mk(){let{router:t}=HE("useSubmit"),{basename:e}=M.useContext(ts),n=MN();return M.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:m,body:p}=$N(s,e);if(a.navigate===!1){let v=a.fetcherKey||fk();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function pk(t,{relative:e}={}){let{basename:n}=M.useContext(ts),s=M.useContext(ns);ft(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...fc(t||".",{relative:e})},c=ja();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Ku(l)}function gk(t,{relative:e}={}){let n=M.useContext(OE);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HE("useViewTransitionState"),a=fc(t,{relative:e});if(!n.isTransitioning)return!1;let l=ks(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=ks(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Vd(a.pathname,c)!=null||Vd(a.pathname,l)!=null}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Dx=t=>{const e=vk(t);return e.charAt(0).toUpperCase()+e.slice(1)},GE=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),bk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},m)=>M.createElement("svg",{ref:m,..._k,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:GE("lucide",a),...!l&&!bk(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>M.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=(t,e)=>{const n=M.forwardRef(({className:s,...a},l)=>M.createElement(xk,{ref:l,iconNode:e,className:GE(`lucide-${yk(Dx(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Dx(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jo=nt("arrow-right",Tk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ek=nt("chevron-down",wk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ak=nt("chevron-left",Sk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ck=nt("chevron-right",Rk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],kk=nt("credit-card",Nk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Dk=nt("crown",Ik);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vg=nt("eye-off",Mk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bg=nt("eye",Vk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],jk=nt("gift",Ok);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Fr=nt("heart",Pk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Uk=nt("instagram",Lk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bk=nt("loader-circle",zk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_g=nt("lock",Fk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Mx=nt("log-in",qk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xg=nt("log-out",Hk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],$E=nt("mail",Gk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],KE=nt("menu",$k);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yk=nt("minus",Kk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],_a=nt("package",Qk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Wk=nt("plus",Xk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ad=nt("search",Zk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eI=nt("settings",Jk);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Yu=nt("shopping-bag",tI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],YE=nt("trash-2",nI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Aa=nt("user",rI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bd=nt("x",sI);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aI=nt("zap",iI),oI="/assets/female-8R8JvTlq.png",lI="/assets/bmw-jqqQSC5j.jpg",uI="/assets/duo-B_srlcRj.jpg",cI=()=>{const[t,e]=M.useState(0),n=[{image:lI,title:"SUMMER DROP 2024",subtitle:"Bold styles for the season. Heat Wave Collection",ctaText:"Shop Now",ctaLink:"/shop"},{image:oI,title:"URBAN ESSENTIALS",subtitle:"Timeless pieces, modern edge. Street Ready",ctaText:"Explore",ctaLink:"/collections"},{image:uI,title:"URBAN ESSENTIALS",subtitle:"Timeless pieces, modern edge. Street Ready",ctaText:"Explore",ctaLink:"/collections"}];M.useEffect(()=>{const l=setInterval(()=>{e(c=>(c+1)%n.length)},5e3);return()=>clearInterval(l)},[n.length]);const s=()=>{e(l=>(l+1)%n.length)},a=()=>{e(l=>(l-1+n.length)%n.length)};return y.jsxs("section",{className:"relative h-screen overflow-hidden bg-black",children:[n.map((l,c)=>y.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ${c===t?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[y.jsxs("div",{className:"absolute inset-0",children:[y.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),y.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:y.jsxs("div",{className:"max-w-5xl",children:[y.jsx("h1",{className:"text-5xl sm:text-6xl md:text-8xl font-black text-white mb-6 tracking-tight leading-tight animate-fade-in",children:l.title}),y.jsx("p",{className:"text-lg sm:text-xl md:text-2xl text-white/90 mb-10 max-w-2xl mx-auto",children:l.subtitle}),y.jsx("a",{href:l.ctaLink,className:"inline-block px-10 py-4 bg-white text-black font-bold rounded-full hover:bg-black hover:text-white hover:scale-105 transition-all duration-300 border-2 border-white",children:l.ctaText})]})})]},c)),y.jsx("button",{onClick:a,className:"absolute left-4 sm:left-8 top-1/2 -translate-y-1/2 p-3 bg-white/20 backdrop-blur-sm hover:bg-white/40 rounded-full transition-all z-10 group",children:y.jsx(Ak,{className:"w-6 h-6 text-white"})}),y.jsx("button",{onClick:s,className:"absolute right-4 sm:right-8 top-1/2 -translate-y-1/2 p-3 bg-white/20 backdrop-blur-sm hover:bg-white/40 rounded-full transition-all z-10 group",children:y.jsx(Ck,{className:"w-6 h-6 text-white"})}),y.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-3 z-10",children:n.map((l,c)=>y.jsx("button",{onClick:()=>e(c),className:`transition-all duration-300 rounded-full ${c===t?"w-12 h-3 bg-white":"w-3 h-3 bg-white/50 hover:bg-white/75"}`},c))})]})},hI=()=>{const t=[{name:"New Arrivals",count:"24 items",link:"/collections/new",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=500&h=500&fit=crop"},{name:"Best Sellers",count:"18 items",link:"/collections/bestsellers",image:"https://images.unsplash.com/photo-1602810318383-e386cc2a3ccf?w=500&h=500&fit=crop"},{name:"Limited Edition",count:"8 items",link:"/collections/limited",image:"https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=500&h=500&fit=crop"}];return y.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-4xl font-bold mb-4 dark:text-white",children:"Shop by Category"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Curated collections for every style"})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:t.map((e,n)=>y.jsxs("a",{href:e.link,className:"group relative h-80 rounded-2xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:[y.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),y.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/30 transition-all duration-300"}),y.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[y.jsx("h3",{className:"text-2xl font-bold mb-2",children:e.name}),y.jsx("p",{className:"text-white/80 mb-4",children:e.count}),y.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300",children:[y.jsx("span",{className:"text-sm font-medium",children:"Explore"}),y.jsx(Jo,{className:"w-4 h-4"})]})]})]},n))})]})},dI=()=>{};var Vx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},fI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],c=t[n++],d=t[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const l=t[n++],c=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],c=a+1<t.length,d=c?t[a+1]:0,m=a+2<t.length,p=m?t[a+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let w=(d&15)<<2|p>>6,R=p&63;m||(R=64,c||(w=64)),s.push(n[v],n[_],n[w],n[R])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],d=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const _=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||d==null||p==null||_==null)throw new mI;const w=l<<2|d>>4;if(s.push(w),p!==64){const R=d<<4&240|p>>2;if(s.push(R),_!==64){const O=p<<6&192|_;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pI=function(t){const e=QE(t);return XE.encodeByteArray(e,!0)},Od=function(t){return pI(t).replace(/\./g,"")},WE=function(t){try{return XE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=()=>gI().__FIREBASE_DEFAULTS__,vI=()=>{if(typeof process>"u"||typeof Vx>"u")return;const t=Vx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WE(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return dI()||yI()||vI()||bI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZE=t=>hf()?.emulatorHosts?.[t],JE=t=>{const e=ZE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},e1=()=>hf()?.config,t1=t=>hf()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(c)),""].join(".")}const ju={};function xI(){const t={prod:[],emulator:[]};for(const e of Object.keys(ju))ju[e]?t.emulator.push(e):t.prod.push(e);return t}function TI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ox=!1;function Ty(t,e){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||ju[t]===e||ju[t]||Ox)return;ju[t]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=xI().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function m(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Ox=!0,c()},w}function v(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=TI(s),R=n("text"),O=document.getElementById(R)||document.createElement("span"),j=n("learnmore"),N=document.getElementById(j)||document.createElement("a"),B=n("preprendIcon"),G=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;d(F),v(N,j);const se=p();m(G,B),F.append(G,O,N,se),document.body.appendChild(F)}l?(O.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function EI(){const t=hf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function RI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CI(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NI(){return!EI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kI(){try{return typeof indexedDB=="object"}catch{return!1}}function II(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";class rs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=DI,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?MI(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new rs(a,d,s)}}function MI(t,e){return t.replace(VI,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const VI=/\{\$([^}]+)}/g;function OI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],c=e[a];if(jx(l)&&jx(c)){if(!ka(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function jx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Nu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jI(t,e){const n=new PI(t,e);return n.subscribe.bind(n)}class PI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");LI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Fp),a.error===void 0&&(a.error=Fp),a.complete===void 0&&(a.complete=Fp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t){return t&&t._delegate?t._delegate:t}class ki{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new _I;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BI(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(t){return t===xa?void 0:t}function BI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const qI={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},HI=je.INFO,GI={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},$I=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=GI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wy{constructor(e){this.name=e,this._logLevel=HI,this._logHandler=$I,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const KI=(t,e)=>e.some(n=>t instanceof n);let Px,Lx;function YI(){return Px||(Px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QI(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r1=new WeakMap,Tg=new WeakMap,s1=new WeakMap,qp=new WeakMap,Ey=new WeakMap;function XI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(Ai(t.result)),a()},c=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&r1.set(n,t)}).catch(()=>{}),Ey.set(e,t),e}function WI(t){if(Tg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Tg.set(t,e)}let wg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||s1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZI(t){wg=t(wg)}function JI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Hp(this),e,...n);return s1.set(s,e.sort?e.sort():[e]),Ai(s)}:QI().includes(t)?function(...e){return t.apply(Hp(this),e),Ai(r1.get(this))}:function(...e){return Ai(t.apply(Hp(this),e))}}function eD(t){return typeof t=="function"?JI(t):(t instanceof IDBTransaction&&WI(t),KI(t,YI())?new Proxy(t,wg):t)}function Ai(t){if(t instanceof IDBRequest)return XI(t);if(qp.has(t))return qp.get(t);const e=eD(t);return e!==t&&(qp.set(t,e),Ey.set(e,t)),e}const Hp=t=>Ey.get(t);function tD(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(t,e),d=Ai(c);return s&&c.addEventListener("upgradeneeded",m=>{s(Ai(c.result),m.oldVersion,m.newVersion,Ai(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const nD=["get","getKey","getAll","getAllKeys","count"],rD=["put","add","delete","clear"],Gp=new Map;function Ux(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=rD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||nD.includes(n)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),a&&m.done]))[0]};return Gp.set(e,l),l}ZI(t=>({...t,get:(e,n,s)=>Ux(e,n)||t.get(e,n,s),has:(e,n)=>!!Ux(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function iD(t){return t.getComponent()?.type==="VERSION"}const Eg="@firebase/app",zx="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new wy("@firebase/app"),aD="@firebase/app-compat",oD="@firebase/analytics-compat",lD="@firebase/analytics",uD="@firebase/app-check-compat",cD="@firebase/app-check",hD="@firebase/auth",dD="@firebase/auth-compat",fD="@firebase/database",mD="@firebase/data-connect",pD="@firebase/database-compat",gD="@firebase/functions",yD="@firebase/functions-compat",vD="@firebase/installations",bD="@firebase/installations-compat",_D="@firebase/messaging",xD="@firebase/messaging-compat",TD="@firebase/performance",wD="@firebase/performance-compat",ED="@firebase/remote-config",SD="@firebase/remote-config-compat",AD="@firebase/storage",RD="@firebase/storage-compat",CD="@firebase/firestore",ND="@firebase/ai",kD="@firebase/firestore-compat",ID="firebase",DD="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg="[DEFAULT]",MD={[Eg]:"fire-core",[aD]:"fire-core-compat",[lD]:"fire-analytics",[oD]:"fire-analytics-compat",[cD]:"fire-app-check",[uD]:"fire-app-check-compat",[hD]:"fire-auth",[dD]:"fire-auth-compat",[fD]:"fire-rtdb",[mD]:"fire-data-connect",[pD]:"fire-rtdb-compat",[gD]:"fire-fn",[yD]:"fire-fn-compat",[vD]:"fire-iid",[bD]:"fire-iid-compat",[_D]:"fire-fcm",[xD]:"fire-fcm-compat",[TD]:"fire-perf",[wD]:"fire-perf-compat",[ED]:"fire-rc",[SD]:"fire-rc-compat",[AD]:"fire-gcs",[RD]:"fire-gcs-compat",[CD]:"fire-fst",[kD]:"fire-fst-compat",[ND]:"fire-vertex","fire-js":"fire-js",[ID]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,VD=new Map,Ag=new Map;function Bx(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ia(t){const e=t.name;if(Ag.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Ag.set(e,t);for(const n of jd.values())Bx(n,t);for(const n of VD.values())Bx(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new mc("app","Firebase",OD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=DD;function i1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Sg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ri.create("bad-app-name",{appName:String(a)});if(n||(n=e1()),!n)throw Ri.create("no-options");const l=jd.get(a);if(l){if(ka(n,l.options)&&ka(s,l.config))return l;throw Ri.create("duplicate-app",{appName:a})}const c=new FI(a);for(const m of Ag.values())c.addComponent(m);const d=new jD(n,s,c);return jd.set(a,d),d}function Sy(t=Sg){const e=jd.get(t);if(!e&&t===Sg&&e1())return i1();if(!e)throw Ri.create("no-app",{appName:t});return e}function qr(t,e,n){let s=MD[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(c.join(" "));return}Ia(new ki(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD="firebase-heartbeat-database",LD=1,Qu="firebase-heartbeat-store";let $p=null;function a1(){return $p||($p=tD(PD,LD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),$p}async function UD(t){try{const n=(await a1()).transaction(Qu),s=await n.objectStore(Qu).get(o1(t));return await n.done,s}catch(e){if(e instanceof rs)Is.warn(e.message);else{const n=Ri.create("idb-get",{originalErrorMessage:e?.message});Is.warn(n.message)}}}async function Fx(t,e){try{const s=(await a1()).transaction(Qu,"readwrite");await s.objectStore(Qu).put(e,o1(t)),await s.done}catch(n){if(n instanceof rs)Is.warn(n.message);else{const s=Ri.create("idb-set",{originalErrorMessage:n?.message});Is.warn(s.message)}}}function o1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=1024,BD=30;class FD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>BD){const a=GD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qx(),{heartbeatsToSend:n,unsentEntries:s}=qD(this._heartbeatsCache.heartbeats),a=Od(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Is.warn(e),""}}}function qx(){return new Date().toISOString().substring(0,10)}function qD(t,e=zD){const n=[];let s=t.slice();for(const a of t){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),Hx(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hx(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kI()?II().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UD(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Hx(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function GD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){Ia(new ki("platform-logger",e=>new sD(e),"PRIVATE")),Ia(new ki("heartbeat",e=>new FD(e),"PRIVATE")),qr(Eg,zx,t),qr(Eg,zx,"esm2020"),qr("fire-js","")}$D("");var KD="firebase",YD="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(KD,YD,"app");function l1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QD=l1,u1=new mc("auth","Firebase",l1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=new wy("@firebase/auth");function XD(t,...e){Pd.logLevel<=je.WARN&&Pd.warn(`Auth (${Ua}): ${t}`,...e)}function _d(t,...e){Pd.logLevel<=je.ERROR&&Pd.error(`Auth (${Ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t,...e){throw Ay(t,...e)}function Hr(t,...e){return Ay(t,...e)}function c1(t,e,n){const s={...QD(),[e]:n};return new mc("auth","Firebase",s).create(e,{appName:t.name})}function Rs(t){return c1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ay(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return u1.create(t,...e)}function _e(t,e,...n){if(!t)throw Ay(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _d(e),new Error(e)}function Ds(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(){return typeof self<"u"&&self.location?.href||""}function WD(){return Gx()==="http:"||Gx()==="https:"}function Gx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(WD()||AI()||"connection"in navigator)?navigator.onLine:!0}function JD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=wI()||RI()}get(){return ZD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n4=new gc(3e4,6e4);function zi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ls(t,e,n,s,a={}){return d1(t,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=pc({key:t.config.apiKey,...c}).slice(1),m=await t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:m,...l};return SI()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&La(t.emulatorConfig.host)&&(p.credentials="include"),h1.fetch()(await f1(t,t.config.apiHost,n,d),p)})}async function d1(t,e,n){t._canInitEmulator=!1;const s={...e4,...e};try{const a=new s4(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw od(t,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,p]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw od(t,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw od(t,"email-already-in-use",c);if(m==="USER_DISABLED")throw od(t,"user-disabled",c);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw c1(t,v,p);yr(t,v)}}catch(a){if(a instanceof rs)throw a;yr(t,"network-request-failed",{message:String(a)})}}async function yc(t,e,n,s,a={}){const l=await Ls(t,e,n,s,a);return"mfaPendingCredential"in l&&yr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function f1(t,e,n,s){const a=`${e}${n}?${s}`,l=t,c=l.config.emulator?Ry(t.config,a):`${t.config.apiScheme}://${a}`;return t4.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function r4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hr(this.auth,"network-request-failed")),n4.get())})}}function od(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=Hr(t,e,s);return a.customData._tokenResponse=n,a}function $x(t){return t!==void 0&&t.enterprise!==void 0}class i4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a4(t,e){return Ls(t,"GET","/v2/recaptchaConfig",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){return Ls(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return Ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l4(t,e=!1){const n=tn(t),s=await n.getIdToken(e),a=Cy(s);_e(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:Pu(Kp(a.auth_time)),issuedAtTime:Pu(Kp(a.iat)),expirationTime:Pu(Kp(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Kp(t){return Number(t)*1e3}function Cy(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const a=WE(n);return a?JSON.parse(a):(_d("Failed to decode base64 JWT payload"),null)}catch(a){return _d("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Kx(t){const e=Cy(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof rs&&u4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function u4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){const e=t.auth,n=await t.getIdToken(),s=await el(t,Ld(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?m1(a.providerUserInfo):[],c=d4(t.providerData,l),d=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!c?.length,p=d?m:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Cg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function h4(t){const e=tn(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d4(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function m1(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e){const n=await d1(t,{},async()=>{const s=pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,c=await f1(t,a,"/v1/token",`key=${l}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:s};return t.emulatorConfig&&La(t.emulatorConfig.host)&&(m.credentials="include"),h1.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m4(t,e){return Ls(t,"POST","/v2/accounts:revokeToken",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Kx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await f4(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,c=new Ko;return s&&(_e(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(_e(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(_e(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new c4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l4(this,e)}reload(){return h4(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Rs(this.auth));const e=await this.getIdToken();return await el(this,o4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:R,providerData:O,stsTokenManager:j}=n;_e(_&&j,e,"internal-error");const N=Ko.fromJSON(this.name,j);_e(typeof _=="string",e,"internal-error"),vi(s,e.name),vi(a,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof R=="boolean",e,"internal-error"),vi(l,e.name),vi(c,e.name),vi(d,e.name),vi(m,e.name),vi(p,e.name),vi(v,e.name);const B=new fr({uid:_,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:R,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:N,createdAt:p,lastLoginAt:v});return O&&Array.isArray(O)&&(B.providerData=O.map(G=>({...G}))),m&&(B._redirectEventId=m),B}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ko;a.updateFromServerResponse(n);const l=new fr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ud(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];_e(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?m1(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new Ko;d.updateFromIdToken(s);const m=new fr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function Ss(t){Ds(t instanceof Function,"Expected a class definition");let e=Yx.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}p1.type="NONE";const Qx=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yo(Ss(Qx),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ss(Qx);const c=xd(s,e.config.apiKey,e.name);let d=null;for(const p of n)try{const v=await p._get(c);if(v){let _;if(typeof v=="string"){const w=await Ld(e,{idToken:v}).catch(()=>{});if(!w)break;_=await fr._fromGetAccountInfoResponse(e,w,v)}else _=fr._fromJSON(e,v);p!==l&&(d=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Yo(l,e,s):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Yo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x1(e))return"Blackberry";if(T1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(_1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function g1(t=cn()){return/firefox\//i.test(t)}function y1(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(t=cn()){return/crios\//i.test(t)}function b1(t=cn()){return/iemobile/i.test(t)}function _1(t=cn()){return/android/i.test(t)}function x1(t=cn()){return/blackberry/i.test(t)}function T1(t=cn()){return/webos/i.test(t)}function Ny(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function p4(t=cn()){return Ny(t)&&!!window.navigator?.standalone}function g4(){return CI()&&document.documentMode===10}function w1(t=cn()){return Ny(t)||_1(t)||T1(t)||x1(t)||/windows phone/i.test(t)||b1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e=[]){let n;switch(t){case"Browser":n=Xx(cn());break;case"Worker":n=`${Xx(cn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ua}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v4(t,e={}){return Ls(t,"GET","/v2/passwordPolicy",zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=6;class _4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??b4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wx(this),this.idTokenSubscription=new Wx(this),this.beforeStateQueue=new y4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),s=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(s=d.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Rs(this));const n=e?tn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v4(this),n=new _4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await m4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,a);return()=>{c=!0,m()}}else{const m=e.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&XD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function za(t){return tn(t)}class Wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function T4(t){ff=t}function S1(t){return ff.loadJS(t)}function w4(){return ff.recaptchaEnterpriseScript}function E4(){return ff.gapiScript}function S4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class A4{constructor(){this.enterprise=new R4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class R4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const C4="recaptcha-enterprise",A1="NO_RECAPTCHA";class N4{constructor(e){this.type=C4,this.auth=za(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{a4(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new i4(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;$x(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(A1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new A4().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!n&&$x(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=w4();m.length!==0&&(m+=d),S1(m).then(()=>{a(d,l,c)}).catch(p=>{c(p)})}}).catch(d=>{c(d)})})}}async function Zx(t,e,n,s=!1,a=!1){const l=new N4(t);let c;if(a)c=A1;else try{c=await l.verify(n)}catch{c=await l.verify(n,!0)}const d={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ng(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Zx(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Zx(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e){const n=df(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ka(l,e??{}))return a;yr(a,"already-initialized")}return n.initialize({options:e})}function I4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function D4(t,e,n){const s=za(t);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=R1(e),{host:c,port:d}=M4(e),m=d===null?"":`:${d}`,p={url:`${l}//${c}${m}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(ka(p,s.config.emulator)&&ka(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,La(c)?(xy(`${l}//${c}${m}`),Ty("Auth",!0)):V4()}function R1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M4(t){const e=R1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Jx(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Jx(c)}}}function Jx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function V4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function O4(t,e){return Ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(t,e){return yc(t,"POST","/v1/accounts:signInWithPassword",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}async function L4(t,e){return yc(t,"POST","/v1/accounts:signInWithEmailLink",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends ky{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Xu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,n,"signInWithPassword",j4);case"emailLink":return P4(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ng(e,s,"signUpPassword",O4);case"emailLink":return L4(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t,e){return yc(t,"POST","/v1/accounts:signInWithIdp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="http://localhost";class Da extends ky{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const c=new Da(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:U4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B4(t){const e=Nu(ku(t)).link,n=e?Nu(ku(e)).deep_link_id:null,s=Nu(ku(t)).deep_link_id;return(s?Nu(ku(s)).link:null)||s||n||e||t}class Iy{constructor(e){const n=Nu(ku(e)),s=n.apiKey??null,a=n.oobCode??null,l=z4(n.mode??null);_e(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=B4(e);try{return new Iy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,n){return Xu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Iy.parseLink(n);return _e(s,"argument-error"),Xu._fromEmailAndCode(e,s.code,s.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends C1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends vc{constructor(){super("facebook.com")}static credential(e){return Da._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Da._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ti.credential(n,s)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends vc{constructor(){super("github.com")}static credential(e){return Da._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wi.credential(e.oauthAccessToken)}catch{return null}}}wi.GITHUB_SIGN_IN_METHOD="github.com";wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends vc{constructor(){super("twitter.com")}static credential(e,n){return Da._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ei.credential(n,s)}catch{return null}}}Ei.TWITTER_SIGN_IN_METHOD="twitter.com";Ei.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){return yc(t,"POST","/v1/accounts:signUp",zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await fr._fromIdTokenResponse(e,s,a),c=eT(s);return new Ma({user:l,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=eT(s);return new Ma({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function eT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd extends rs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new zd(e,n,s,a)}}function N1(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(t,l,e,s):l})}async function q4(t,e,n=!1){const s=await el(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ma._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(t,e,n=!1){const{auth:s}=t;if(Mn(s.app))return Promise.reject(Rs(s));const a="reauthenticate";try{const l=await el(t,N1(s,a,e,t),n);_e(l.idToken,s,"internal-error");const c=Cy(l.idToken);_e(c,s,"internal-error");const{sub:d}=c;return _e(t.uid===d,s,"user-mismatch"),Ma._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&yr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(t,e,n=!1){if(Mn(t.app))return Promise.reject(Rs(t));const s="signIn",a=await N1(t,s,e),l=await Ma._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function G4(t,e){return k1(za(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(t){const e=za(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $4(t,e,n){if(Mn(t.app))return Promise.reject(Rs(t));const s=za(t),c=await Ng(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",F4).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&I1(t),m}),d=await Ma._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function K4(t,e,n){return Mn(t.app)?Promise.reject(Rs(t)):G4(tn(t),hl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&I1(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e){return Ls(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=tn(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await el(s,Y4(s.auth,l));s.displayName=c.displayName||null,s.photoURL=c.photoUrl||null;const d=s.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(c)}function X4(t,e,n,s){return tn(t).onIdTokenChanged(e,n,s)}function W4(t,e,n){return tn(t).beforeAuthStateChanged(e,n)}function Dy(t,e,n,s){return tn(t).onAuthStateChanged(e,n,s)}function D1(t){return tn(t).signOut()}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4=1e3,J4=10;class V1 extends M1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);g4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,J4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Z4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}V1.type="LOCAL";const eM=V1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1 extends M1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O1.type="SESSION";const j1=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new mf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async p=>p(n.origin,l)),m=await tM(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const p=My("",20);a.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(v),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function rM(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function sM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iM(){return navigator?.serviceWorker?.controller||null}function aM(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebaseLocalStorageDb",oM=1,Fd="firebaseLocalStorage",U1="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function lM(){const t=indexedDB.deleteDatabase(L1);return new bc(t).toPromise()}function kg(){const t=indexedDB.open(L1,oM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Fd,{keyPath:U1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Fd)?e(s):(s.close(),await lM(),e(await kg()))})})}async function tT(t,e,n){const s=pf(t,!0).put({[U1]:e,value:n});return new bc(s).toPromise()}async function uM(t,e){const n=pf(t,!1).get(e),s=await new bc(n).toPromise();return s===void 0?null:s.value}function nT(t,e){const n=pf(t,!0).delete(e);return new bc(n).toPromise()}const cM=800,hM=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(aM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sM(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await kg();return await tT(e,Bd,"1"),await nT(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>tT(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=pf(a,!1).getAll();return new bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const dM=z1;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t,e){return e?Ss(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends ky{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mM(t){return k1(t.auth,new Vy(t),t.bypassAuthState)}function pM(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),H4(n,new Vy(t),t.bypassAuthState)}async function gM(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),q4(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mM;case"linkViaPopup":case"linkViaRedirect":return gM;case"reauthViaPopup":case"reauthViaRedirect":return pM;default:yr(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new gc(2e3,1e4);class zo extends B1{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,zo.currentPopupAction&&zo.currentPopupAction.cancel(),zo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yM.get())};e()}}zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM="pendingRedirect",Td=new Map;class bM extends B1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Td.get(this.auth._key());if(!e){try{const s=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(t,e){const n=wM(e),s=TM(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function xM(t,e){Td.set(t._key(),e)}function TM(t){return Ss(t._redirectPersistence)}function wM(t){return xd(vM,t.config.apiKey,t.name)}async function EM(t,e,n=!1){if(Mn(t.app))return Promise.reject(Rs(t));const s=za(t),a=fM(s,e),c=await new bM(s,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=600*1e3;class AM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!F1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SM&&this.cachedEventUids.clear(),this.cachedEventUids.has(rT(e))}saveEventToCache(e){this.cachedEventUids.add(rT(e)),this.lastProcessedEventTime=Date.now()}}function rT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function RM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e={}){return Ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kM=/^https?/;async function IM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await CM(t);for(const n of e)try{if(DM(n))return}catch{}yr(t,"unauthorized-domain")}function DM(t){const e=Rg(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!kM.test(n))return!1;if(NM.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new gc(3e4,6e4);function sT(){const t=Gr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VM(t){return new Promise((e,n)=>{function s(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),n(Hr(t,"network-request-failed"))},timeout:MM.get()})}if(Gr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Gr().gapi?.load)s();else{const a=S4("iframefcb");return Gr()[a]=()=>{gapi.load?s():n(Hr(t,"network-request-failed"))},S1(`${E4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wd=null,e})}let wd=null;function OM(t){return wd=wd||VM(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=new gc(5e3,15e3),PM="__/auth/iframe",LM="emulator/auth/iframe",UM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BM(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ry(e,LM):`https://${t.config.authDomain}/${PM}`,s={apiKey:e.apiKey,appName:t.name,v:Ua},a=zM.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${pc(s).slice(1)}`}async function FM(t){const e=await OM(t),n=Gr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:BM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Hr(t,"network-request-failed"),d=Gr().setTimeout(()=>{l(c)},jM.get());function m(){Gr().clearTimeout(d),a(s)}s.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HM=500,GM=600,$M="_blank",KM="http://localhost";class iT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YM(t,e,n,s=HM,a=GM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const m={...qM,width:s.toString(),height:a.toString(),top:l,left:c},p=cn().toLowerCase();n&&(d=v1(p)?$M:n),g1(p)&&(e=e||KM,m.scrollbars="yes");const v=Object.entries(m).reduce((w,[R,O])=>`${w}${R}=${O},`,"");if(p4(p)&&d!=="_self")return QM(e||"",d),new iT(null);const _=window.open(e||"",d,v);_e(_,t,"popup-blocked");try{_.focus()}catch{}return new iT(_)}function QM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="__/auth/handler",WM="emulator/auth/handler",ZM=encodeURIComponent("fac");async function aT(t,e,n,s,a,l){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ua,eventId:a};if(e instanceof C1){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",OI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof vc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}t.tenantId&&(c.tid=t.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await t._getAppCheckToken(),p=m?`#${ZM}=${encodeURIComponent(m)}`:"";return`${JM(t)}?${pc(d).slice(1)}${p}`}function JM({config:t}){return t.emulator?Ry(t,WM):`https://${t.authDomain}/${XM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class eV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j1,this._completeRedirectFn=EM,this._overrideRedirectResult=xM}async _openPopup(e,n,s,a){Ds(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await aT(e,n,s,Rg(),a);return YM(e,l,My())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await aT(e,n,s,Rg(),a);return rM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ds(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FM(e),s=new AM(e);return n.register("authEvent",a=>(_e(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},a=>{const l=a?.[0]?.[Yp];l!==void 0&&n(!!l),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w1()||y1()||Ny()}}const tV=eV;var oT="@firebase/auth",lT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sV(t){Ia(new ki("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;_e(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:c,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(t)},p=new x4(s,a,l,m);return I4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ia(new ki("auth-internal",e=>{const n=za(e.getProvider("auth").getImmediate());return(s=>new nV(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(oT,lT,rV(t)),qr(oT,lT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=300,aV=t1("authIdTokenMaxAge")||iV;let uT=null;const oV=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aV)return;const a=n?.token;uT!==a&&(uT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function q1(t=Sy()){const e=df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k4(t,{popupRedirectResolver:tV,persistence:[dM,eM,j1]}),s=t1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oV(l.toString());W4(n,c,()=>c(n.currentUser)),X4(n,d=>c(d))}}const a=ZE("auth");return a&&D4(n,`http://${a}`),n}function lV(){return document.getElementsByTagName("head")?.[0]??document}T4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=Hr("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",lV().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sV("Browser");var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,H1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function C(){}C.prototype=A.prototype,k.F=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(L,P,D){for(var I=Array(arguments.length-2),He=2;He<arguments.length;He++)I[He-2]=arguments[He];return A.prototype[P].apply(L,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,A,C){C||(C=0);const L=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)L[P]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(P=0;P<16;++P)L[P]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],P=k.g[2];let D=k.g[3],I;I=A+(D^C&(P^D))+L[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=D+(P^A&(C^P))+L[1]+3905402710&4294967295,D=A+(I<<12&4294967295|I>>>20),I=P+(C^D&(A^C))+L[2]+606105819&4294967295,P=D+(I<<17&4294967295|I>>>15),I=C+(A^P&(D^A))+L[3]+3250441966&4294967295,C=P+(I<<22&4294967295|I>>>10),I=A+(D^C&(P^D))+L[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=D+(P^A&(C^P))+L[5]+1200080426&4294967295,D=A+(I<<12&4294967295|I>>>20),I=P+(C^D&(A^C))+L[6]+2821735955&4294967295,P=D+(I<<17&4294967295|I>>>15),I=C+(A^P&(D^A))+L[7]+4249261313&4294967295,C=P+(I<<22&4294967295|I>>>10),I=A+(D^C&(P^D))+L[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=D+(P^A&(C^P))+L[9]+2336552879&4294967295,D=A+(I<<12&4294967295|I>>>20),I=P+(C^D&(A^C))+L[10]+4294925233&4294967295,P=D+(I<<17&4294967295|I>>>15),I=C+(A^P&(D^A))+L[11]+2304563134&4294967295,C=P+(I<<22&4294967295|I>>>10),I=A+(D^C&(P^D))+L[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=D+(P^A&(C^P))+L[13]+4254626195&4294967295,D=A+(I<<12&4294967295|I>>>20),I=P+(C^D&(A^C))+L[14]+2792965006&4294967295,P=D+(I<<17&4294967295|I>>>15),I=C+(A^P&(D^A))+L[15]+1236535329&4294967295,C=P+(I<<22&4294967295|I>>>10),I=A+(P^D&(C^P))+L[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=D+(C^P&(A^C))+L[6]+3225465664&4294967295,D=A+(I<<9&4294967295|I>>>23),I=P+(A^C&(D^A))+L[11]+643717713&4294967295,P=D+(I<<14&4294967295|I>>>18),I=C+(D^A&(P^D))+L[0]+3921069994&4294967295,C=P+(I<<20&4294967295|I>>>12),I=A+(P^D&(C^P))+L[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=D+(C^P&(A^C))+L[10]+38016083&4294967295,D=A+(I<<9&4294967295|I>>>23),I=P+(A^C&(D^A))+L[15]+3634488961&4294967295,P=D+(I<<14&4294967295|I>>>18),I=C+(D^A&(P^D))+L[4]+3889429448&4294967295,C=P+(I<<20&4294967295|I>>>12),I=A+(P^D&(C^P))+L[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=D+(C^P&(A^C))+L[14]+3275163606&4294967295,D=A+(I<<9&4294967295|I>>>23),I=P+(A^C&(D^A))+L[3]+4107603335&4294967295,P=D+(I<<14&4294967295|I>>>18),I=C+(D^A&(P^D))+L[8]+1163531501&4294967295,C=P+(I<<20&4294967295|I>>>12),I=A+(P^D&(C^P))+L[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=D+(C^P&(A^C))+L[2]+4243563512&4294967295,D=A+(I<<9&4294967295|I>>>23),I=P+(A^C&(D^A))+L[7]+1735328473&4294967295,P=D+(I<<14&4294967295|I>>>18),I=C+(D^A&(P^D))+L[12]+2368359562&4294967295,C=P+(I<<20&4294967295|I>>>12),I=A+(C^P^D)+L[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=D+(A^C^P)+L[8]+2272392833&4294967295,D=A+(I<<11&4294967295|I>>>21),I=P+(D^A^C)+L[11]+1839030562&4294967295,P=D+(I<<16&4294967295|I>>>16),I=C+(P^D^A)+L[14]+4259657740&4294967295,C=P+(I<<23&4294967295|I>>>9),I=A+(C^P^D)+L[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=D+(A^C^P)+L[4]+1272893353&4294967295,D=A+(I<<11&4294967295|I>>>21),I=P+(D^A^C)+L[7]+4139469664&4294967295,P=D+(I<<16&4294967295|I>>>16),I=C+(P^D^A)+L[10]+3200236656&4294967295,C=P+(I<<23&4294967295|I>>>9),I=A+(C^P^D)+L[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=D+(A^C^P)+L[0]+3936430074&4294967295,D=A+(I<<11&4294967295|I>>>21),I=P+(D^A^C)+L[3]+3572445317&4294967295,P=D+(I<<16&4294967295|I>>>16),I=C+(P^D^A)+L[6]+76029189&4294967295,C=P+(I<<23&4294967295|I>>>9),I=A+(C^P^D)+L[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=D+(A^C^P)+L[12]+3873151461&4294967295,D=A+(I<<11&4294967295|I>>>21),I=P+(D^A^C)+L[15]+530742520&4294967295,P=D+(I<<16&4294967295|I>>>16),I=C+(P^D^A)+L[2]+3299628645&4294967295,C=P+(I<<23&4294967295|I>>>9),I=A+(P^(C|~D))+L[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=D+(C^(A|~P))+L[7]+1126891415&4294967295,D=A+(I<<10&4294967295|I>>>22),I=P+(A^(D|~C))+L[14]+2878612391&4294967295,P=D+(I<<15&4294967295|I>>>17),I=C+(D^(P|~A))+L[5]+4237533241&4294967295,C=P+(I<<21&4294967295|I>>>11),I=A+(P^(C|~D))+L[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=D+(C^(A|~P))+L[3]+2399980690&4294967295,D=A+(I<<10&4294967295|I>>>22),I=P+(A^(D|~C))+L[10]+4293915773&4294967295,P=D+(I<<15&4294967295|I>>>17),I=C+(D^(P|~A))+L[1]+2240044497&4294967295,C=P+(I<<21&4294967295|I>>>11),I=A+(P^(C|~D))+L[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=D+(C^(A|~P))+L[15]+4264355552&4294967295,D=A+(I<<10&4294967295|I>>>22),I=P+(A^(D|~C))+L[6]+2734768916&4294967295,P=D+(I<<15&4294967295|I>>>17),I=C+(D^(P|~A))+L[13]+1309151649&4294967295,C=P+(I<<21&4294967295|I>>>11),I=A+(P^(C|~D))+L[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=D+(C^(A|~P))+L[11]+3174756917&4294967295,D=A+(I<<10&4294967295|I>>>22),I=P+(A^(D|~C))+L[2]+718787259&4294967295,P=D+(I<<15&4294967295|I>>>17),I=C+(D^(P|~A))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+D&4294967295}s.prototype.v=function(k,A){A===void 0&&(A=k.length);const C=A-this.blockSize,L=this.C;let P=this.h,D=0;for(;D<A;){if(P==0)for(;D<=C;)a(this,k,D),D+=this.blockSize;if(typeof k=="string"){for(;D<A;)if(L[P++]=k.charCodeAt(D++),P==this.blockSize){a(this,L),P=0;break}}else for(;D<A;)if(L[P++]=k[D++],P==this.blockSize){a(this,L),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;A=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=A&255,A/=256;for(this.v(k),k=Array(16),A=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)k[A++]=this.g[C]>>>L&255;return k};function l(k,A){var C=d;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function c(k,A){this.h=A;const C=[];let L=!0;for(let P=k.length-1;P>=0;P--){const D=k[P]|0;L&&D==A||(C[P]=D,L=!1)}this.g=C}var d={};function m(k){return-128<=k&&k<128?l(k,function(A){return new c([A|0],A<0?-1:0)}):new c([k|0],k<0?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(k<0)return N(p(-k));const A=[];let C=1;for(let L=0;k>=C;L++)A[L]=k/C|0,C*=4294967296;return new c(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return N(v(k.substring(1),A));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(A,8));let L=_;for(let D=0;D<k.length;D+=8){var P=Math.min(8,k.length-D);const I=parseInt(k.substring(D,D+P),A);P<8?(P=p(Math.pow(A,P)),L=L.j(P).add(p(I))):(L=L.j(C),L=L.add(p(I)))}return L}var _=m(0),w=m(1),R=m(16777216);t=c.prototype,t.m=function(){if(j(this))return-N(this).m();let k=0,A=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);k+=(L>=0?L:4294967296+L)*A,A*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(j(this))return"-"+N(this).toString(k);const A=p(Math.pow(k,6));var C=this;let L="";for(;;){const P=se(C,A).g;C=B(C,P.j(A));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=P,O(C))return D+L;for(;D.length<6;)D="0"+D;L=D+L}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(let A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=B(this,k),j(k)?-1:O(k)?0:1};function N(k){const A=k.g.length,C=[];for(let L=0;L<A;L++)C[L]=~k.g[L];return new c(C,~k.h).add(w)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){const A=Math.max(this.g.length,k.g.length),C=[];let L=0;for(let P=0;P<=A;P++){let D=L+(this.i(P)&65535)+(k.i(P)&65535),I=(D>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);L=I>>>16,D&=65535,I&=65535,C[P]=I<<16|D}return new c(C,C[C.length-1]&-2147483648?-1:0)};function B(k,A){return k.add(N(A))}t.j=function(k){if(O(this)||O(k))return _;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(this.l(R)<0&&k.l(R)<0)return p(this.m()*k.m());const A=this.g.length+k.g.length,C=[];for(var L=0;L<2*A;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let P=0;P<k.g.length;P++){const D=this.i(L)>>>16,I=this.i(L)&65535,He=k.i(P)>>>16,ot=k.i(P)&65535;C[2*L+2*P]+=I*ot,G(C,2*L+2*P),C[2*L+2*P+1]+=D*ot,G(C,2*L+2*P+1),C[2*L+2*P+1]+=I*He,G(C,2*L+2*P+1),C[2*L+2*P+2]+=D*He,G(C,2*L+2*P+2)}for(k=0;k<A;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=A;k<2*A;k++)C[k]=0;return new c(C,0)};function G(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function F(k,A){this.g=k,this.h=A}function se(k,A){if(O(A))throw Error("division by zero");if(O(k))return new F(_,_);if(j(k))return A=se(N(k),A),new F(N(A.g),N(A.h));if(j(A))return A=se(k,N(A)),new F(N(A.g),A.h);if(k.g.length>30){if(j(k)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=A;L.l(k)<=0;)C=ae(C),L=ae(L);var P=ue(C,1),D=ue(L,1);for(L=ue(L,2),C=ue(C,2);!O(L);){var I=D.add(L);I.l(k)<=0&&(P=P.add(C),D=I),L=ue(L,1),C=ue(C,1)}return A=B(k,P.j(A)),new F(P,A)}for(P=_;k.l(A)>=0;){for(C=Math.max(1,Math.floor(k.m()/A.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),D=p(C),I=D.j(A);j(I)||I.l(k)>0;)C-=L,D=p(C),I=D.j(A);O(D)&&(D=w),P=P.add(D),k=B(k,I)}return new F(P,k)}t.B=function(k){return se(this,k).h},t.and=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<A;L++)C[L]=this.i(L)&k.i(L);return new c(C,this.h&k.h)},t.or=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<A;L++)C[L]=this.i(L)|k.i(L);return new c(C,this.h|k.h)},t.xor=function(k){const A=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<A;L++)C[L]=this.i(L)^k.i(L);return new c(C,this.h^k.h)};function ae(k){const A=k.g.length+1,C=[];for(let L=0;L<A;L++)C[L]=k.i(L)<<1|k.i(L-1)>>>31;return new c(C,k.h)}function ue(k,A){const C=A>>5;A%=32;const L=k.g.length-C,P=[];for(let D=0;D<L;D++)P[D]=A>0?k.i(D+C)>>>A|k.i(D+C+1)<<32-A:k.i(D+C);return new c(P,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,H1=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Ci=c}).apply(typeof cT<"u"?cT:typeof self<"u"?self:typeof window<"u"?window:{});var ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var G1,Iu,$1,Ed,Ig,K1,Y1,Q1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ld=="object"&&ld];for(var b=0;b<h.length;++b){var T=h[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function a(h,b){if(b)e:{var T=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in T))break e;T=T[H]}h=h[h.length-1],S=T[h],b=b(S),b!=S&&b!=null&&e(T,h,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(b){var T=[],S;for(S in b)Object.prototype.hasOwnProperty.call(b,S)&&T.push([S,b[S]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var b=typeof h;return b=="object"&&h!=null||b=="function"}function m(h,b,T){return h.call.apply(h.bind,arguments)}function p(h,b,T){return p=m,p.apply(null,arguments)}function v(h,b){var T=Array.prototype.slice.call(arguments,1);return function(){var S=T.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function _(h,b){function T(){}T.prototype=b.prototype,h.Z=b.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(S,H,Q){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return b.prototype[H].apply(S,oe)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function R(h){const b=h.length;if(b>0){const T=Array(b);for(let S=0;S<b;S++)T[S]=h[S];return T}return[]}function O(h,b){for(let S=1;S<arguments.length;S++){const H=arguments[S];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=h.length||0;const Q=H.length||0;h.length=T+Q;for(let oe=0;oe<Q;oe++)h[T+oe]=H[oe]}else h.push(H)}}class j{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function N(h){c.setTimeout(()=>{throw h},0)}function B(){var h=k;let b=null;return h.g&&(b=h.g,h.g=h.g.next,h.g||(h.h=null),b.next=null),b}class G{constructor(){this.h=this.g=null}add(b,T){const S=F.get();S.set(b,T),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new j(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ue=!1,k=new G,A=()=>{const h=Promise.resolve(void 0);ae=()=>{h.then(C)}};function C(){for(var h;h=B();){try{h.h.call(h.g)}catch(T){N(T)}var b=F;b.j(h),b.h<100&&(b.h++,h.next=b.g,b.g=h)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(h,b){this.type=h,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,b=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function He(h,b){P.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,b)}_(He,P),He.prototype.init=function(h,b){const T=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=b,b=h.relatedTarget,b||(T=="mouseover"?b=h.fromElement:T=="mouseout"&&(b=h.toElement)),this.relatedTarget=b,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ot="closure_listenable_"+(Math.random()*1e6|0),W=0;function ie(h,b,T,S,H){this.listener=h,this.proxy=null,this.src=b,this.type=T,this.capture=!!S,this.ha=H,this.key=++W,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h,b,T){for(const S in h)b.call(T,h[S],S,h)}function Ie(h,b){for(const T in h)b.call(void 0,h[T],T,h)}function U(h){const b={};for(const T in h)b[T]=h[T];return b}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(h,b){let T,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(T in S)h[T]=S[T];for(let Q=0;Q<J.length;Q++)T=J[Q],Object.prototype.hasOwnProperty.call(S,T)&&(h[T]=S[T])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,b,T,S,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const oe=Re(h,b,S,H);return oe>-1?(b=h[oe],T||(b.fa=!1)):(b=new ie(b,this.src,Q,!!S,H),b.fa=T,h.push(b)),b};function Te(h,b){const T=b.type;if(T in h.g){var S=h.g[T],H=Array.prototype.indexOf.call(S,b,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(S,H,1),Q&&(he(b),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Re(h,b,T,S){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==b&&Q.capture==!!T&&Q.ha==S)return H}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Lt={};function lt(h,b,T,S,H){if(Array.isArray(b)){for(let Q=0;Q<b.length;Q++)lt(h,b[Q],T,S,H);return null}return T=wl(T),h&&h[ot]?h.J(b,T,d(S)?!!S.capture:!1,H):Fi(h,b,T,!1,S,H)}function Fi(h,b,T,S,H,Q){if(!b)throw Error("Invalid event type");const oe=d(H)?!!H.capture:!!H;let Ce=qi(h);if(Ce||(h[ze]=Ce=new ce(h)),T=Ce.add(b,T,S,oe,Q),T.proxy)return T;if(S=Ga(),T.proxy=S,S.src=h,S.listener=T,h.addEventListener)D||(H=oe),H===void 0&&(H=!1),h.addEventListener(b.toString(),S,H);else if(h.attachEvent)h.attachEvent(br(b.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Ga(){function h(T){return b.call(h.src,h.listener,T)}const b=xl;return h}function $a(h,b,T,S,H){if(Array.isArray(b))for(var Q=0;Q<b.length;Q++)$a(h,b[Q],T,S,H);else S=d(S)?!!S.capture:!!S,T=wl(T),h&&h[ot]?(h=h.i,Q=String(b).toString(),Q in h.g&&(b=h.g[Q],T=Re(b,T,S,H),T>-1&&(he(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete h.g[Q],h.h--)))):h&&(h=qi(h))&&(b=h.g[b.toString()],h=-1,b&&(h=Re(b,T,S,H)),(T=h>-1?b[h]:null)&&Ka(T))}function Ka(h){if(typeof h!="number"&&h&&!h.da){var b=h.src;if(b&&b[ot])Te(b.i,h);else{var T=h.type,S=h.proxy;b.removeEventListener?b.removeEventListener(T,S,h.capture):b.detachEvent?b.detachEvent(br(T),S):b.addListener&&b.removeListener&&b.removeListener(S),(T=qi(b))?(Te(T,h),T.h==0&&(T.src=null,b[ze]=null)):he(h)}}}function br(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function xl(h,b){if(h.da)h=!0;else{b=new He(b,this);const T=h.listener,S=h.ha||h.src;h.fa&&Ka(h),h=T.call(S,b)}return h}function qi(h){return h=h[ze],h instanceof ce?h:null}var Tl="__closure_events_fn_"+(Math.random()*1e9>>>0);function wl(h){return typeof h=="function"?h:(h[Tl]||(h[Tl]=function(b){return h.handleEvent(b)}),h[Tl])}function Et(){L.call(this),this.i=new ce(this),this.M=this,this.G=null}_(Et,L),Et.prototype[ot]=!0,Et.prototype.removeEventListener=function(h,b,T,S){$a(this,h,b,T,S)};function Ut(h,b){var T,S=h.G;if(S)for(T=[];S;S=S.G)T.push(S);if(h=h.M,S=b.type||b,typeof b=="string")b=new P(b,h);else if(b instanceof P)b.target=b.target||h;else{var H=b;b=new P(S,h),le(b,H)}H=!0;let Q,oe;if(T)for(oe=T.length-1;oe>=0;oe--)Q=b.g=T[oe],H=Us(Q,S,!0,b)&&H;if(Q=b.g=h,H=Us(Q,S,!0,b)&&H,H=Us(Q,S,!1,b)&&H,T)for(oe=0;oe<T.length;oe++)Q=b.g=T[oe],H=Us(Q,S,!1,b)&&H}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const b in h.g){const T=h.g[b];for(let S=0;S<T.length;S++)he(T[S]);delete h.g[b],h.h--}}this.G=null},Et.prototype.J=function(h,b,T,S){return this.i.add(String(h),b,!1,T,S)},Et.prototype.K=function(h,b,T,S){return this.i.add(String(h),b,!0,T,S)};function Us(h,b,T,S){if(b=h.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let Q=0;Q<b.length;++Q){const oe=b[Q];if(oe&&!oe.da&&oe.capture==T){const Ce=oe.listener,bt=oe.ha||oe.src;oe.fa&&Te(h.i,oe),H=Ce.call(bt,S)!==!1&&H}}return H&&!S.defaultPrevented}function jf(h,b){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(h,b||0)}function kc(h){h.g=jf(()=>{h.g=null,h.i&&(h.i=!1,kc(h))},h.l);const b=h.h;h.h=null,h.m.apply(null,b)}class hn extends L{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:kc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(h){L.call(this),this.h=h,this.g={}}_(Hi,L);var El=[];function Sl(h){be(h.g,function(b,T){this.g.hasOwnProperty(T)&&Ka(b)},h),h.g={}}Hi.prototype.N=function(){Hi.Z.N.call(this),Sl(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zs=c.JSON.stringify,Pf=c.JSON.parse,Ic=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Dc(){}function Mc(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){P.call(this,"d")}_($t,P);function Vn(){P.call(this,"c")}_(Vn,P);var vt={},Vc=null;function Ya(){return Vc=Vc||new Et}vt.Ia="serverreachability";function Oc(h){P.call(this,vt.Ia,h)}_(Oc,P);function _r(h){const b=Ya();Ut(b,new Oc(b))}vt.STAT_EVENT="statevent";function Gi(h,b){P.call(this,vt.STAT_EVENT,h),this.stat=b}_(Gi,P);function St(h){const b=Ya();Ut(b,new Gi(b,h))}vt.Ja="timingevent";function xr(h,b){P.call(this,vt.Ja,h),this.size=b}_(xr,P);function Tr(h,b){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},b)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Lf(h,b,T,S,H,Q){h.info(function(){if(h.g)if(Q){var oe="",Ce=Q.split("&");for(let Ge=0;Ge<Ce.length;Ge++){var bt=Ce[Ge].split("=");if(bt.length>1){const ut=bt[0];bt=bt[1];const Ln=ut.split("_");oe=Ln.length>=2&&Ln[1]=="type"?oe+(ut+"="+bt+"&"):oe+(ut+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+b+`
`+T+`
`+oe})}function jc(h,b,T,S,H,Q,oe){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+b+`
`+T+`
`+Q+" "+oe})}function wr(h,b,T,S){h.info(function(){return"XMLHTTP TEXT ("+b+"): "+Uf(h,T)+(S?" "+S:"")})}function $i(h,b){h.info(function(){return"TIMEOUT: "+b})}tr.prototype.info=function(){};function Uf(h,b){if(!h.g)return b;if(!b)return null;try{const Q=JSON.parse(b);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var T=Q[h];if(!(T.length<2)){var S=T[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let oe=1;oe<S.length;oe++)S[oe]=""}}}}return zs(Q)}catch{return b}}var Ki={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function Yi(){}_(Yi,Dc),Yi.prototype.g=function(){return new XMLHttpRequest},Rl=new Yi;function is(h){return encodeURIComponent(String(h))}function Pc(h){var b=1;h=h.split(":");const T=[];for(;b>0&&h.length;)T.push(h.shift()),b--;return h.length&&T.push(h.join(":")),T}function nr(h,b,T,S){this.j=h,this.i=b,this.l=T,this.S=S||1,this.V=new Hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new rr}function rr(){this.i=null,this.g="",this.h=!1}var At={},Ft={};function Er(h,b,T){h.M=1,h.A=Qi(Ct(b)),h.u=T,h.R=!0,Qa(h,null)}function Qa(h,b){h.F=Date.now(),Sr(h),h.B=Ct(h.A);var T=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),Ja(T.i,"t",S),h.C=0,T=h.j.L,h.h=new rr,h.g=Zc(h.j,T?b:null,!h.u),h.P>0&&(h.O=new hn(p(h.Y,h,h.g),h.P)),b=h.V,T=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(El[0]=H.toString()),H=El);for(let Q=0;Q<H.length;Q++){const oe=lt(T,H[Q],S||b.handleEvent,!1,b.h||b);if(!oe)break;b.g[oe.key]=oe}b=h.J?U(h.J):{},h.u?(h.v||(h.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,b)):(h.v="GET",h.g.ea(h.B,h.v,null,b)),_r(),Lf(h.i,h.v,h.B,h.l,h.S,h.u)}nr.prototype.ba=function(h){h=h.target;const b=this.O;b&&ar(h)==3?b.j():this.Y(h)},nr.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ar(this.g),bt=this.g.ya(),Ge=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||bt==7||(bt==8||Ge<=0?_r(3):_r(2)),Ar(this);var b=this.g.ca();this.X=b;var T=zf(this);if(this.o=b==200,jc(this.i,this.v,this.B,this.l,this.S,Ce,b),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var Q=S;break t}}Q=null}if(h=Q)wr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Rr(this,h);else{this.o=!1,this.m=3,St(12),En(this),On(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<T.length;)if(ut=Uc(this,T),ut==Ft){Ce==4&&(this.m=4,St(14),h=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==At){this.m=4,St(15),wr(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else wr(this.i,this.l,ut,null),Rr(this,ut);if(Lc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||T.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)wr(this.i,this.l,T,"[Invalid Chunked Response]"),En(this),On(this);else if(T.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Fl(oe),oe.P=!0,St(11))}}else wr(this.i,this.l,T,null),Rr(this,T);Ce==4&&En(this),this.o&&!this.K&&(Ce==4?Yc(this.j,this):(this.o=!1,Sr(this)))}else os(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),En(this),On(this)}}}catch{}finally{}};function zf(h){if(!Lc(h))return h.g.la();const b=Kt(h.g);if(b==="")return"";let T="";const S=b.length,H=ar(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return En(h),On(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<S;Q++)h.h.h=!0,T+=h.h.i.decode(b[Q],{stream:!(H&&Q==S-1)});return b.length=0,h.h.g+=T,h.C=0,h.h.g}function Lc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Uc(h,b){var T=h.C,S=b.indexOf(`
`,T);return S==-1?Ft:(T=Number(b.substring(T,S)),isNaN(T)?At:(S+=1,S+T>b.length?Ft:(b=b.slice(S,S+T),h.C=S+T,b)))}nr.prototype.cancel=function(){this.K=!0,En(this)};function Sr(h){h.T=Date.now()+h.H,Xa(h,h.H)}function Xa(h,b){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Tr(p(h.aa,h),b)}function Ar(h){h.D&&(c.clearTimeout(h.D),h.D=null)}nr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($i(this.i,this.B),this.M!=2&&(_r(),St(17)),En(this),this.m=2,On(this)):Xa(this,this.T-h)};function On(h){h.j.I==0||h.K||Yc(h.j,h)}function En(h){Ar(h);var b=h.O;b&&typeof b.dispose=="function"&&b.dispose(),h.O=null,Sl(h.V),h.g&&(b=h.g,h.g=null,b.abort(),b.dispose())}function Rr(h,b){try{var T=h.j;if(T.I!=0&&(T.g==h||Nr(T.h,h))){if(!h.L&&Nr(T.h,h)&&T.I==3){try{var S=T.Ba.g.parse(b)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)so(T),Ys(T);else break e;na(T),St(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Tr(p(T.Va,T),6e3));Cr(T.h)<=1&&T.ta&&(T.ta=void 0)}else Or(T,11)}else if((h.L||T.g==h)&&so(T),!I(b))for(H=T.Ba.g.parse(b),b=0;b<H.length;b++){let Ge=H[b];const ut=Ge[0];if(!(ut<=T.K))if(T.K=ut,Ge=Ge[1],T.I==2)if(Ge[0]=="c"){T.M=Ge[1],T.ba=Ge[2];const Ln=Ge[3];Ln!=null&&(T.ka=Ln,T.j.info("VER="+T.ka));const jr=Ge[4];jr!=null&&(T.za=jr,T.j.info("SVER="+T.za));const or=Ge[5];or!=null&&typeof or=="number"&&or>0&&(S=1.5*or,T.O=S,T.j.info("backChannelRequestTimeoutMs_="+S)),S=T;const lr=h.g;if(lr){const ra=lr.g?lr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ra){var Q=S.h;Q.g||ra.indexOf("spdy")==-1&&ra.indexOf("quic")==-1&&ra.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(kl(Q,Q.h),Q.h=null))}if(S.G){const io=lr.g?lr.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(S.wa=io,Ye(S.J,S.G,io))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),S=T;var oe=h;if(S.na=Wc(S,S.L?S.ba:null,S.W),oe.L){Il(S.h,oe);var Ce=oe,bt=S.O;bt&&(Ce.H=bt),Ce.D&&(Ar(Ce),Sr(Ce)),S.g=oe}else $c(S);T.i.length>0&&Vr(T)}else Ge[0]!="stop"&&Ge[0]!="close"||Or(T,7);else T.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Or(T,7):zl(T):Ge[0]!="noop"&&T.l&&T.l.qa(Ge),T.A=0)}}_r(4)}catch{}}var Rt=class{constructor(h,b){this.g=h,this.map=b}};function Cl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Cr(h){return h.h?1:h.g?h.g.size:0}function Nr(h,b){return h.h?h.h==b:h.g?h.g.has(b):!1}function kl(h,b){h.g?h.g.add(b):h.h=b}function Il(h,b){h.h&&h.h==b?h.h=null:h.g&&h.g.has(b)&&h.g.delete(b)}Cl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Dl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let b=h.i;for(const T of h.g.values())b=b.concat(T.G);return b}return R(h.i)}var zc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(h,b){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const S=h[T].indexOf("=");let H,Q=null;S>=0?(H=h[T].substring(0,S),Q=h[T].substring(S+1)):H=h[T],b(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;h instanceof Sn?(this.l=h.l,qt(this,h.j),this.o=h.o,this.g=h.g,Bs(this,h.u),this.h=h.h,Ml(this,Hc(h.i)),this.m=h.m):h&&(b=String(h).match(zc))?(this.l=!1,qt(this,b[1]||"",!0),this.o=kr(b[2]||""),this.g=kr(b[3]||"",!0),Bs(this,b[4]),this.h=kr(b[5]||"",!0),Ml(this,b[6]||"",!0),this.m=kr(b[7]||"")):(this.l=!1,this.i=new qs(null,this.l))}Sn.prototype.toString=function(){const h=[];var b=this.j;b&&h.push(Xi(b,Za,!0),":");var T=this.g;return(T||b=="file")&&(h.push("//"),(b=this.o)&&h.push(Xi(b,Za,!0),"@"),h.push(is(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Xi(T,T.charAt(0)=="/"?Vl:Bc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Xi(T,Fc)),h.join("")},Sn.prototype.resolve=function(h){const b=Ct(this);let T=!!h.j;T?qt(b,h.j):T=!!h.o,T?b.o=h.o:T=!!h.g,T?b.g=h.g:T=h.u!=null;var S=h.h;if(T)Bs(b,h.u);else if(T=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=b.h.lastIndexOf("/");H!=-1&&(S=b.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let oe=0;oe<H.length;){const Ce=H[oe++];Ce=="."?S&&oe==H.length&&Q.push(""):Ce==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&oe==H.length&&Q.push("")):(Q.push(Ce),S=!0)}S=Q.join("/")}else S=H}return T?b.h=S:T=h.i.toString()!=="",T?Ml(b,Hc(h.i)):T=!!h.m,T&&(b.m=h.m),b};function Ct(h){return new Sn(h)}function qt(h,b,T){h.j=T?kr(b,!0):b,h.j&&(h.j=h.j.replace(/:$/,""))}function Bs(h,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);h.u=b}else h.u=null}function Ml(h,b,T){b instanceof qs?(h.i=b,eo(h.i,h.l)):(T||(b=Xi(b,Fs)),h.i=new qs(b,h.l))}function Ye(h,b,T){h.i.set(b,T)}function Qi(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function kr(h,b){return h?b?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xi(h,b,T){return typeof h=="string"?(h=encodeURI(h).replace(b,pn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function pn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Za=/[#\/\?@]/g,Bc=/[#\?:]/g,Vl=/[#\?]/g,Fs=/[#\?@]/g,Fc=/#/g;function qs(h,b){this.h=this.g=null,this.i=h||null,this.j=!!b}function gn(h){h.g||(h.g=new Map,h.h=0,h.i&&Wa(h.i,function(b,T){h.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=qs.prototype,t.add=function(h,b){gn(this),this.i=null,h=Hs(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(b),this.h+=1,this};function qc(h,b){gn(h),b=Hs(h,b),h.g.has(b)&&(h.i=null,h.h-=h.g.get(b).length,h.g.delete(b))}function Ol(h,b){return gn(h),b=Hs(h,b),h.g.has(b)}t.forEach=function(h,b){gn(this),this.g.forEach(function(T,S){T.forEach(function(H){h.call(b,H,S,this)},this)},this)};function jl(h,b){gn(h);let T=[];if(typeof b=="string")Ol(h,b)&&(T=T.concat(h.g.get(Hs(h,b))));else for(h=Array.from(h.g.values()),b=0;b<h.length;b++)T=T.concat(h[b]);return T}t.set=function(h,b){return gn(this),this.i=null,h=Hs(this,h),Ol(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[b]),this.h+=1,this},t.get=function(h,b){return h?(h=jl(this,h),h.length>0?String(h[0]):b):b};function Ja(h,b,T){qc(h,b),T.length>0&&(h.i=null,h.g.set(Hs(h,b),R(T)),h.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],b=Array.from(this.g.keys());for(let S=0;S<b.length;S++){var T=b[S];const H=is(T);T=jl(this,T);for(let Q=0;Q<T.length;Q++){let oe=H;T[Q]!==""&&(oe+="="+is(T[Q])),h.push(oe)}}return this.i=h.join("&")};function Hc(h){const b=new qs;return b.i=h.i,h.g&&(b.g=new Map(h.g),b.h=h.h),b}function Hs(h,b){return b=String(b),h.j&&(b=b.toLowerCase()),b}function eo(h,b){b&&!h.j&&(gn(h),h.i=null,h.g.forEach(function(T,S){const H=S.toLowerCase();S!=H&&(qc(this,S),Ja(this,H,T))},h)),h.j=b}function sr(h,b){const T=new tr;if(c.Image){const S=new Image;S.onload=v(jn,T,"TestLoadImage: loaded",!0,b,S),S.onerror=v(jn,T,"TestLoadImage: error",!1,b,S),S.onabort=v(jn,T,"TestLoadImage: abort",!1,b,S),S.ontimeout=v(jn,T,"TestLoadImage: timeout",!1,b,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else b(!1)}function Pl(h,b){const T=new tr,S=new AbortController,H=setTimeout(()=>{S.abort(),jn(T,"TestPingServer: timeout",!1,b)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?jn(T,"TestPingServer: ok",!0,b):jn(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),jn(T,"TestPingServer: error",!1,b)})}function jn(h,b,T,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(T)}catch{}}function Gs(){this.g=new Ic}function Ir(h){this.i=h.Sb||null,this.h=h.ab||!1}_(Ir,Dc),Ir.prototype.g=function(){return new Wi(this.i,this.h)};function Wi(h,b){Et.call(this),this.H=h,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Wi,Et),t=Wi.prototype,t.open=function(h,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=b,this.readyState=1,ir(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(b.body=h),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;to(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function to(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var b=h.value?h.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!h.done}))&&(this.response=this.responseText+=b)}h.done?$s(this):ir(this),this.readyState==3&&to(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,$s(this))},t.Na=function(h){this.g&&(this.response=h,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ir(h)}t.setRequestHeader=function(h,b){this.A.append(h,b)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=b.next();return h.join(`\r
`)};function ir(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let b="";return be(h,function(T,S){b+=S,b+=":",b+=T,b+=`\r
`}),b}function Zi(h,b,T){e:{for(S in T){var S=!1;break e}S=!0}S||(T=Pn(T),typeof h=="string"?T!=null&&is(T):Ye(h,b,T))}function We(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(We,Et);var Dr=/^https?$/i,Ll=["POST","PUT"];t=We.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,b,T,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);b=b?b.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=w(p(this.Ca,this));try{this.B=!0,this.g.open(b,String(h),!0),this.B=!1}catch(Q){Ji(this,Q);return}if(h=T||"",T=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)T.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())T.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Ll,b,void 0)>=0)||S||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of T)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Ji(this,Q)}};function Ji(h,b){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=b,h.o=5,Ul(h),as(h)}function Ul(h){h.A||(h.A=!0,Ut(h,"complete"),Ut(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Ut(this,"complete"),Ut(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},t.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof l<"u"){if(h.v&&ar(h)==4)setTimeout(h.Ca.bind(h),0);else if(Ut(h,"readystatechange"),ar(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var S;if(S=Q===0){let oe=String(h.D).match(zc)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),S=!Dr.test(oe?oe.toLowerCase():"")}T=S}if(T)Ut(h,"complete"),Ut(h,"success");else{h.o=6;try{var H=ar(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Ul(h)}}finally{as(h)}}}}function as(h,b){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,b||Ut(h,"ready");try{T.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ar(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ar(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var b=this.g.responseText;return h&&b.indexOf(h)==0&&(b=b.substring(h.length)),Pf(b)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function os(h){const b={};h=(h.g&&ar(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(I(h[S]))continue;var T=Pc(h[S]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=b[H]||[];b[H]=Q,Q.push(T)}Ie(b,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mr(h,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||b}function Ks(h){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mr("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mr("baseRetryDelayMs",5e3,h),this.Za=Mr("retryDelaySeedMs",1e4,h),this.Ta=Mr("forwardChannelMaxRetries",2,h),this.va=Mr("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(h&&h.concurrentRequestLimit),this.Ba=new Gs,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ks.prototype,t.ka=8,t.I=1,t.connect=function(h,b,T,S){St(0),this.W=h,this.H=b||{},T&&S!==void 0&&(this.H.OSID=T,this.H.OAID=S),this.F=this.X,this.J=Wc(this,null,this.W),Vr(this)};function zl(h){if(no(h),h.I==3){var b=h.V++,T=Ct(h.J);if(Ye(T,"SID",h.M),Ye(T,"RID",b),Ye(T,"TYPE","terminate"),ta(h,T),b=new nr(h,h.j,b),b.M=2,b.A=Qi(Ct(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=Zc(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Sr(b)}Xc(h)}function Ys(h){h.g&&(Fl(h),h.g.cancel(),h.g=null)}function no(h){Ys(h),h.v&&(c.clearTimeout(h.v),h.v=null),so(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Vr(h){if(!Nl(h.h)&&!h.m){h.m=!0;var b=h.Ea;ae||A(),ue||(ae(),ue=!0),k.add(b,h),h.D=0}}function ro(h,b){return Cr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=b.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Tr(p(h.Ea,h,b),Qc(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new nr(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=U(Q),le(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var S=this.i[T];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(b+=S,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Gc(this,H,b),T=Ct(this.J),Ye(T,"RID",h),Ye(T,"CVER",22),this.G&&Ye(T,"X-HTTP-Session-Id",this.G),ta(this,T),Q&&(this.R?b="headers="+is(Pn(Q))+"&"+b:this.u&&Zi(T,this.u,Q)),kl(this.h,H),this.Ra&&Ye(T,"TYPE","init"),this.S?(Ye(T,"$req",b),Ye(T,"SID","null"),H.U=!0,Er(H,T,null)):Er(H,T,b),this.I=2}}else this.I==3&&(h?Bl(this,h):this.i.length==0||Nl(this.h)||Bl(this))};function Bl(h,b){var T;b?T=b.l:T=h.V++;const S=Ct(h.J);Ye(S,"SID",h.M),Ye(S,"RID",T),Ye(S,"AID",h.K),ta(h,S),h.u&&h.o&&Zi(S,h.u,h.o),T=new nr(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),b&&(h.i=b.G.concat(h.i)),b=Gc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),kl(h.h,T),Er(T,S,b)}function ta(h,b){h.H&&be(h.H,function(T,S){Ye(b,S,T)}),h.l&&be({},function(T,S){Ye(b,S,T)})}function Gc(h,b,T){T=Math.min(h.i.length,T);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ce=-1;for(;;){const bt=["count="+T];Ce==-1?T>0?(Ce=H[0].g,bt.push("ofs="+Ce)):Ce=0:bt.push("ofs="+Ce);let Ge=!0;for(let ut=0;ut<T;ut++){var Q=H[ut].g;const Ln=H[ut].map;if(Q-=Ce,Q<0)Ce=Math.max(0,H[ut].g-100),Ge=!1;else try{Q="req"+Q+"_"||"";try{var oe=Ln instanceof Map?Ln:Object.entries(Ln);for(const[jr,or]of oe){let lr=or;d(or)&&(lr=zs(or)),bt.push(Q+jr+"="+encodeURIComponent(lr))}}catch(jr){throw bt.push(Q+"type="+encodeURIComponent("_badmap")),jr}}catch{S&&S(Ln)}}if(Ge){oe=bt.join("&");break e}}oe=void 0}return h=h.i.splice(0,T),b.G=h,oe}function $c(h){if(!h.g&&!h.v){h.Y=1;var b=h.Da;ae||A(),ue||(ae(),ue=!0),k.add(b,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Tr(p(h.Da,h),Qc(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,Kc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Tr(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ys(this),Kc(this))};function Fl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Kc(h){h.g=new nr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var b=Ct(h.na);Ye(b,"RID","rpc"),Ye(b,"SID",h.M),Ye(b,"AID",h.K),Ye(b,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(b,"TO",h.ia),Ye(b,"TYPE","xmlhttp"),ta(h,b),h.u&&h.o&&Zi(b,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=Qi(Ct(b)),T.u=null,T.R=!0,Qa(T,h)}t.Va=function(){this.C!=null&&(this.C=null,Ys(this),na(this),St(19))};function so(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Yc(h,b){var T=null;if(h.g==b){so(h),Fl(h),h.g=null;var S=2}else if(Nr(h.h,b))T=b.G,Il(h.h,b),S=1;else return;if(h.I!=0){if(b.o)if(S==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var H=h.D;S=Ya(),Ut(S,new xr(S,T)),Vr(h)}else $c(h);else if(H=b.m,H==3||H==0&&b.X>0||!(S==1&&ro(h,b)||S==2&&na(h)))switch(T&&T.length>0&&(b=h.h,b.i=b.i.concat(T)),H){case 1:Or(h,5);break;case 4:Or(h,10);break;case 3:Or(h,6);break;default:Or(h,2)}}}function Qc(h,b){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*b}function Or(h,b){if(h.j.info("Error code "+b),b==2){var T=p(h.bb,h),S=h.Ua;const H=!S;S=new Sn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(S,"https"),Qi(S),H?sr(S.toString(),T):Pl(S.toString(),T)}else St(2);h.I=0,h.l&&h.l.pa(b),Xc(h),no(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Xc(h){if(h.I=0,h.ja=[],h.l){const b=Dl(h.h);(b.length!=0||h.i.length!=0)&&(O(h.ja,b),O(h.ja,h.i),h.h.i.length=0,R(h.i),h.i.length=0),h.l.oa()}}function Wc(h,b,T){var S=T instanceof Sn?Ct(T):new Sn(T);if(S.g!="")b&&(S.g=b+"."+S.g),Bs(S,S.u);else{var H=c.location;S=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const Q=new Sn(null);S&&qt(Q,S),b&&(Q.g=b),H&&Bs(Q,H),T&&(Q.h=T),S=Q}return T=h.G,b=h.wa,T&&b&&Ye(S,T,b),Ye(S,"VER",h.ka),ta(h,S),S}function Zc(h,b,T){if(b&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=h.Aa&&!h.ma?new We(new Ir({ab:T})):new We(h.ma),b.Fa(h.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jc(){}t=Jc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Qs(){}Qs.prototype.g=function(h,b){return new dn(h,b)};function dn(h,b){Et.call(this),this.g=new Ks(b),this.l=h,this.h=b&&b.messageUrlParams||null,h=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(h?h["X-WebChannel-Content-Type"]=b.messageContentType:h={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(h?h["X-WebChannel-Client-Profile"]=b.sa:h={"X-WebChannel-Client-Profile":b.sa}),this.g.U=h,(h=b&&b.Qb)&&!I(h)&&(this.g.u=h),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!I(b)&&(this.g.G=b,h=this.h,h!==null&&b in h&&(h=this.h,b in h&&delete h[b])),this.j=new ls(this)}_(dn,Et),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){zl(this.g)},dn.prototype.o=function(h){var b=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=zs(h),h=T);b.i.push(new Rt(b.Ya++,h)),b.I==3&&Vr(b)},dn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,dn.Z.N.call(this)};function eh(h){$t.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var b=h.__sm__;if(b){e:{for(const T in b){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,b=b!==null&&h in b?b[h]:void 0),this.data=b}else this.data=h}_(eh,$t);function th(){Vn.call(this),this.status=1}_(th,Vn);function ls(h){this.g=h}_(ls,Jc),ls.prototype.ra=function(){Ut(this.g,"a")},ls.prototype.qa=function(h){Ut(this.g,new eh(h))},ls.prototype.pa=function(h){Ut(this.g,new th)},ls.prototype.oa=function(){Ut(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Q1=function(){return new Qs},Y1=function(){return Ya()},K1=vt,Ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Ed=Ki,Al.COMPLETE="complete",$1=Al,Mc.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Iu=Mc,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,G1=We}).apply(typeof ld<"u"?ld:typeof self<"u"?self:typeof window<"u"?window:{});const hT="@firebase/firestore",dT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=new wy("@firebase/firestore");function jo(){return Va.logLevel}function fe(t,...e){if(Va.logLevel<=je.DEBUG){const n=e.map(Oy);Va.debug(`Firestore (${dl}): ${t}`,...n)}}function Ms(t,...e){if(Va.logLevel<=je.ERROR){const n=e.map(Oy);Va.error(`Firestore (${dl}): ${t}`,...n)}}function tl(t,...e){if(Va.logLevel<=je.WARN){const n=e.map(Oy);Va.warn(`Firestore (${dl}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,X1(t,s,n)}function X1(t,e,n){let s=`FIRESTORE (${dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ms(s),new Error(s)}function Ke(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||X1(e,a,s)}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(on.UNAUTHENTICATED)))}shutdown(){}}class cV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hV{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const a=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let l=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cs,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;e.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new W1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class dV{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fV{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new dV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new fT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=pV(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function Pe(t,e){return t<e?-1:t>e?1:0}function Dg(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Qp(a)===Qp(l)?Pe(a,l):Qp(a)?1:-1}return Pe(t.length,e.length)}const gV=55296,yV=57343;function Qp(t){const e=t.charCodeAt(0);return e>=gV&&e<=yV}function nl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="__name__";class Br{constructor(e,n,s){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&xe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Br?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=Br.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Pe(e.length,n.length)}static compareSegments(e,n){const s=Br.isNumericId(e),a=Br.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?Br.extractNumericId(e).compare(Br.extractNumericId(n)):Dg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ci.fromString(e.substring(4,e.length-2))}}class rt extends Br{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const vV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Br{construct(e,n,s){return new en(e,n,s)}static isValidIdentifier(e){return vV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mT}static keyField(){return new en([mT])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bV(t,e,n,s){if(e===!0&&s===!0)throw new de(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pT(t){if(!ye.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function gT(t){if(ye.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function J1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xe(12329,{type:typeof t})}function Vs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){const n={typeString:t};return e&&(n.value=e),n}function _c(t,e){if(!J1(t))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const c=t[s];if(a&&typeof c!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=-62135596800,vT=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*vT);return new at(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<yT)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vT}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_c(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:jt("string",at._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new at(0,0))}static max(){return new Ee(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function _V(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(s===1e9?new at(n+1,0):new at(n,s));return new Ii(a,ye.empty(),e)}function xV(t){return new Ii(t.readTime,t.key,Wu)}class Ii{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ii(Ee.min(),ye.empty(),Wu)}static max(){return new Ii(Ee.max(),ye.empty(),Wu)}}function TV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==wV)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,s)=>{n(e)}))}static reject(e){return new re(((n,s)=>{s(e)}))}static waitFor(e){return new re(((n,s)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&n()}),(m=>s(m)))})),c=!0,l===a&&n()}))}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next((a=>a?re.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new re(((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const p=m;n(e[p]).next((v=>{c[p]=v,++d,d===l&&s(c)}),(v=>a(v)))}}))}static doWhile(e,n){return new re(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function SV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=-1;function vf(t){return t==null}function qd(t){return t===0&&1/t==-1/0}function AV(t){return typeof t=="number"&&Number.isInteger(t)&&!qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="";function RV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=bT(e)),e=CV(t.get(n),e);return bT(e)}function CV(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case eS:n+="";break;default:n+=l}}return n}function bT(t){return t+eS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ud(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ud(this.root,e,this.comparator,!1)}getReverseIterator(){return new ud(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ud(this.root,e,this.comparator,!0)}}class ud{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??Jt.RED,this.left=a??Jt.EMPTY,this.right=l??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new Jt(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xT(this.data.getIterator())}getIteratorFrom(e){return new xT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class xT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Bt(en.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nS("Invalid base64 string: "+l):l}})(e);return new nn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const NV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Ke(!!t,39018),typeof t=="string"){let e=0;const n=NV.exec(t);if(Ke(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="server_timestamp",sS="__type__",iS="__previous_value__",aS="__local_write_time__";function Ly(t){return(t?.mapValue?.fields||{})[sS]?.stringValue===rS}function bf(t){const e=t.mapValue.fields[iS];return Ly(e)?bf(e):e}function Zu(t){const e=Di(t.mapValue.fields[aS].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e,n,s,a,l,c,d,m,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const Hd="(default)";class Ju{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="__type__",IV="__max__",cd={mapValue:{}},lS="__vector__",Gd="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ly(t)?4:MV(t)?9007199254740991:DV(t)?10:11:xe(28295,{value:t})}function Jr(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zu(t).isEqual(Zu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Di(a.timestampValue),d=Di(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Mi(a.bytesValue).isEqual(Mi(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return wt(a.geoPointValue.latitude)===wt(l.geoPointValue.latitude)&&wt(a.geoPointValue.longitude)===wt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wt(a.integerValue)===wt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wt(a.doubleValue),d=wt(l.doubleValue);return c===d?qd(c)===qd(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(_T(c)!==_T(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Jr(c[m],d[m])))return!1;return!0})(t,e);default:return xe(52216,{left:t})}}function ec(t,e){return(t.values||[]).find((n=>Jr(n,e)))!==void 0}function rl(t,e){if(t===e)return 0;const n=Vi(t),s=Vi(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=wt(l.integerValue||l.doubleValue),m=wt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(t,e);case 3:return TT(t.timestampValue,e.timestampValue);case 4:return TT(Zu(t),Zu(e));case 5:return Dg(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=Mi(l),m=Mi(c);return d.compareTo(m)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),m=c.split("/");for(let p=0;p<d.length&&p<m.length;p++){const v=Pe(d[p],m[p]);if(v!==0)return v}return Pe(d.length,m.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Pe(wt(l.latitude),wt(c.latitude));return d!==0?d:Pe(wt(l.longitude),wt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},m=c.fields||{},p=d[Gd]?.arrayValue,v=m[Gd]?.arrayValue,_=Pe(p?.values?.length||0,v?.values?.length||0);return _!==0?_:wT(p,v)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===cd.mapValue&&c===cd.mapValue)return 0;if(l===cd.mapValue)return 1;if(c===cd.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const w=Dg(m[_],v[_]);if(w!==0)return w;const R=rl(d[m[_]],p[v[_]]);if(R!==0)return R}return Pe(m.length,v.length)})(t.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function TT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Di(t),s=Di(e),a=Pe(n.seconds,s.seconds);return a!==0?a:Pe(n.nanos,s.nanos)}function wT(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=rl(n[a],s[a]);if(l)return l}return Pe(n.length,s.length)}function sl(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Di(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mi(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ye.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Mg(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Mg(n.fields[c])}`;return a+"}"})(t.mapValue):xe(61005,{value:t})}function Sd(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(t);return e?16+Sd(e):16;case 5:return 2*t.stringValue.length;case 6:return Mi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Sd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ba(s.fields,((l,c)=>{a+=l.length+Sd(c)})),a})(t.mapValue);default:throw xe(13486,{value:t})}}function ET(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function ST(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function DV(t){return(t?.mapValue?.fields||{})[oS]?.stringValue===lS}function Lu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ba(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Lu(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return{...t}}function MV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===IV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=en.emptyPath(),s={},a=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,a),s={},a=[],n=d.popLast()}c?s[d.lastSegment()]=Lu(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ad(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ba(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Qn(Lu(this.value))}}function uS(t){const e=[];return Ba(t.fields,((n,s)=>{const a=new en([n]);if(Ad(s)){const l=uS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,a,l,c,d){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ee.min(),Ee.min(),Ee.min(),Qn.empty(),0)}static newFoundDocument(e,n,s,a){return new ln(e,1,n,Ee.min(),s,a,0)}static newNoDocument(e,n){return new ln(e,2,n,Ee.min(),Ee.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ee.min(),Ee.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function RT(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],c=t.position[a];if(l.field.isKeyField()?s=ye.comparator(ye.fromName(c.referenceValue),n.key):s=rl(c,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function CT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function VV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{}class Ot extends cS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jV(e,n,s):n==="array-contains"?new UV(e,s):n==="in"?new zV(e,s):n==="not-in"?new BV(e,s):n==="array-contains-any"?new FV(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new PV(e,s):new LV(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vr extends cS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new vr(e,n)}matches(e){return hS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hS(t){return t.op==="and"}function dS(t){return OV(t)&&hS(t)}function OV(t){for(const e of t.filters)if(e instanceof vr)return!1;return!0}function Og(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(dS(t))return t.filters.map((e=>Og(e))).join(",");{const e=t.filters.map((n=>Og(n))).join(",");return`${t.op}(${e})`}}function fS(t,e){return t instanceof Ot?(function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&Jr(s.value,a.value)})(t,e):t instanceof vr?(function(s,a){return a instanceof vr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,d)=>l&&fS(c,a.filters[d])),!0):!1})(t,e):void xe(19439)}function mS(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(t):t instanceof vr?(function(n){return n.op.toString()+" {"+n.getFilters().map(mS).join(" ,")+"}"})(t):"Filter"}class jV extends Ot{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class PV extends Ot{constructor(e,n){super(e,"in",n),this.keys=pS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class LV extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=pS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pS(t,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class UV extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&ec(n.arrayValue,this.value)}}class zV extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ec(this.value.arrayValue,n)}}class BV extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ec(this.value.arrayValue,n)}}class FV extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ec(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function NT(t,e=null,n=[],s=[],a=null,l=null,c=null){return new qV(t,e,n,s,a,l,c)}function zy(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Og(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>sl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>sl(s))).join(",")),e.Te=n}return e.Te}function By(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CT(t.startAt,e.startAt)&&CT(t.endAt,e.endAt)}function jg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n=null,s=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HV(t,e,n,s,a,l,c,d){return new xc(t,e,n,s,a,l,c,d)}function Fy(t){return new xc(t)}function kT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gS(t){return t.collectionGroup!==null}function Uu(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Kd(l,s))})),n.has(en.keyField().canonicalString())||e.Ie.push(new Kd(en.keyField(),s))}return e.Ie}function $r(t){const e=Ae(t);return e.Ee||(e.Ee=GV(e,Uu(t))),e.Ee}function GV(t,e){if(t.limitType==="F")return NT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Kd(a.field,l)}));const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return NT(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Pg(t,e){const n=t.filters.concat([e]);return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Lg(t,e,n){return new xc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _f(t,e){return By($r(t),$r(e))&&t.limitType===e.limitType}function yS(t){return`${zy($r(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>mS(a))).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${s})`})($r(t))}; limitType=${t.limitType})`}function xf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ye.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Uu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(c,d,m){const p=RT(c,d,m);return c.inclusive?p<=0:p<0})(s.startAt,Uu(s),a)||s.endAt&&!(function(c,d,m){const p=RT(c,d,m);return c.inclusive?p>=0:p>0})(s.endAt,Uu(s),a))})(t,e)}function $V(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vS(t){return(e,n)=>{let s=!1;for(const a of Uu(t)){const l=KV(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function KV(t,e,n){const s=t.field.isKeyField()?ye.comparator(e.key,n.key):(function(l,c,d){const m=c.data.field(l),p=d.data.field(l);return m!==null&&p!==null?rl(m,p):xe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return xe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ba(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return tS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new mt(ye.comparator);function Os(){return YV}const bS=new mt(ye.comparator);function Du(...t){let e=bS;for(const n of t)e=e.insert(n.key,n);return e}function _S(t){let e=bS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function wa(){return zu()}function xS(){return zu()}function zu(){return new Fa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const QV=new mt(ye.comparator),XV=new Bt(ye.comparator);function Le(...t){let e=XV;for(const n of t)e=e.add(n);return e}const WV=new Bt(Pe);function ZV(){return WV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function TS(t){return{integerValue:""+t}}function JV(t,e){return AV(e)?TS(e):qy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(){this._=void 0}}function eO(t,e,n){return t instanceof tc?(function(a,l){const c={fields:{[sS]:{stringValue:rS},[aS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ly(l)&&(l=bf(l)),l&&(c.fields[iS]=l),{mapValue:c}})(n,e):t instanceof nc?ES(t,e):t instanceof rc?SS(t,e):(function(a,l){const c=wS(a,l),d=IT(c)+IT(a.Ae);return Vg(c)&&Vg(a.Ae)?TS(d):qy(a.serializer,d)})(t,e)}function tO(t,e,n){return t instanceof nc?ES(t,e):t instanceof rc?SS(t,e):n}function wS(t,e){return t instanceof Yd?(function(s){return Vg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class tc extends Tf{}class nc extends Tf{constructor(e){super(),this.elements=e}}function ES(t,e){const n=AS(e);for(const s of t.elements)n.some((a=>Jr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class rc extends Tf{constructor(e){super(),this.elements=e}}function SS(t,e){let n=AS(e);for(const s of t.elements)n=n.filter((a=>!Jr(a,s)));return{arrayValue:{values:n}}}class Yd extends Tf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IT(t){return wt(t.integerValue||t.doubleValue)}function AS(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.field=e,this.transform=n}}function rO(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof nc&&a instanceof nc||s instanceof rc&&a instanceof rc?nl(s.elements,a.elements,Jr):s instanceof Yd&&a instanceof Yd?Jr(s.Ae,a.Ae):s instanceof tc&&a instanceof tc})(t.transform,e.transform)}class sO{constructor(e,n){this.version=e,this.transformResults=n}}class gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function RS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hy(t.key,gr.none()):new Tc(t.key,t.data,gr.none());{const n=t.data,s=Qn.empty();let a=new Bt(en.comparator);for(let l of e.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new qa(t.key,s,new mr(a.toArray()),gr.none())}}function iO(t,e,n){t instanceof Tc?(function(a,l,c){const d=a.value.clone(),m=MT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof qa?(function(a,l,c){if(!Rd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=MT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(CS(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(t,e,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Bu(t,e,n,s){return t instanceof Tc?(function(l,c,d,m){if(!Rd(l.precondition,c))return d;const p=l.value.clone(),v=VT(l.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof qa?(function(l,c,d,m){if(!Rd(l.precondition,c))return d;const p=VT(l.fieldTransforms,m,c),v=c.data;return v.setAll(CS(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(t,e,n,s):(function(l,c,d){return Rd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function aO(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=wS(s.transform,a||null);l!=null&&(n===null&&(n=Qn.empty()),n.set(s.field,l))}return n||null}function DT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&nl(s,a,((l,c)=>rO(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends wf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class qa extends wf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function CS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function MT(t,e,n){const s=new Map;Ke(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,tO(c,d,n[a]))}return s}function VT(t,e,n){const s=new Map;for(const a of t){const l=a.transform,c=n.data.field(a.field);s.set(a.field,eO(l,c,e))}return s}class Hy extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oO extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&iO(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xS();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(a.key)?null:d;const m=RS(c,d);m!==null&&s.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,s)=>DT(n,s)))&&nl(this.baseMutations,e.baseMutations,((n,s)=>DT(n,s)))}}class Gy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return QV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Gy(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Be;function hO(t){switch(t){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:t})}}function NS(t){if(t===void 0)return Ms("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:t})}}(Be=Mt||(Mt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new Ci([4294967295,4294967295],0);function OT(t){const e=dO().encode(t),n=new H1;return n.update(e),new Uint8Array(n.digest())}function jT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ci([n,s],0),new Ci([a,l],0)]}class $y{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Mu(`Invalid padding: ${n}`);if(s<0)throw new Mu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Mu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Mu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ci.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Ci.fromNumber(s)));return a.compare(fO)===1&&(a=new Ci([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=OT(e),[s,a]=jT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $y(l,a,n);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=OT(e),[s,a]=jT(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,wc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ef(Ee.min(),a,new mt(Pe),Os(),Le())}}class wc{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wc(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class kS{constructor(e,n){this.targetId=e,this.Ce=n}}class IS{constructor(e,n,s=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class PT{constructor(){this.ve=0,this.Fe=LT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:xe(38017,{changeType:l})}})),new wc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=LT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Os(),this.Je=hd(),this.He=hd(),this.Ye=new mt(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(jg(l))if(s===0){const c=new ye(l.path);this.et(n,c,ln.newNoDocument(c,Ee.min()))}else Ke(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(e),m=d?this.ct(d,e,c):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let c,d;try{c=Mi(s).toUint8Array()}catch(m){if(m instanceof nS)return tl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new $y(c,a,l)}catch(m){return tl(m instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&jg(d.target)){const m=new ye(d.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,ln.newNoDocument(m,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let s=Le();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Ef(e,n,this.Ye,this.je,s);return this.je=Os(),this.Je=hd(),this.He=hd(),this.Ye=new mt(Pe),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new PT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Bt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Bt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hd(){return new mt(ye.comparator)}function LT(){return new mt(ye.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},gO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yO={and:"AND",or:"OR"};class vO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ug(t,e){return t.useProto3Json||vf(e)?e:{value:e}}function Qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bO(t,e){return Qd(t,e.toTimestamp())}function Kr(t){return Ke(!!t,49232),Ee.fromTimestamp((function(n){const s=Di(n);return new at(s.seconds,s.nanos)})(t))}function Ky(t,e){return zg(t,e).canonicalString()}function zg(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function MS(t){const e=rt.fromString(t);return Ke(LS(e),10190,{key:e.toString()}),e}function Bg(t,e){return Ky(t.databaseId,e.path)}function Xp(t,e){const n=MS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(OS(n))}function VS(t,e){return Ky(t.databaseId,e)}function _O(t){const e=MS(t);return e.length===4?rt.emptyPath():OS(e)}function Fg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OS(t){return Ke(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function UT(t,e,n){return{name:Bg(t,e),fields:n.value.mapValue.fields}}function xO(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:xe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(Ke(v===void 0||typeof v=="string",58123),nn.fromBase64String(v||"")):(Ke(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),nn.fromUint8Array(v||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?ne.UNKNOWN:NS(p.code);return new de(v,p.message||"")})(c);n=new IS(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xp(t,s.document.name),l=Kr(s.document.updateTime),c=s.document.createTime?Kr(s.document.createTime):Ee.min(),d=new Qn({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(a,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Cd(p,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Xp(t,s.document),l=s.readTime?Kr(s.readTime):Ee.min(),c=ln.newNoDocument(a,l),d=s.removedTargetIds||[];n=new Cd([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Xp(t,s.document),l=s.removedTargetIds||[];n=new Cd([],l,a,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new cO(a,l),d=s.targetId;n=new kS(d,c)}}return n}function TO(t,e){let n;if(e instanceof Tc)n={update:UT(t,e.key,e.value)};else if(e instanceof Hy)n={delete:Bg(t,e.key)};else if(e instanceof qa)n={update:UT(t,e.key,e.data),updateMask:IO(e.fieldMask)};else{if(!(e instanceof oO))return xe(16599,{Vt:e.type});n={verify:Bg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof tc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof rc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Yd)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw xe(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:bO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe(27497)})(t,e.precondition)),n}function wO(t,e){return t&&t.length>0?(Ke(e!==void 0,14353),t.map((n=>(function(a,l){let c=a.updateTime?Kr(a.updateTime):Kr(l);return c.isEqual(Ee.min())&&(c=Kr(l)),new sO(c,a.transformResults||[])})(n,e)))):[]}function EO(t,e){return{documents:[VS(t,e.path)]}}function SO(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=VS(t,a);const l=(function(p){if(p.length!==0)return PS(vr.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(w){return{field:Lo(w.field),direction:CO(w.dir)}})(v)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Ug(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function AO(t){let e=_O(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ke(s===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=(function(_){const w=jS(_);return w instanceof vr&&dS(w)?w.getFilters():[w]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((w=>(function(O){return new Kd(Uo(O.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(w)))})(n.orderBy));let d=null;n.limit&&(d=(function(_){let w;return w=typeof _=="object"?_.value:_,vf(w)?null:w})(n.limit));let m=null;n.startAt&&(m=(function(_){const w=!!_.before,R=_.values||[];return new $d(R,w)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const w=!_.before,R=_.values||[];return new $d(R,w)})(n.endAt)),HV(e,a,c,l,d,"F",m,p)}function RO(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(n.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Uo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return vr.create(n.compositeFilter.filters.map((s=>jS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(t):xe(30097,{filter:t})}function CO(t){return pO[t]}function NO(t){return gO[t]}function kO(t){return yO[t]}function Lo(t){return{fieldPath:t.canonicalString()}}function Uo(t){return en.fromServerFormat(t.fieldPath)}function PS(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(ST(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(ST(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:NO(n.op),value:n.value}}})(t):t instanceof vr?(function(n){const s=n.getFilters().map((a=>PS(a)));return s.length===1?s[0]:{compositeFilter:{op:kO(n.op),filters:s}}})(t):xe(54877,{filter:t})}function IO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function LS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,s,a,l=Ee.min(),c=Ee.min(),d=nn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.yt=e}}function MO(t){const e=AO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.Cn=new OO}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ii.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class OO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Bt(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Bt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},US=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(US,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="LruGarbageCollector",jO=1048576;function FT([t,e],[n,s]){const a=Pe(t,n);return a===0?Pe(e,s):a}class PO{constructor(e){this.Ir=e,this.buffer=new Bt(FT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();FT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(BT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?fe(BT,"Ignoring IndexedDB error during garbage collection: ",n):await fl(n)}await this.Vr(3e5)}))}}class UO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(yf.ce);const s=new PO(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(zT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,c,d,m,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(e,a)))).next((_=>(s=_,d=Date.now(),this.removeTargets(e,s,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(p=Date.now(),jo()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function zO(t,e){return new UO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new Fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Bu(s.mutation,a,mr.empty(),at.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const a=wa();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let c=Du();return l.forEach(((d,m)=>{c=c.insert(d,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=wa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,s,a){let l=Os();const c=zu(),d=(function(){return zu()})();return n.forEach(((m,p)=>{const v=s.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof qa)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Bu(v.mutation,p,v.mutation.getFieldMask(),at.now())):c.set(p.key,mr.empty())})),this.recalculateAndSaveOverlays(e,l).next((m=>(m.forEach(((p,v)=>c.set(p,v))),n.forEach(((p,v)=>d.set(p,new FO(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const s=zu();let a=new mt(((c,d)=>c-d)),l=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let v=s.get(m)||mr.empty();v=d.applyToLocalView(p,v),s.set(m,v);const _=(a.get(d.batchId)||Le()).add(m);a=a.insert(d.batchId,_)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),p=m.key,v=m.value,_=xS();v.forEach((w=>{if(!l.has(w)){const R=RS(n.get(w),s.get(w));R!==null&&_.set(w,R),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,_))}return re.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):re.resolve(wa());let d=Wu,m=l;return c.next((p=>re.forEach(p,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{m=m.insert(v,w)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,m,p,Le()))).next((v=>({batchId:d,changes:_S(v)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Du();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let c=Du();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(m=>{const p=(function(_,w){return new xc(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((v=>{v.forEach(((_,w)=>{c=c.insert(_,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((c=>{l.forEach(((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,ln.newInvalidDocument(v)))}));let d=Du();return c.forEach(((m,p)=>{const v=l.get(m);v!==void 0&&Bu(v.mutation,p,mr.empty(),at.now()),xf(n,p)&&(d=d.insert(m,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Kr(a.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:MO(a.bundledQuery),readTime:Kr(a.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.overlays=new mt(ye.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wa();return re.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),re.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const a=wa(),l=n.length+1,c=new ye(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>s&&a.set(m.getKey(),m)}return re.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=wa(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=wa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=a)););return re.resolve(d)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new uO(n,s));let l=this.qr.get(n);l===void 0&&(l=Le(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Gt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Gt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Gt(n,e),a=new Gt(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Gt(n,e),a=new Gt(n,e+1);let l=Le();return this.Ur.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Gt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new lO(l,n,s,a);this.mutationQueue.push(c);for(const d of a)this.Zr=this.Zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Py:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gt(n,0),a=new Gt(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Bt(Pe);return n.forEach((a=>{const l=new Gt(a,0),c=new Gt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;ye.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new ye(l),0);let d=new Bt(Pe);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(d=d.add(m.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,(a=>{const l=new Gt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Gt(n,0),a=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.ri=e,this.docs=(function(){return new mt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=Os();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():ln.newInvalidDocument(a))})),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Os();const c=n.path,d=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||TV(xV(v),s)<=0||(a.has(v.key)||xf(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,n,s,a){xe(9500)}ii(e,n){return re.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new QO(this)}getSize(e){return re.resolve(this.size)}}class QO extends BO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.persistence=e,this.si=new Fa((n=>zy(n)),By),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new Yy,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new il(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),re.waitFor(l).next((()=>a))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n){this.ui={},this.overlays={},this.ci=new yf(0),this.li=!1,this.li=!0,this.hi=new $O,this.referenceDelegate=e(this),this.Pi=new XO(this),this.indexManager=new VO,this.remoteDocumentCache=(function(a){return new YO(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new DO(n),this.Ii=new HO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new KO(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const a=new WO(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return re.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class WO extends EV{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Ri=new Yy,this.Vi=null}static mi(e){return new Qy(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(s=>{const a=ye.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xd{constructor(e,n){this.persistence=e,this.pi=new Fa((s=>RV(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=zO(this,n)}static mi(e,n){return new Xd(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?re.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((d=>{d||(s++,l.removeEntry(c,Ee.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sd(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return re.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Le(),a=Le();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xy(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NI()?8:SV(cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new ZO;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(jo()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(jo()<=je.DEBUG&&fe("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(jo()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):re.resolve())}ys(e,n){if(kT(n))return re.resolve(null);let s=$r(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Lg(n,null,"F"),s=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Le(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((m=>{const p=this.Ds(n,d);return this.Cs(n,p,c,m.readTime)?this.ys(e,Lg(n,null,"F")):this.vs(e,p,n,m)}))))})))))}ws(e,n,s,a){return kT(n)||a.isEqual(Ee.min())?re.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,s,a)?re.resolve(null):(jo()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Po(n)),this.vs(e,c,n,_V(a,Wu)).next((d=>d)))}))}Ds(e,n){let s=new Bt(vS(e));return n.forEach(((a,l)=>{xf(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return jo()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ps.getDocumentsMatchingQuery(e,n,Ii.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="LocalStore",ej=3e8;class tj{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new mt(Pe),this.xs=new Fa((l=>zy(l)),By),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function nj(t,e,n,s){return new tj(t,e,n,s)}async function BS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let m=Le();for(const p of a){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function rj(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,p,v){const _=p.batch,w=_.keys();let R=re.resolve();return w.forEach((O=>{R=R.next((()=>v.getEntry(m,O))).next((j=>{const N=p.docVersions.get(O);Ke(N!==null,48541),j.version.compareTo(N)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),v.addEntry(j)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let m=Le();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(m=m.add(d.batch.mutations[p].key));return m})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function FS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sj(t,e){const n=Ae(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const w=a.get(_);if(!w)return;d.push(n.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,v.addedDocuments,_))));let R=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(nn.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),a=a.insert(_,R),(function(j,N,B){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=ej?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(w,R,v)&&d.push(n.Pi.updateTargetData(l,R))}));let m=Os(),p=Le();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(ij(l,c,e.documentUpdates).next((v=>{m=v.ks,p=v.qs}))),!s.isEqual(Ee.min())){const v=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function ij(t,e,n){let s=Le(),a=Le();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let c=Os();return n.forEach(((d,m)=>{const p=l.get(d);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ee.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe(Wy,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",m.version)})),{ks:c,qs:a}}))}function aj(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Py),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function oj(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,re.resolve(a)):n.Pi.allocateTargetId(s).next((c=>(a=new Si(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function qg(t,e,n){const s=Ae(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!ml(c))throw c;fe(Wy,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function qT(t,e,n){const s=Ae(t);let a=Ee.min(),l=Le();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,v){const _=Ae(m),w=_.xs.get(v);return w!==void 0?re.resolve(_.Ms.get(w)):_.Pi.getTargetData(p,v)})(s,c,$r(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((m=>{l=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?a:Ee.min(),n?l:Le()))).next((d=>(lj(s,$V(e),d),{documents:d,Qs:l})))))}function lj(t,e,n){let s=t.Os.get(e)||Ee.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class HT{constructor(){this.activeTargetIds=ZV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uj{constructor(){this.Mo=new HT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new HT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="ConnectivityMonitor";class $T{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(GT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(GT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dd=null;function Hg(){return dd===null?dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():dd++,"0x"+dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const c=Hg(),d=this.zo(e,n.toUriEncodedString());fe(Wp,`Sending RPC '${e}' ${c}:`,d,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(d),v=La(p);return this.Jo(e,d,m,s,v).then((_=>(fe(Wp,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw tl(Wp,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",s),_}))}Ho(e,n,s,a,l,c){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=hj[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class mj extends dj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const c=Hg();return new Promise(((d,m)=>{const p=new G1;p.setWithCredentials(!0),p.listenOnce($1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ed.NO_ERROR:const _=p.getResponseJson();fe(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case Ed.TIMEOUT:fe(sn,`RPC '${e}' ${c} timed out`),m(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const w=p.getStatus();if(fe(sn,`RPC '${e}' ${c} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R?.error;if(O&&O.status&&O.message){const j=(function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN})(O.status);m(new de(j,O.message))}else m(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{fe(sn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(a);fe(sn,`RPC '${e}' ${c} sending request:`,a),p.send(n,"POST",v,s,15)}))}T_(e,n,s){const a=Hg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Q1(),d=Y1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=l.join("");fe(sn,`Creating RPC '${e}' stream ${a}: ${v}`,m);const _=c.createWebChannel(v,m);this.I_(_);let w=!1,R=!1;const O=new fj({Yo:N=>{R?fe(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(w||(fe(sn,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),fe(sn,`RPC '${e}' stream ${a} sending:`,N),_.send(N))},Zo:()=>_.close()}),j=(N,B,G)=>{N.listen(B,(F=>{try{G(F)}catch(se){setTimeout((()=>{throw se}),0)}}))};return j(_,Iu.EventType.OPEN,(()=>{R||(fe(sn,`RPC '${e}' stream ${a} transport opened.`),O.o_())})),j(_,Iu.EventType.CLOSE,(()=>{R||(R=!0,fe(sn,`RPC '${e}' stream ${a} transport closed`),O.a_(),this.E_(_))})),j(_,Iu.EventType.ERROR,(N=>{R||(R=!0,tl(sn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),O.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),j(_,Iu.EventType.MESSAGE,(N=>{if(!R){const B=N.data[0];Ke(!!B,16349);const G=B,F=G?.error||G[0]?.error;if(F){fe(sn,`RPC '${e}' stream ${a} received error:`,F);const se=F.status;let ae=(function(A){const C=Mt[A];if(C!==void 0)return NS(C)})(se),ue=F.message;ae===void 0&&(ae=ne.INTERNAL,ue="Unknown error status: "+se+" with message "+F.message),R=!0,O.a_(new de(ae,ue)),_.close()}else fe(sn,`RPC '${e}' stream ${a} received:`,B),O.u_(B)}})),j(d,K1.STAT_EVENT,(N=>{N.stat===Ig.PROXY?fe(sn,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===Ig.NOPROXY&&fe(sn,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){return new vO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="PersistentStream";class HS{constructor(e,n,s,a,l,c,d,m){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new de(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class pj extends HS{constructor(e,n,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=xO(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ee.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ee.min():c.readTime?Kr(c.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Fg(this.serializer),n.addTarget=(function(l,c){let d;const m=c.target;if(d=jg(m)?{documents:EO(l,m)}:{query:SO(l,m).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=DS(l,c.resumeToken);const p=Ug(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ee.min())>0){d.readTime=Qd(l,c.snapshotVersion.toTimestamp());const p=Ug(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=RO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Fg(this.serializer),n.removeTarget=e,this.q_(n)}}class gj extends HS{constructor(e,n,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wO(e.writeResults,e.commitTime),s=Kr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Fg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>TO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{}class vj extends yj{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,zg(n,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,zg(n,s),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class _j{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ha(this)&&(fe(Oa,"Restarting streams for network reachability change."),await(async function(m){const p=Ae(m);p.Ea.add(4),await Ec(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Af(p)})(this))}))})),this.Ra=new bj(s,a)}}async function Af(t){if(Ha(t))for(const e of t.da)await e(!0)}async function Ec(t){for(const e of t.da)await e(!1)}function GS(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),t0(n)?e0(n):pl(n).O_()&&Jy(n,e))}function Zy(t,e){const n=Ae(t),s=pl(n);n.Ia.delete(e),s.O_()&&$S(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ha(n)&&n.Ra.set("Unknown"))}function Jy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Y_(e)}function $S(t,e){t.Va.Ue(e),pl(t).Z_(e)}function e0(t){t.Va=new mO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Ra.ua()}function t0(t){return Ha(t)&&!pl(t).x_()&&t.Ia.size>0}function Ha(t){return Ae(t).Ea.size===0}function KS(t){t.Va=void 0}async function xj(t){t.Ra.set("Online")}async function Tj(t){t.Ia.forEach(((e,n)=>{Jy(t,e)}))}async function wj(t,e){KS(t),t0(t)?(t.Ra.ha(e),e0(t)):t.Ra.set("Unknown")}async function Ej(t,e,n){if(t.Ra.set("Online"),e instanceof IS&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.Va.removeTarget(d))})(t,e)}catch(s){fe(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wd(t,s)}else if(e instanceof Cd?t.Va.Ze(e):e instanceof kS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await FS(t.localStore);n.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(m.resumeToken,c))}})),d.targetMismatches.forEach(((m,p)=>{const v=l.Ia.get(m);if(!v)return;l.Ia.set(m,v.withResumeToken(nn.EMPTY_BYTE_STRING,v.snapshotVersion)),$S(l,m);const _=new Si(v.target,m,p,v.sequenceNumber);Jy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(s){fe(Oa,"Failed to raise snapshot:",s),await Wd(t,s)}}async function Wd(t,e,n){if(!ml(e))throw e;t.Ea.add(1),await Ec(t),t.Ra.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{fe(Oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Af(t)}))}function YS(t,e){return e().catch((n=>Wd(t,n,e)))}async function Rf(t){const e=Ae(t),n=Oi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Py;for(;Sj(e);)try{const a=await aj(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,Aj(e,a)}catch(a){await Wd(e,a)}QS(e)&&XS(e)}function Sj(t){return Ha(t)&&t.Ta.length<10}function Aj(t,e){t.Ta.push(e);const n=Oi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function QS(t){return Ha(t)&&!Oi(t).x_()&&t.Ta.length>0}function XS(t){Oi(t).start()}async function Rj(t){Oi(t).ra()}async function Cj(t){const e=Oi(t);for(const n of t.Ta)e.ea(n.mutations)}async function Nj(t,e,n){const s=t.Ta.shift(),a=Gy.from(s,e,n);await YS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Rf(t)}async function kj(t,e){e&&Oi(t).X_&&await(async function(s,a){if((function(c){return hO(c)&&c!==ne.ABORTED})(a.code)){const l=s.Ta.shift();Oi(s).B_(),await YS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Rf(s)}})(t,e),QS(t)&&XS(t)}async function YT(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),fe(Oa,"RemoteStore received new credentials");const s=Ha(n);n.Ea.add(3),await Ec(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Af(n)}async function Ij(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Af(n)):e||(n.Ea.add(2),await Ec(n),n.Ra.set("Unknown"))}function pl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ae(n);return l.sa(),new pj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:xj.bind(null,t),t_:Tj.bind(null,t),r_:wj.bind(null,t),H_:Ej.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),t0(t)?e0(t):t.Ra.set("Unknown")):(await t.ma.stop(),KS(t))}))),t.ma}function Oi(t){return t.fa||(t.fa=(function(n,s,a){const l=Ae(n);return l.sa(),new gj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rj.bind(null,t),r_:kj.bind(null,t),ta:Cj.bind(null,t),na:Nj.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rf(t)):(await t.fa.stop(),t.Ta.length>0&&(fe(Oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const c=Date.now()+s,d=new n0(e,n,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r0(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),ml(t))return new de(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Du(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ga=new mt(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class al{constructor(e,n,s,a,l,c,d,m,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new al(e,n,Xo.emptySet(n),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_f(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Mj{constructor(){this.queries=XT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ae(n),l=a.queries;a.queries=XT(),l.forEach(((c,d)=>{for(const m of d.Sa)m.onError(s)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function XT(){return new Fa((t=>yS(t)),_f)}async function WS(t,e){const n=Ae(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new Dj,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const d=r0(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&s0(n)}async function ZS(t,e){const n=Ae(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Vj(t,e){const n=Ae(t);let s=!1;for(const a of e){const l=a.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(a)&&(s=!0);c.wa=a}}s&&s0(n)}function Oj(t,e,n){const s=Ae(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function s0(t){t.Ca.forEach((e=>{e.next()}))}var Gg,WT;(WT=Gg||(Gg={})).Ma="default",WT.Cache="cache";class JS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new al(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class jj{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=vS(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new QT,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((v,_)=>{const w=a.get(v),R=xf(this.query,_)?_:null,O=!!w&&this.mutatedKeys.has(w.key),j=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;w&&R?w.data.isEqual(R.data)?O!==j&&(s.track({type:3,doc:R}),N=!0):this.su(w,R)||(s.track({type:2,doc:R}),N=!0,(m&&this.eu(R,m)>0||p&&this.eu(R,p)<0)&&(d=!0)):!w&&R?(s.track({type:0,doc:R}),N=!0):w&&!R&&(s.track({type:1,doc:w}),N=!0,(m||p)&&(d=!0)),N&&(R?(c=c.add(R),l=j?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(R,O){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:N})}};return j(R)-j(O)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(s),a=a??!1;const d=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,c.length!==0||p?{snapshot:new al(this.query,e.tu,l,c,e.mutatedKeys,m===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new tA(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new eA(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const i0="SyncEngine";class Pj{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Lj{constructor(e){this.key=e,this.hu=!1}}class Uj{constructor(e,n,s,a,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fa((d=>yS(d)),_f),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ye.comparator),this.Au=new Map,this.Ru=new Yy,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zj(t,e,n=!0){const s=oA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await nA(s,e,n,!0),a}async function Bj(t,e){const n=oA(t);await nA(n,e,!0,!1)}async function nA(t,e,n,s){const a=await oj(t.localStore,$r(e)),l=a.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return s&&(d=await Fj(t,e,l,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&GS(t.remoteStore,a),d}async function Fj(t,e,n,s,a){t.pu=(_,w,R)=>(async function(j,N,B,G){let F=N.view.ru(B);F.Cs&&(F=await qT(j.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,F))));const se=G&&G.targetChanges.get(N.targetId),ae=G&&G.targetMismatches.get(N.targetId)!=null,ue=N.view.applyChanges(F,j.isPrimaryClient,se,ae);return JT(j,N.targetId,ue.au),ue.snapshot})(t,_,w,R);const l=await qT(t.localStore,e,!0),c=new jj(e,l.Qs),d=c.ru(l.documents),m=wc.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=c.applyChanges(d,t.isPrimaryClient,m);JT(t,n,p.au);const v=new Pj(e,n,c);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function qj(t,e,n){const s=Ae(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!_f(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await qg(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Zy(s.remoteStore,a.targetId),$g(s,a.targetId)})).catch(fl)):($g(s,a.targetId),await qg(s.localStore,a.targetId,!0))}async function Hj(t,e){const n=Ae(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Zy(n.remoteStore,s.targetId))}async function Gj(t,e,n){const s=Zj(t);try{const a=await(function(c,d){const m=Ae(c),p=at.now(),v=d.reduce(((R,O)=>R.add(O.key)),Le());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let O=Os(),j=Le();return m.Ns.getEntries(R,v).next((N=>{O=N,O.forEach(((B,G)=>{G.isValidDocument()||(j=j.add(B))}))})).next((()=>m.localDocuments.getOverlayedDocuments(R,O))).next((N=>{_=N;const B=[];for(const G of d){const F=aO(G,_.get(G.key).overlayedDocument);F!=null&&B.push(new qa(G.key,F,uS(F.value.mapValue),gr.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,B,d)})).next((N=>{w=N;const B=N.applyToLocalDocumentSet(_,j);return m.documentOverlayCache.saveOverlays(R,N.batchId,B)}))})).then((()=>({batchId:w.batchId,changes:_S(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,d,m){let p=c.Vu[c.currentUser.toKey()];p||(p=new mt(Pe)),p=p.insert(d,m),c.Vu[c.currentUser.toKey()]=p})(s,a.batchId,n),await Sc(s,a.changes),await Rf(s.remoteStore)}catch(a){const l=r0(a,"Failed to persist write");n.reject(l)}}async function rA(t,e){const n=Ae(t);try{const s=await sj(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=n.Au.get(l);c&&(Ke(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Ke(c.hu,14607):a.removedDocuments.size>0&&(Ke(c.hu,42227),c.hu=!1))})),await Sc(n,s,e)}catch(s){await fl(s)}}function ZT(t,e,n){const s=Ae(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const m=Ae(c);m.onlineState=d;let p=!1;m.queries.forEach(((v,_)=>{for(const w of _.Sa)w.va(d)&&(p=!0)})),p&&s0(m)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $j(t,e,n){const s=Ae(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new mt(ye.comparator);c=c.insert(l,ln.newNoDocument(l,Ee.min()));const d=Le().add(l),m=new Ef(Ee.min(),new Map,new mt(Pe),c,d);await rA(s,m),s.du=s.du.remove(l),s.Au.delete(e),a0(s)}else await qg(s.localStore,e,!1).then((()=>$g(s,e,n))).catch(fl)}async function Kj(t,e){const n=Ae(t),s=e.batch.batchId;try{const a=await rj(n.localStore,e);iA(n,s,null),sA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sc(n,a)}catch(a){await fl(a)}}async function Yj(t,e,n){const s=Ae(t);try{const a=await(function(c,d){const m=Ae(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return m.mutationQueue.lookupMutationBatch(p,d).next((_=>(Ke(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>m.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);iA(s,e,n),sA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sc(s,a)}catch(a){await fl(a)}}function sA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function iA(t,e,n){const s=Ae(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function $g(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||aA(t,s)}))}function aA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Zy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),a0(t))}function JT(t,e,n){for(const s of n)s instanceof eA?(t.Ru.addReference(s.key,e),Qj(t,s)):s instanceof tA?(fe(i0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||aA(t,s.key)):xe(19791,{wu:s})}function Qj(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(fe(i0,"New document in limbo: "+n),t.Eu.add(s),a0(t))}function a0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new Lj(n)),t.du=t.du.insert(n,s),GS(t.remoteStore,new Si($r(Fy(n.path)),s,"TargetPurposeLimboResolution",yf.ce))}}async function Sc(t,e,n){const s=Ae(t),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,m)=>{c.push(s.pu(m,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Xy.As(m.targetId,p);l.push(v)}})))})),await Promise.all(c),s.Pu.H_(a),await(async function(m,p){const v=Ae(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(p,(w=>re.forEach(w.Es,(R=>v.persistence.referenceDelegate.addReference(_,w.targetId,R))).next((()=>re.forEach(w.ds,(R=>v.persistence.referenceDelegate.removeReference(_,w.targetId,R)))))))))}catch(_){if(!ml(_))throw _;fe(Wy,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const R=v.Ms.get(w),O=R.snapshotVersion,j=R.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(w,j)}}})(s.localStore,l))}async function Xj(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){fe(i0,"User change. New user:",e.toKey());const s=await BS(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((m=>{m.reject(new de(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sc(n,s.Ls)}}function Wj(t,e){const n=Ae(t),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let a=Le();const l=n.Iu.get(e);if(!l)return a;for(const c of l){const d=n.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}function oA(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=rA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$j.bind(null,e),e.Pu.H_=Vj.bind(null,e.eventManager),e.Pu.yu=Oj.bind(null,e.eventManager),e}function Zj(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yj.bind(null,e),e}class Zd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return nj(this.persistence,new JO,e.initialUser,this.serializer)}Cu(e){return new zS(Qy.mi,this.serializer)}Du(e){return new uj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zd.provider={build:()=>new Zd};class Jj extends Zd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Xd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new LO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new zS((s=>Xd.mi(s,n)),this.serializer)}}class Kg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ZT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xj.bind(null,this.syncEngine),await Ij(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Mj})()}createDatastore(e){const n=Sf(e.databaseInfo.databaseId),s=(function(l){return new mj(l)})(e.databaseInfo);return(function(l,c,d,m){return new vj(l,c,d,m)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,c,d){return new _j(s,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>ZT(this.syncEngine,n,0)),(function(){return $T.v()?new $T:new cj})())}createSyncEngine(e,n){return(function(a,l,c,d,m,p,v){const _=new Uj(a,l,c,d,m,p);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);fe(Oa,"RemoteStore shutting down."),s.Ea.add(5),await Ec(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="FirestoreClient";class eP{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=jy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{fe(ji,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(ji,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=r0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),fe(ji,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await BS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function ew(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tP(t);fe(ji,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>YT(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>YT(e.remoteStore,a))),t._onlineComponents=e}async function tP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe(ji,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ne.FAILED_PRECONDITION||a.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new Zd)}}else fe(ji,"Using default OfflineComponentProvider"),await Jp(t,new Jj(void 0));return t._offlineComponents}async function uA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe(ji,"Using user provided OnlineComponentProvider"),await ew(t,t._uninitializedComponentsProvider._online)):(fe(ji,"Using default OnlineComponentProvider"),await ew(t,new Kg))),t._onlineComponents}function nP(t){return uA(t).then((e=>e.syncEngine))}async function cA(t){const e=await uA(t),n=e.eventManager;return n.onListen=zj.bind(null,e.syncEngine),n.onUnlisten=qj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Hj.bind(null,e.syncEngine),n}function rP(t,e,n={}){const s=new Cs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const v=new lA({next:w=>{v.Nu(),c.enqueueAndForget((()=>ZS(l,_)));const R=w.docs.has(d);!R&&w.fromCache?p.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&m&&m.source==="server"?p.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new JS(Fy(d.path),v,{includeMetadataChanges:!0,qa:!0});return WS(l,_)})(await cA(t),t.asyncQueue,e,n,s))),s.promise}function sP(t,e,n={}){const s=new Cs;return t.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,m,p){const v=new lA({next:w=>{v.Nu(),c.enqueueAndForget((()=>ZS(l,_))),w.fromCache&&m.source==="server"?p.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new JS(d,v,{includeMetadataChanges:!0,qa:!0});return WS(l,_)})(await cA(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="firestore.googleapis.com",nw=!0;class rw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dA,this.ssl=nw}else this.host=e.host,this.ssl=e.ssl??nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=US;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jO)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cf{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new uV;switch(s.type){case"firstParty":return new fV(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=tw.get(n);s&&(fe("ComponentProvider","Removing Datastore"),tw.delete(n),s.terminate())})(this),Promise.resolve()}}function iP(t,e,n,s={}){t=Vs(t,Cf);const a=La(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;a&&(xy(`https://${d}`),Ty("Firestore",!0)),l.host!==dA&&l.host!==d&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:d,ssl:a,emulatorOptions:s};if(!ka(m,c)&&(t._setSettings(m),s.mockUserToken)){let p,v;if(typeof s.mockUserToken=="string")p=s.mockUserToken,v=on.MOCK_USER;else{p=n1(s.mockUserToken,t._app?.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(_)}t._authCredentials=new cV(new W1(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gl(this.firestore,e,this._query)}}class Pt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(_c(n,Pt._jsonSchema))return new Pt(e,s||null,new ye(rt.fromString(n.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:jt("string",Pt._jsonSchemaVersion),referencePath:jt("string")};class Ni extends gl{constructor(e,n,s){super(e,n,Fy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ye(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function sc(t,e,...n){if(t=tn(t),Z1("collection","path",e),t instanceof Cf){const s=rt.fromString(e,...n);return gT(s),new Ni(t,null,s)}{if(!(t instanceof Pt||t instanceof Ni))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return gT(s),new Ni(t.firestore,null,s)}}function Pi(t,e,...n){if(t=tn(t),arguments.length===1&&(e=jy.newId()),Z1("doc","path",e),t instanceof Cf){const s=rt.fromString(e,...n);return pT(s),new Pt(t,null,new ye(s))}{if(!(t instanceof Pt||t instanceof Ni))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return pT(s),new Pt(t.firestore,t instanceof Ni?t.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="AsyncQueue";class iw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const s=Zp();s&&fe(sw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ml(e))throw e;fe(sw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",aw(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=n0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&xe(47125,{Pc:aw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class yl extends Cf{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new iw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iw(e),this._firestoreClient=void 0,await e}}}function aP(t,e){const n=typeof t=="object"?t:Sy(),s=typeof t=="string"?t:Hd,a=df(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=JE("firestore");l&&iP(a,...l)}return a}function o0(t){if(t._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oP(t),t._firestoreClient}function oP(t){const e=t._freezeSettings(),n=(function(a,l,c,d){return new kV(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,hA(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eP(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(nn.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_c(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:jt("string",Xn._jsonSchemaVersion),bytes:jt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yr._jsonSchemaVersion}}static fromJSON(e){if(_c(e,Yr._jsonSchema))return new Yr(e.latitude,e.longitude)}}Yr._jsonSchemaVersion="firestore/geoPoint/1.0",Yr._jsonSchema={type:jt("string",Yr._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_c(e,Qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Qr(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qr._jsonSchemaVersion="firestore/vectorValue/1.0",Qr._jsonSchema={type:jt("string",Qr._jsonSchemaVersion),vectorValues:jt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^__.*__$/;class uP{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}function fA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:t})}}class c0{constructor(e,n,s,a,l,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new c0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fA(this.Ac)&&lP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class cP{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Sf(e)}Cc(e,n,s,a=!1){return new c0({Ac:e,methodName:n,Dc:s,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h0(t){const e=t._freezeSettings(),n=Sf(t._databaseId);return new cP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mA(t,e,n,s,a,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);yA("Data must be an object, but it was:",c,s);const d=pA(s,c);let m,p;if(l.merge)m=new mr(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const w=dP(e,_,n);if(!c.contains(w))throw new de(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);mP(v,w)||v.push(w)}m=new mr(v),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new uP(new Qn(d),m,p)}class d0 extends u0{_toFieldTransform(e){return new nO(e.path,new tc)}isEqual(e){return e instanceof d0}}function hP(t,e,n,s=!1){return f0(n,t.Cc(s?4:3,e))}function f0(t,e){if(gA(t=tn(t)))return yA("Unsupported field value:",e,t),pA(t,e);if(t instanceof u0)return(function(s,a){if(!fA(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const d of s){let m=f0(d,a.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return JV(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=at.fromDate(s);return{timestampValue:Qd(a.serializer,l)}}if(s instanceof at){const l=new at(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Qd(a.serializer,l)}}if(s instanceof Yr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Xn)return{bytesValue:DS(a.serializer,s._byteString)};if(s instanceof Pt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ky(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Qr)return(function(c,d){return{mapValue:{fields:{[oS]:{stringValue:lS},[Gd]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return qy(d.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${gf(s)}`)})(t,e)}function pA(t,e){const n={};return tS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ba(t,((s,a)=>{const l=f0(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function gA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Yr||t instanceof Xn||t instanceof Pt||t instanceof u0||t instanceof Qr)}function yA(t,e,n){if(!gA(n)||!J1(n)){const s=gf(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function dP(t,e,n){if((e=tn(e))instanceof l0)return e._internalPath;if(typeof e=="string")return vA(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const fP=new RegExp("[~\\*/\\[\\]]");function vA(t,e,n){if(e.search(fP)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new l0(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${s}`),c&&(m+=` in document ${a}`),m+=")"),new de(ne.INVALID_ARGUMENT,d+t+m)}function mP(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pP extends bA{data(){return super.data()}}function m0(t,e){return typeof e=="string"?vA(t,e):e instanceof l0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}class yP extends p0{}function ow(t,e,...n){let s=[];e instanceof p0&&s.push(e),s=s.concat(n),(function(l){const c=l.filter((m=>m instanceof g0)).length,d=l.filter((m=>m instanceof Nf)).length;if(c>1||c>0&&d>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Nf extends yP{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Nf(e,n,s)}_apply(e){const n=this._parse(e);return _A(e._query,n),new gl(e.firestore,e.converter,Pg(e._query,n))}_parse(e){const n=h0(e.firestore);return(function(l,c,d,m,p,v,_){let w;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){cw(_,v);const O=[];for(const j of _)O.push(uw(m,l,j));w={arrayValue:{values:O}}}else w=uw(m,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||cw(_,v),w=hP(d,c,_,v==="in"||v==="not-in");return Ot.create(p,v,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lw(t,e,n){const s=e,a=m0("where",t);return Nf._create(a,s,n)}class g0 extends p0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:vr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)_A(c,m),c=Pg(c,m)})(e._query,n),new gl(e.firestore,e.converter,Pg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function uw(t,e,n){if(typeof(n=tn(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gS(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ET(t,new ye(s))}if(n instanceof Pt)return ET(t,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function cw(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _A(t,e){const n=(function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vP{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ba(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Gd].arrayValue?.values?.map((s=>wt(s.doubleValue)));return new Qr(n)}convertGeoPoint(e){return new Yr(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zu(e));default:return null}}convertTimestamp(e){const n=Di(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(LS(s),9688,{name:e});const a=new Ju(s.get(1),s.get(3)),l=new ye(s.popFirst(5));return a.isEqual(n)||Ms(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends bA{constructor(e,n,s,a,l,c){super(e,n,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(m0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:jt("string",Ra._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class Nd extends Ra{data(e={}){return super.data(e)}}class Wo{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Vu(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Nd(this._firestore,this._userDataWriter,s.key,s,new Vu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const m=new Nd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const m=new Nd(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Vu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:bP(d.type),doc:m,oldIndex:p,newIndex:v}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){t=Vs(t,Pt);const e=Vs(t.firestore,yl);return rP(o0(e),t._key).then((n=>xP(e,t,n)))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:jt("string",Wo._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};class TA extends vP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function ef(t){t=Vs(t,gl);const e=Vs(t.firestore,yl),n=o0(e),s=new TA(e);return gP(t._query),sP(n,t._query).then((a=>new Wo(e,s,t,a)))}function wA(t,e,n){t=Vs(t,Pt);const s=Vs(t.firestore,yl),a=xA(t.converter,e);return y0(s,[mA(h0(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,gr.none())])}function EA(t){return y0(Vs(t.firestore,yl),[new Hy(t._key,gr.none())])}function _P(t,e){const n=Vs(t.firestore,yl),s=Pi(t),a=xA(t.converter,e);return y0(n,[mA(h0(t.firestore),"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,gr.exists(!1))]).then((()=>s))}function y0(t,e){return(function(s,a){const l=new Cs;return s.asyncQueue.enqueueAndForget((async()=>Gj(await nP(s),a,l))),l.promise})(o0(t),e)}function xP(t,e,n){const s=n.docs.get(e._key),a=new TA(t);return new Ra(t,a,e._key,s,new Vu(n.hasPendingWrites,n.fromCache),e.converter)}function hw(){return new d0("serverTimestamp")}(function(e,n=!0){(function(a){dl=a})(Ua),Ia(new ki("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new yl(new hV(s.getProvider("auth-internal")),new mV(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(p.options.projectId,v)})(c,a),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),qr(hT,dT,e),qr(hT,dT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="firebasestorage.googleapis.com",TP="storageBucket",wP=120*1e3,EP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends rs{constructor(e,n,s=0){super(eg(e),`Firebase Storage: ${n} (${eg(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ss.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var es;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(es||(es={}));function eg(t){return"storage/"+t}function SP(){const t="An unknown error occurred, please check the error payload for server response.";return new ss(es.UNKNOWN,t)}function AP(){return new ss(es.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RP(){return new ss(es.CANCELED,"User canceled the upload/download.")}function CP(t){return new ss(es.INVALID_URL,"Invalid URL '"+t+"'.")}function NP(t){return new ss(es.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dw(t){return new ss(es.INVALID_ARGUMENT,t)}function AA(){return new ss(es.APP_DELETED,"The Firebase app was deleted.")}function kP(t){return new ss(es.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=pr.makeFromUrl(e,n)}catch{return new pr(e,"")}if(s.path==="")return s;throw NP(e)}static makeFromUrl(e,n){let s=null;const a="([A-Za-z0-9.\\-_]+)";function l(se){se.path.charAt(se.path.length-1)==="/"&&(se.path_=se.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(se){se.path_=decodeURIComponent(se.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",R=new RegExp(`^https?://${_}/${v}/b/${a}/o${w}`,"i"),O={bucket:1,path:3},j=n===SA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",B=new RegExp(`^https?://${j}/${a}/${N}`,"i"),F=[{regex:d,indices:m,postModify:l},{regex:R,indices:O,postModify:p},{regex:B,indices:{bucket:1,path:2},postModify:p}];for(let se=0;se<F.length;se++){const ae=F[se],ue=ae.regex.exec(e);if(ue){const k=ue[ae.indices.bucket];let A=ue[ae.indices.path];A||(A=""),s=new pr(k,A),ae.postModify(s);break}}if(s==null)throw CP(e);return s}}class IP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e,n){let s=1,a=null,l=null,c=!1,d=0;function m(){return d===2}let p=!1;function v(...N){p||(p=!0,e.apply(null,N))}function _(N){a=setTimeout(()=>{a=null,t(R,m())},N)}function w(){l&&clearTimeout(l)}function R(N,...B){if(p){w();return}if(N){w(),v.call(null,N,...B);return}if(m()||c){w(),v.call(null,N,...B);return}s<64&&(s*=2);let F;d===1?(d=2,F=0):F=(s+Math.random())*1e3,_(F)}let O=!1;function j(N){O||(O=!0,w(),!p&&(a!==null?(N||(d=2),clearTimeout(a),_(0)):N||(d=1)))}return _(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function MP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){return t!==void 0}function fw(t,e,n,s){if(s<e)throw dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw dw(`Invalid value for '${t}'. Expected ${n} or less.`)}function OP(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const a=e(s)+"="+e(t[s]);n=n+a+"&"}return n=n.slice(0,-1),n}var tf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tf||(tf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,s,a,l,c,d,m,p,v,_,w=!0,R=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=w,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,j)=>{this.resolve_=O,this.reject_=j,this.start_()})}start_(){const e=(s,a)=>{if(a){s(!1,new fd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const m=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===tf.NO_ERROR,m=l.getStatus();if(!d||jP(m,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===tf.ABORT;s(!1,new fd(!1,null,v));return}const p=this.successCodes_.indexOf(m)!==-1;s(!0,new fd(p,l))})},n=(s,a)=>{const l=this.resolve_,c=this.reject_,d=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());VP(m)?l(m):l()}catch(m){c(m)}else if(d!==null){const m=SP();m.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,m)):c(m)}else if(a.canceled){const m=this.appDelete_?AA():RP();c(m)}else{const m=AP();c(m)}};this.canceled_?n(!1,new fd(!1,null,!0)):this.backoffId_=DP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class fd{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function LP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FP(t,e,n,s,a,l,c=!0,d=!1){const m=OP(t.urlParams),p=t.url+m,v=Object.assign({},t.headers);return zP(v,e),LP(v,n),UP(v,l),BP(v,s),new PP(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this._service=e,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new nf(e,n)}get root(){const e=new pr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HP(this._location.path)}get storage(){return this._service}get parent(){const e=qP(this._location.path);if(e===null)return null;const n=new pr(this._location.bucket,e);return new nf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kP(e)}}function mw(t,e){const n=e?.[TP];return n==null?null:pr.makeFromBucketSpec(n,t)}function GP(t,e,n,s={}){t.host=`${e}:${n}`;const a=La(e);a&&(xy(`https://${t.host}/b`),Ty("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=s;l&&(t._overrideAuthToken=typeof l=="string"?l:n1(l,t.app.options.projectId))}class $P{constructor(e,n,s,a,l,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=SA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wP,this._maxUploadRetryTime=EP,this._requests=new Set,a!=null?this._bucket=pr.makeFromBucketSpec(a,this._host):this._bucket=mw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,e):this._bucket=mw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new nf(this,e)}_makeRequest(e,n,s,a,l=!0){if(this._deleted)return new IP(AA());{const c=FP(e,this._appId,s,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[s,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,a).getPromise()}}const pw="@firebase/storage",gw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="storage";function KP(t=Sy(),e){t=tn(t);const s=df(t,RA).getImmediate({identifier:e}),a=JE("storage");return a&&YP(s,...a),s}function YP(t,e,n,s={}){GP(t,e,n,s)}function QP(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new $P(n,s,a,e,Ua)}function XP(){Ia(new ki(RA,QP,"PUBLIC").setMultipleInstances(!0)),qr(pw,gw,""),qr(pw,gw,"esm2020")}XP();const WP={apiKey:"AIzaSyAhp1CAPaJ5X2yXuq3tHOPz0i1heyaNf7I",authDomain:"wantsandneeds-5fac9.firebaseapp.com",projectId:"wantsandneeds-5fac9",storageBucket:"wantsandneeds-5fac9.firebasestorage.app",messagingSenderId:"295957066079",appId:"1:295957066079:web:730abcd095f71c55f646ea"},If=i1(WP),Ns=q1(If),Wn=aP(If);KP(If);const ZP=()=>{const[t,e]=M.useState([]),[n,s]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const c=(await ef(sc(Wn,"products"))).docs.map(d=>({id:d.id,...d.data()}));e(c)}catch(l){console.error("Error fetching products:",l)}finally{s(!1)}})()},[]),y.jsxs("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-12",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-4xl font-bold mb-2 dark:text-white",children:"Trending Now"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"The hottest drops this week"})]}),y.jsxs("a",{href:"/collections/trending",className:"hidden md:flex items-center gap-2 text-black dark:text-white font-medium hover:gap-3 transition-all",children:["View All",y.jsx(Jo,{className:"w-5 h-5"})]})]}),n?y.jsx("div",{className:"flex justify-center items-center py-12",children:y.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:"Loading trending products..."})}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.slice(0,8).map(a=>y.jsxs("div",{className:"group bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-500",children:[y.jsxs("div",{className:"relative aspect-square bg-neutral-100 dark:bg-neutral-900 overflow-hidden",children:[y.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),y.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-500"}),a.isNew&&y.jsx("div",{className:"absolute top-3 left-3",children:y.jsx("span",{className:"px-3 py-1.5 bg-white dark:bg-black text-black dark:text-white text-xs font-bold rounded-full border border-neutral-300 dark:border-neutral-700",children:"NEW"})}),y.jsx("div",{className:"absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-500",children:y.jsx("button",{className:"p-2.5 bg-white/90 dark:bg-black/90 backdrop-blur-sm rounded-full hover:scale-110 transition-transform duration-300 border border-neutral-300 dark:border-neutral-700",children:y.jsx(Fr,{className:"w-4 h-4"})})})]}),y.jsxs("div",{className:"p-5",children:[y.jsxs("div",{className:"mb-3",children:[y.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 uppercase tracking-wide font-medium mb-1",children:a.category}),y.jsx("h3",{className:"font-bold text-lg dark:text-white line-clamp-2 group-hover:text-neutral-600 dark:group-hover:text-neutral-300 transition-colors",children:a.title})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("span",{className:"text-xl font-black dark:text-white",children:["$",a.price.toLocaleString()]}),y.jsx("button",{className:"p-2.5 bg-neutral-100 dark:bg-neutral-800 rounded-full hover:bg-black dark:hover:bg-white hover:text-white dark:hover:text-black transition-all duration-300 group/btn",children:y.jsx(Jo,{className:"w-4 h-4 group-hover/btn:translate-x-0.5 transition-transform"})})]})]})]},a.id))})]})},JP="/assets/image1-B6OsWDCX.png",e3="/assets/image2-DUYBUaDF.jpg",t3="/assets/image3-DirjVl3F.png",n3="/assets/image4-BUCVyL4p.jpeg",r3=()=>{const t=[{title:"",description:"Where street meets sophistication",image:JP,cta:"Explore Style",link:"/collections/urban"},{title:"Premium Essentials",description:"Elevate your everyday wardrobe",image:e3,cta:"Shop Collection",link:"/collections/essentials"},{title:"Signature Sweatsuits",description:"Comfort meets street-ready style",image:t3,cta:"Shop Now",link:"/collections/sweatsuits"},{title:"Limited Edition",description:"Exclusive drops, limited quantities",image:n3,cta:"View Drops",link:"/collections/limited"}];return y.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.map((e,n)=>y.jsxs("div",{className:"group relative h-96 rounded-3xl overflow-hidden bg-black",children:[y.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),y.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all duration-500"}),y.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-8 text-white",children:[y.jsx("h3",{className:"text-3xl font-bold mb-2",children:e.title}),y.jsx("p",{className:"text-lg text-white/80 mb-6",children:e.description}),y.jsxs("a",{href:e.link,className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-black font-bold rounded-full hover:bg-black hover:text-white border-2 border-white transition-all duration-300 w-fit group/btn",children:[e.cta,y.jsx("span",{className:"group-hover/btn:translate-x-1 transition-transform",children:""})]})]})]},n))})})},s3=()=>{const[t,e]=M.useState(""),[n,s]=M.useState(!1),a=c=>{c.preventDefault(),console.log("Email submitted:",t),s(!0),e("")},l=[{icon:y.jsx(aI,{className:"w-5 h-5"}),text:"Early access to new drops"},{icon:y.jsx(Dk,{className:"w-5 h-5"}),text:"Exclusive notifications"},{icon:y.jsx(jk,{className:"w-5 h-5"}),text:"First to know about sales"}];return y.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-ash dark:bg-black",children:y.jsx("div",{className:"max-w-6xl mx-auto",children:n?y.jsx("div",{className:"text-center",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-12 shadow-lg border border-neutral-200 dark:border-neutral-800 max-w-2xl mx-auto",children:[y.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),y.jsx("h2",{className:"text-3xl font-bold mb-4 dark:text-white",children:"You're on the list! "}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"We'll notify you about new drops and exclusive updates."}),y.jsx("button",{onClick:()=>s(!1),className:"px-6 py-3 bg-black dark:bg-white text-white dark:text-black font-medium rounded-full hover:scale-105 transition-transform",children:"Add Another Email"})]})}):y.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[y.jsxs("div",{className:"text-left",children:[y.jsx("h2",{className:"text-4xl font-bold mb-6 dark:text-white leading-tight",children:"Get Early Access"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-8 leading-relaxed",children:"Be the first to know about new drops and exclusive updates before anyone else."}),y.jsx("div",{className:"space-y-4",children:l.map((c,d)=>y.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/50 dark:bg-neutral-900/50 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-neutral-800/50",children:[y.jsx("div",{className:"p-3 bg-ash dark:bg-neutral-800 rounded-xl text-black dark:text-white",children:c.icon}),y.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:c.text})]},d))})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl p-8 shadow-lg border border-neutral-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("h3",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Join the Waitlist"}),y.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Get notified when new drops arrive"})]}),y.jsxs("form",{onSubmit:a,className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Email Address"}),y.jsx("input",{type:"email",id:"email",value:t,onChange:c=>e(c.target.value),placeholder:"your.email@example.com",className:"w-full px-4 py-4 bg-ash dark:bg-black border border-neutral-300 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent dark:text-white placeholder-gray-500 dark:placeholder-gray-400 transition-all",required:!0})]}),y.jsx("button",{type:"submit",className:"w-full px-8 py-4 bg-black dark:bg-white text-white dark:text-black font-bold rounded-xl hover:scale-105 transition-transform duration-300",children:"Notify Me"}),y.jsx("div",{className:"text-center",children:y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"No spam, just early access notifications"})})]})]})]})})})},i3=()=>y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[y.jsx(cI,{}),y.jsx(hI,{}),y.jsx(ZP,{}),y.jsx(r3,{}),y.jsx(s3,{})]}),a3=async(t,e)=>{if(!t)return;const n=Pi(Wn,"users",t.uid);if(!(await kf(n)).exists()){const{email:a,displayName:l,photoURL:c}=t,d=new Date;try{await wA(n,{uid:t.uid,email:a,fullName:e?.fullName||l||a.split("@")[0],username:e?.username||a.split("@")[0],displayName:e?.fullName||l||a.split("@")[0],photoURL:c||null,createdAt:d,updatedAt:d})}catch(m){console.error("Error creating user document:",m)}}return n},o3=async(t,e,n,s)=>{try{const a=Pi(Wn,"wishlists",`${t}_${s.id}`);return await wA(a,{userId:t,userEmail:e,userName:n,productId:s.id,productName:s.title||s.name||"",productPrice:s.price,productImage:s.images?s.images[0]:s.image||"",productCategory:s.category,addedAt:new Date}),!0}catch(a){return console.error("Error adding to wishlist:",a),!1}},l3=async(t,e)=>{try{const n=Pi(Wn,"wishlists",`${t}_${e}`);return await EA(n),!0}catch(n){return console.error("Error removing from wishlist:",n),!1}},u3=async(t,e)=>{try{const n=Pi(Wn,"wishlists",`${t}_${e}`);return(await kf(n)).exists()}catch(n){return console.error("Error checking wishlist:",n),!1}},c3=async()=>(await ef(sc(Wn,"products"))).docs.map(e=>({id:e.id,...e.data()})),h3=q1(If),d3=async(t,e,n,s)=>{try{const l=(await $4(h3,t,e)).user;return await Q4(l,{displayName:n}),await a3(l,{fullName:n,username:s}),l}catch(a){throw console.error("Signup error:",a.message),a}},Df="/assets/Logo-DDYht6sT.png",f3=()=>{const[t,e]=M.useState({fullName:"",username:"",email:"",password:"",confirmPassword:""}),[n,s]=M.useState(""),[a,l]=M.useState(!1),[c,d]=M.useState(!1),[m,p]=M.useState(!1),v=Pa(),_=O=>{e({...t,[O.target.name]:O.target.value})},w=async O=>{if(O.preventDefault(),s(""),t.password!==t.confirmPassword){s("Passwords don't match");return}if(t.password.length<6){s("Password must be at least 6 characters");return}l(!0);try{await d3(t.email,t.password,t.fullName,t.username),v("/profile")}catch(j){console.error("Signup failed:",j.message),s(R(j.code))}finally{l(!1)}},R=O=>{switch(O){case"auth/email-already-in-use":return"This email is already registered";case"auth/invalid-email":return"Invalid email address";case"auth/weak-password":return"Password is too weak";case"auth/network-request-failed":return"Network error. Please check your connection";default:return"Signup failed. Please try again"}};return y.jsx("div",{className:"min-h-screen bg-linear-to-br from-gray-50 to-gray-100 dark:from-black dark:to-neutral-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-neutral-300 mt-5 p-2 dark:bg-white rounded-2xl flex items-center justify-center mx-auto mb-4",children:y.jsx("span",{className:"text-2xl font-bold text-white dark:text-black",children:y.jsx("img",{src:Df,alt:""})})}),y.jsx("h1",{className:"text-3xl font-black text-black dark:text-white mb-2",children:"Join Wants & Needs"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400",children:"Create your account and start shopping"})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-lg border border-gray-200 dark:border-neutral-800 p-6 sm:p-8",children:[y.jsxs("form",{onSubmit:w,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(Aa,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:"text",name:"fullName",placeholder:"Enter your full name",value:t.fullName,onChange:_,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Username"}),y.jsxs("div",{className:"relative",children:[y.jsx(Aa,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:"text",name:"username",placeholder:"Choose a username",value:t.username,onChange:_,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx($E,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:_,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(_g,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:c?"text":"password",name:"password",placeholder:"Create a password",value:t.password,onChange:_,required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"}),y.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:c?y.jsx(bg,{className:"w-5 h-5"}):y.jsx(vg,{className:"w-5 h-5"})})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Confirm Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(_g,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:m?"text":"password",name:"confirmPassword",placeholder:"Confirm your password",value:t.confirmPassword,onChange:_,required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"}),y.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:m?y.jsx(bg,{className:"w-5 h-5"}):y.jsx(vg,{className:"w-5 h-5"})})]})]}),n&&y.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:n})}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-black dark:bg-white text-white dark:text-black py-4 rounded-xl font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center justify-center gap-2 border-2 border-black dark:border-white",children:a?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Creating Account..."]}):y.jsxs(y.Fragment,{children:["Create Account",y.jsx(Jo,{className:"w-5 h-5"})]})})]}),y.jsxs("div",{className:"flex items-center my-6",children:[y.jsx("div",{className:"flex-1 border-t border-gray-200 dark:border-neutral-700"}),y.jsx("span",{className:"px-3 text-sm text-gray-500 dark:text-neutral-400",children:"or"}),y.jsx("div",{className:"flex-1 border-t border-gray-200 dark:border-neutral-700"})]}),y.jsxs("p",{className:"text-center text-gray-600 dark:text-neutral-400",children:["Already have an account?"," ",y.jsx(an,{to:"/login",className:"text-black dark:text-white font-bold hover:underline transition-all",children:"Sign In"})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 text-center",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Free Shipping"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Premium Quality"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Easy Returns"})]})]})]})})},m3=()=>{const[t,e]=M.useState({email:"",password:""}),[n,s]=M.useState(""),[a,l]=M.useState(!1),[c,d]=M.useState(!1),m=Pa(),p=w=>{e({...t,[w.target.name]:w.target.value})},v=async w=>{w.preventDefault(),s(""),l(!0);try{await K4(Ns,t.email,t.password),m("/profile")}catch(R){s(_(R.code))}finally{l(!1)}},_=w=>{switch(w){case"auth/user-not-found":return"No account found with this email";case"auth/wrong-password":return"Incorrect password";case"auth/invalid-email":return"Invalid email address";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/too-many-requests":return"Too many attempts. Please try again later";default:return"Login failed. Please check your credentials"}};return y.jsx("div",{className:"min-h-screen bg-linear-to-br from-gray-50 to-gray-100 dark:from-black dark:to-neutral-900 flex items-center justify-center p-4",children:y.jsxs("div",{className:"w-full max-w-md",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx("div",{className:"w-16 h-16 bg-neutral-200 mt-5  dark:bg-white rounded-2xl flex items-center justify-center mx-auto mb-4 p-2",children:y.jsx("img",{src:Df,alt:"Wants & Needs",className:"w-full h-full object-contain"})}),y.jsx("h1",{className:"text-3xl font-black text-black dark:text-white mb-2",children:"Welcome Back"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400",children:"Sign in to your Wants & Needs account"})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-lg border border-gray-200 dark:border-neutral-800 p-6 sm:p-8",children:[y.jsxs("form",{onSubmit:v,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx($E,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:"email",name:"email",placeholder:"Enter your email",value:t.email,onChange:p,required:!0,className:"w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-neutral-300 mb-2 block",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(_g,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),y.jsx("input",{type:c?"text":"password",name:"password",placeholder:"Enter your password",value:t.password,onChange:p,required:!0,className:"w-full pl-10 pr-12 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-black dark:text-white placeholder-gray-500 dark:placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white focus:border-transparent transition-all"}),y.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:c?y.jsx(bg,{className:"w-5 h-5"}):y.jsx(vg,{className:"w-5 h-5"})})]})]}),y.jsx("div",{className:"text-right",children:y.jsx("button",{type:"button",className:"text-sm text-gray-600 dark:text-neutral-400 hover:text-black dark:hover:text-white transition-colors",children:"Forgot password?"})}),n&&y.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl",children:y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:n})}),y.jsx("button",{type:"submit",disabled:a,className:"w-full bg-black dark:bg-white text-white dark:text-black py-4 rounded-xl font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center justify-center gap-2 border-2 border-black dark:border-white",children:a?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Signing In..."]}):y.jsxs(y.Fragment,{children:["Sign In",y.jsx(Jo,{className:"w-5 h-5"})]})})]}),y.jsxs("div",{className:"flex items-center my-6",children:[y.jsx("div",{className:"flex-1 border-t border-gray-200 dark:border-neutral-700"}),y.jsx("span",{className:"px-3 text-sm text-gray-500 dark:text-neutral-400",children:"or"}),y.jsx("div",{className:"flex-1 border-t border-gray-200 dark:border-neutral-700"})]}),y.jsxs("p",{className:"text-center text-gray-600 dark:text-neutral-400",children:["Don't have an account?"," ",y.jsx(an,{to:"/signup",className:"text-black dark:text-white font-bold hover:underline transition-all",children:"Create Account"})]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-8 text-center",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Free Shipping"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Premium Quality"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Easy Returns"})]})]})]})})};function p3(){const[t,e]=M.useState(Ns.currentUser),n=Pa(),[s,a]=M.useState("overview"),[l,c]=M.useState([]),[d,m]=M.useState([]),[p,v]=M.useState(null),[_,w]=M.useState(!0),[R,O]=M.useState(!0),[j,N]=M.useState(!1),[B,G]=M.useState(null);M.useEffect(()=>{const D=Dy(Ns,I=>{e(I),O(!1),I?F(I):w(!1)});return()=>D()},[]);const F=async D=>{if(!D?.uid){w(!1);return}try{console.log("Fetching user data for UID:",D.uid);const I=Pi(Wn,"users",D.uid),He=await kf(I);He.exists()?(console.log("User data found:",He.data()),v(He.data())):console.log("No user data found in Firestore");const ot=sc(Wn,"orders"),W=ow(ot,lw("userEmail","==",D.email)),ie=await ef(W),he=[];ie.forEach(be=>{he.push({id:be.id,...be.data()})}),console.log("Orders found:",he.length),he.sort((be,Ie)=>{const U=be.createdAt?.toDate?.()||new Date(0);return(Ie.createdAt?.toDate?.()||new Date(0)).getTime()-U.getTime()}),c(he);try{console.log("Attempting to fetch wishlist for user:",D.uid);const be=sc(Wn,"wishlists"),Ie=ow(be,lw("userId","==",D.uid)),U=await ef(Ie);console.log("Wishlist query completed, docs:",U.size);const J=[];U.forEach(le=>{const ce=le.data();console.log("Wishlist doc:",le.id,ce),J.push({id:le.id,...ce})}),console.log("Wishlist items found:",J.length),J.sort((le,ce)=>{const Te=le.addedAt?.toDate?.()||new Date(0);return(ce.addedAt?.toDate?.()||new Date(0)).getTime()-Te.getTime()}),m(J),G(null)}catch(be){console.error("Error fetching wishlist:",be),G("Failed to load wishlist. Please check console for details."),m([])}}catch(I){console.error("Error fetching user data:",I),G("Error loading profile data")}finally{w(!1)}},se=async()=>{try{await D1(Ns),n("/login")}catch(D){alert("Error logging out: "+D.message)}},ae=async D=>{try{await EA(Pi(Wn,"wishlists",D)),m(d.filter(I=>I.id!==D))}catch(I){console.error("Error removing from wishlist:",I),alert("Error removing item from wishlist")}},ue=D=>{if(!D)return"Unknown date";try{return(D.toDate?D.toDate():new Date(D)).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid date"}},k=()=>p?.fullName?p.fullName:p?.displayName?p.displayName:t?.displayName?t.displayName:"User",A=()=>{N(!j)};if(R)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 dark:border-neutral-700 border-t-black dark:border-t-white rounded-full animate-spin mx-auto mb-6"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg font-medium",children:"Checking authentication..."})]})});if(!t)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black px-4",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-900 p-8 rounded-2xl shadow-lg w-full max-w-md text-center border border-gray-200 dark:border-neutral-800",children:[y.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:y.jsx(Aa,{className:"w-8 h-8 text-gray-400"})}),y.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Not Logged In"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 mb-6",children:"Please sign in to access your profile."}),y.jsx("button",{onClick:()=>n("/login"),className:"w-full px-6 py-3 bg-black dark:bg-white text-white dark:text-black rounded-lg font-medium hover:scale-105 transition-transform",children:"Sign In"})]})});const C=[{label:"Orders",value:l.length.toString(),icon:Yu},{label:"Wishlist",value:d.length.toString(),icon:Fr}],L=l.slice(0,5).map(D=>({id:`#${D.id.slice(-6).toUpperCase()}`,date:ue(D.createdAt),status:D.status||"Processing",total:`$${D.total?.toFixed(2)||"0.00"}`})),P=[{id:"overview",label:"Overview",icon:Aa},{id:"orders",label:"Orders",icon:_a},{id:"wishlist",label:"Wishlist",icon:Fr},{id:"settings",label:"Settings",icon:eI}];return _?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 dark:border-neutral-700 border-t-black dark:border-t-white rounded-full animate-spin mx-auto mb-6"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg font-medium",children:"Loading your profile..."})]})}):y.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black py-4 sm:py-8 px-3 sm:px-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsx("div",{className:"lg:hidden mb-4",children:y.jsxs("button",{onClick:A,className:"w-full flex items-center justify-between bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:[y.jsx("span",{className:"font-semibold dark:text-white",children:"Profile Menu"}),j?y.jsx(bd,{className:"w-5 h-5 dark:text-white"}):y.jsx(KE,{className:"w-5 h-5 dark:text-white"})]})}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[y.jsx("div",{className:`lg:w-1/4 ${j?"block":"hidden lg:block"}`,children:y.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 border border-gray-200 dark:border-neutral-800",children:y.jsx("nav",{className:"space-y-2",children:P.map(D=>y.jsxs("button",{onClick:()=>{a(D.id),N(!1)},className:`w-full flex items-center gap-3 px-3 py-3 rounded-lg text-left transition-colors ${s===D.id?"bg-black dark:bg-white text-white dark:text-black font-semibold":"text-gray-600 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800"}`,children:[y.jsx(D.icon,{className:"w-5 h-5"}),y.jsx("span",{className:"text-sm sm:text-base",children:D.label})]},D.id))})})}),y.jsxs("div",{className:"lg:w-3/4 space-y-4 sm:space-y-6",children:[y.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:y.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-4",children:[y.jsx("img",{src:t.photoURL||p?.photoURL||`https://ui-avatars.com/api/?name=${t.email}&size=200&background=000&color=fff`,alt:"Profile",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl border-2 border-gray-200 dark:border-neutral-700"}),y.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[y.jsx("h1",{className:"text-xl sm:text-2xl font-bold dark:text-white mb-1",children:k()}),p?.username&&y.jsxs("p",{className:"text-gray-500 dark:text-neutral-400 text-sm sm:text-base mb-1",children:["@",p.username]}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 mb-3 text-sm sm:text-base",children:t.email}),y.jsx("div",{className:"flex justify-center sm:justify-start gap-4 sm:gap-6",children:C.map((D,I)=>y.jsxs("div",{className:"text-center",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx(D.icon,{className:"w-4 h-4 text-gray-400"}),y.jsx("span",{className:"text-base sm:text-lg font-bold dark:text-white",children:D.value})]}),y.jsx("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-neutral-400",children:D.label})]},I))})]}),y.jsxs("button",{onClick:se,className:"w-full sm:w-auto px-4 py-2 bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-neutral-300 rounded-lg font-medium hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors flex items-center justify-center gap-2 mt-4 sm:mt-0",children:[y.jsx(xg,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm sm:text-base",children:"Logout"})]})]})}),y.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s==="overview"&&y.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-bold dark:text-white mb-4",children:"Recent Orders"}),y.jsx("div",{className:"space-y-3 sm:space-y-4",children:L.length>0?L.map((D,I)=>y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(_a,{className:"w-5 h-5 text-gray-400 shrink-0"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsx("p",{className:"font-medium dark:text-white text-sm sm:text-base truncate",children:D.id}),y.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-neutral-400",children:D.date})]})]}),y.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 sm:gap-2",children:[y.jsx("p",{className:"font-bold dark:text-white text-sm sm:text-base",children:D.total}),y.jsx("span",{className:`text-xs px-2 py-1 rounded-full shrink-0 ${D.status==="Delivered"?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300":D.status==="Shipped"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300"}`,children:D.status})]})]},I)):y.jsxs("div",{className:"text-center py-6 sm:py-8",children:[y.jsx(_a,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-sm sm:text-base",children:"No orders yet"}),y.jsx("button",{onClick:()=>n("/shop"),className:"mt-3 sm:mt-4 px-4 sm:px-6 py-2 bg-black dark:bg-white text-white dark:text-black rounded-lg font-medium text-sm sm:text-base",children:"Start Shopping"})]})})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-bold dark:text-white mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[y.jsxs("button",{onClick:()=>a("orders"),className:"p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg text-center hover:bg-gray-100 dark:hover:bg-neutral-700 transition-colors",children:[y.jsx(_a,{className:"w-5 h-5 sm:w-6 sm:h-6 mx-auto mb-2 text-gray-600 dark:text-neutral-400"}),y.jsxs("span",{className:"text-xs sm:text-sm font-medium dark:text-white block",children:["My Orders (",l.length,")"]})]}),y.jsxs("button",{onClick:()=>a("wishlist"),className:"p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg text-center hover:bg-gray-100 dark:hover:bg-neutral-700 transition-colors",children:[y.jsx(Fr,{className:"w-5 h-5 sm:w-6 sm:h-6 mx-auto mb-2 text-gray-600 dark:text-neutral-400"}),y.jsxs("span",{className:"text-xs sm:text-sm font-medium dark:text-white block",children:["Wishlist (",d.length,")"]})]})]})]})]}),s==="orders"&&y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsxs("h2",{className:"text-lg sm:text-xl font-bold dark:text-white mb-4 sm:mb-6",children:["My Orders (",l.length,")"]}),y.jsx("div",{className:"space-y-3 sm:space-y-4",children:l.length>0?l.map(D=>y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg gap-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(_a,{className:"w-5 h-5 text-gray-400 shrink-0"}),y.jsxs("div",{className:"min-w-0 flex-1",children:[y.jsxs("p",{className:"font-medium dark:text-white text-sm sm:text-base",children:["#",D.id.slice(-6).toUpperCase()]}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-neutral-400",children:[ue(D.createdAt),"  ",D.items?.length||0," items"]})]})]}),y.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 sm:gap-2",children:[y.jsxs("p",{className:"font-bold dark:text-white text-sm sm:text-base",children:["$",D.total?.toFixed(2)||"0.00"]}),y.jsx("span",{className:`text-xs px-2 py-1 rounded-full shrink-0 ${D.status==="Delivered"?"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300":D.status==="Shipped"?"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300"}`,children:D.status||"Processing"})]})]},D.id)):y.jsxs("div",{className:"text-center py-6 sm:py-8",children:[y.jsx(_a,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-sm sm:text-base",children:"No orders yet"}),y.jsx("button",{onClick:()=>n("/shop"),className:"mt-3 sm:mt-4 px-4 sm:px-6 py-2 bg-black dark:bg-white text-white dark:text-black rounded-lg font-medium text-sm sm:text-base",children:"Start Shopping"})]})})]}),s==="wishlist"&&y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsxs("h2",{className:"text-lg sm:text-xl font-bold dark:text-white mb-4 sm:mb-6",children:["My Wishlist (",d.length,")"]}),B&&y.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:[y.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:B}),y.jsx("p",{className:"text-red-500 dark:text-red-300 text-xs mt-1",children:"Check browser console for details"})]}),d.length>0?y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(D=>y.jsxs("div",{className:"bg-gray-50 dark:bg-neutral-800 rounded-lg p-4 border border-gray-200 dark:border-neutral-700 hover:shadow-md transition-shadow",children:[y.jsx("img",{src:D.image||"/api/placeholder/200/200",alt:D.name,className:"w-full h-32 object-cover rounded-md mb-3",onError:I=>{I.target.src="/api/placeholder/200/200"}}),y.jsx("h3",{className:"font-medium dark:text-white text-sm mb-1 truncate",children:D.name||"Unnamed Product"}),y.jsxs("p",{className:"text-green-600 dark:text-green-400 font-bold text-sm mb-2",children:["$",D.price?.toFixed(2)||"0.00"]}),y.jsxs("p",{className:"text-xs text-gray-500 dark:text-neutral-400 mb-3",children:["Added ",ue(D.addedAt)]}),y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("button",{onClick:()=>n(`/product/${D.productId}`),className:"text-xs bg-black dark:bg-white text-white dark:text-black px-3 py-1 rounded hover:scale-105 transition-transform",children:"View Product"}),y.jsx("button",{onClick:()=>ae(D.id),className:"text-red-500 hover:text-red-700 transition-colors p-1",title:"Remove from wishlist",children:y.jsx(YE,{className:"w-4 h-4"})})]})]},D.id))}):y.jsxs("div",{className:"text-center py-6 sm:py-8",children:[y.jsx(Fr,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400 mx-auto mb-3 sm:mb-4"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-sm sm:text-base",children:B?"Error loading wishlist":"Your wishlist is empty"}),y.jsx("button",{onClick:()=>n("/shop"),className:"mt-3 sm:mt-4 px-4 sm:px-6 py-2 bg-black dark:bg-white text-white dark:text-black rounded-lg font-medium text-sm sm:text-base",children:"Browse Products"})]})]}),s==="settings"&&y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h2",{className:"text-lg sm:text-xl font-bold dark:text-white mb-4 sm:mb-6",children:"Settings"}),y.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[y.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg",children:[y.jsx("h3",{className:"font-medium dark:text-white mb-2 text-sm sm:text-base",children:"Account Information"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-neutral-400",children:[y.jsx("strong",{children:"Email:"})," ",t.email]}),p?.fullName&&y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-neutral-400",children:[y.jsx("strong",{children:"Full Name:"})," ",p.fullName]}),p?.username&&y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-neutral-400",children:[y.jsx("strong",{children:"Username:"})," @",p.username]})]})]}),y.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg",children:[y.jsx("h3",{className:"font-medium dark:text-white mb-2 text-sm sm:text-base",children:"Order History"}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-neutral-400",children:[l.length," order",l.length!==1?"s":""," placed"]})]}),y.jsxs("div",{className:"p-3 sm:p-4 bg-gray-50 dark:bg-neutral-800 rounded-lg",children:[y.jsx("h3",{className:"font-medium dark:text-white mb-2 text-sm sm:text-base",children:"Wishlist"}),y.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-neutral-400",children:[d.length," item",d.length!==1?"s":""," in wishlist"]})]})]})]})]})]})]})]})})}const g3=()=>{const[t,e]=M.useState(!1),[n,s]=M.useState(!1),[a]=M.useState(3),[l]=M.useState(2),[c,d]=M.useState(null),[m,p]=M.useState(null),[v,_]=M.useState(""),[w,R]=M.useState(!1),O=Pa();M.useEffect(()=>Dy(Ns,se=>{p(se)}),[]),M.useEffect(()=>{const F=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F)},[]);const j=[{name:"Shop",href:"/shop",items:[{name:"Hoodies",href:"/shop"},{name:"Sweatpants",href:"/shop"},{name:"All",href:"/shop",tag:"Sale"}]},{name:"About",href:"/about",items:[{name:"Our Story",href:"/about"},{name:"Lookbook",href:"/about"},{name:"Sustainability",href:"/about"}]}],N=async()=>{await D1(Ns),O("/login"),s(!1)},B=F=>{F.preventDefault(),v.trim()&&(O(`/search?q=${encodeURIComponent(v.trim())}`),_(""),R(!1),s(!1))},G=()=>{m?O("/profile",{state:{activeTab:"wishlist"}}):O("/login")};return y.jsxs(y.Fragment,{children:[y.jsxs("header",{className:`border-b-2 border-b-gray-800 fixed top-0 left-0 right-0 z-50 transition-all duration-500 backdrop-blur-md ${t?"bg-white/95 dark:bg-black/95 shadow-lg py-2":"bg-white/90 dark:bg-black/90 py-3 sm:py-4"}`,children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"shrink-0",children:y.jsx(an,{to:"/",className:"block hover:scale-105 transition-transform duration-300",children:y.jsx("img",{src:Df,alt:"W&N Streetwear",className:"h-6 sm:h-7 md:h-8 w-auto dark:invert"})})}),y.jsx("nav",{className:"hidden lg:flex items-center",children:y.jsx("div",{className:"flex items-center gap-1 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-lg px-3 py-2",children:j.map(F=>y.jsxs("div",{className:"relative",onMouseEnter:()=>F.items&&d(F.name),onMouseLeave:()=>d(null),children:[y.jsxs(an,{to:F.href,className:"px-6 py-2.5 text-sm font-medium text-gray-800 dark:text-gray-200 hover:text-black dark:hover:text-white transition-all rounded-full hover:bg-white/60 dark:hover:bg-gray-800/60 flex items-center gap-2 group",children:[F.name,F.items&&y.jsx(Ek,{className:`w-4 h-4 transition-transform duration-300 ${c===F.name?"rotate-180":""}`})]}),F.items&&c===F.name&&y.jsx("div",{className:"absolute top-full left-0 mt-2 w-56 rounded-2xl bg-white/90 dark:bg-neutral-900/90 backdrop-blur-xl border border-white/20 dark:border-gray-700/50 shadow-xl py-2 z-50 animate-in fade-in-0 zoom-in-95",children:F.items.map(se=>y.jsxs(an,{to:se.href,className:"flex items-center justify-between px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-white/50 dark:hover:bg-gray-800/50 transition-colors group",children:[y.jsx("span",{children:se.name}),se.tag&&y.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${se.tag==="Sale"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:se.tag})]},se.name))})]},F.name))})}),y.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[w&&y.jsx("div",{className:"hidden lg:flex items-center bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-lg px-4 py-2",children:y.jsxs("form",{onSubmit:B,className:"flex items-center gap-2",children:[y.jsx(ad,{className:"w-4 h-4 text-gray-500"}),y.jsx("input",{type:"text",placeholder:"Search products...",value:v,onChange:F=>_(F.target.value),className:"bg-transparent border-none outline-none text-sm text-gray-800 dark:text-gray-200 placeholder-gray-500 w-48",autoFocus:!0}),y.jsx("button",{type:"button",onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:y.jsx(bd,{className:"w-4 h-4"})})]})}),y.jsxs("div",{className:"hidden lg:flex items-center gap-1 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-lg px-3 py-2",children:[y.jsx("button",{onClick:()=>R(!w),className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all duration-300 group",children:y.jsx(ad,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})}),y.jsxs("button",{onClick:G,className:"relative p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:[y.jsx(Fr,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"}),l>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold animate-pulse",children:l})]}),y.jsxs(an,{to:"/cart",className:"relative p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:[y.jsx(Yu,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"}),a>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-black dark:bg-white text-white dark:text-black text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:a})]}),m?y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs(an,{to:"/profile",className:"flex items-center gap-2 p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:[y.jsx(Aa,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"}),y.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-200",children:m.email?.split("@")[0]})]}),y.jsx("button",{onClick:N,className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",title:"Logout",children:y.jsx(xg,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})})]}):y.jsxs(an,{to:"/login",className:"flex items-center gap-2 px-3 py-2 rounded-full bg-black text-white dark:bg-white dark:text-black font-medium hover:opacity-90 transition-all hover:scale-105 shadow-sm text-sm",children:[y.jsx(Mx,{className:"w-4 h-4"}),y.jsx("span",{children:"Sign In"})]})]}),y.jsxs("div",{className:"lg:hidden flex items-center gap-1 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-lg px-3 py-2",children:[y.jsx("button",{onClick:()=>R(!w),className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:y.jsx(ad,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})}),y.jsxs(an,{to:"/cart",className:"relative p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:[y.jsx(Yu,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"}),a>0&&y.jsx("span",{className:"absolute -top-1 -right-1 bg-black dark:bg-white text-white dark:text-black text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:a})]}),m&&y.jsx(an,{to:"/profile",className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:y.jsx(Aa,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})}),m&&y.jsx("button",{onClick:N,className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",title:"Logout",children:y.jsx(xg,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})}),!m&&y.jsx(an,{to:"/login",className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:y.jsx(Mx,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})}),y.jsx("button",{onClick:()=>s(!n),className:"p-2 hover:bg-white/60 dark:hover:bg-gray-800/60 rounded-full transition-all group",children:n?y.jsx(bd,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"}):y.jsx(KE,{className:"w-5 h-5 text-gray-700 dark:text-gray-300 group-hover:scale-110 transition-transform"})})]})]})]}),w&&y.jsx("div",{className:"lg:hidden mt-3 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-xl rounded-2xl border border-white/20 dark:border-gray-700/50 shadow-lg px-4 py-3",children:y.jsxs("form",{onSubmit:B,className:"flex items-center gap-2",children:[y.jsx(ad,{className:"w-4 h-4 text-gray-500"}),y.jsx("input",{type:"text",placeholder:"Search products...",value:v,onChange:F=>_(F.target.value),className:"flex-1 bg-transparent border-none outline-none text-sm text-gray-800 dark:text-gray-200 placeholder-gray-500",autoFocus:!0}),y.jsx("button",{type:"button",onClick:()=>R(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:y.jsx(bd,{className:"w-4 h-4"})})]})})]}),n&&y.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-white/95 dark:bg-black/95 backdrop-blur-xl border-b border-gray-200 dark:border-gray-800 shadow-xl animate-in slide-in-from-top-5",children:y.jsxs("div",{className:"px-4 py-6 space-y-6",children:[j.map(F=>y.jsxs("div",{className:"space-y-3",children:[y.jsx(an,{to:F.href,className:"block text-lg font-medium text-gray-800 dark:text-gray-200 hover:text-black dark:hover:text-white transition-colors",onClick:()=>s(!1),children:F.name}),F.items&&y.jsx("div",{className:"pl-4 space-y-2 border-l-2 border-gray-200 dark:border-gray-700",children:F.items.map(se=>y.jsx(an,{to:se.href,className:"block py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",onClick:()=>s(!1),children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{children:se.name}),se.tag&&y.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded-full ${se.tag==="Sale"?"bg-red-500 text-white":"bg-blue-500 text-white"}`,children:se.tag})]})},se.name))})]},F.name)),y.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[m&&y.jsx("div",{className:"mb-4",children:y.jsxs(an,{to:"/profile",className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",onClick:()=>s(!1),children:[y.jsx(Aa,{className:"w-5 h-5"}),y.jsx("span",{children:"My Profile"})]})}),y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsxs("button",{onClick:()=>{G(),s(!1)},className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:[y.jsx(Fr,{className:"w-5 h-5"}),y.jsx("span",{children:"Wishlist"}),l>0&&y.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:l})]})}),m&&y.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:y.jsx("div",{className:"flex items-center justify-between",children:y.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Signed in as ",m.email?.split("@")[0]]})})})]})]})})]}),y.jsx("div",{className:"pt-16 sm:pt-20"})]})},y3=()=>{const[t,e]=M.useState(""),n=()=>{t&&(console.log("Newsletter signup:",t),e(""))};return y.jsx("footer",{className:"bg-white/55 dark:bg-black text-black dark:text-white border-t-2 border-gray-800",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[y.jsx("div",{className:"mb-12 pb-12 border-b border-gray-300 dark:border-gray-800",children:y.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[y.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Join our email list"}),y.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Receive updates, access exclusive deals, learn product launch details, and more."}),y.jsxs("div",{className:"flex gap-2 max-w-md mx-auto",children:[y.jsx("input",{type:"email",value:t,onChange:s=>e(s.target.value),onKeyPress:s=>s.key==="Enter"&&n(),placeholder:"Enter email",className:"flex-1 px-4 py-3 bg-white dark:bg-gray-800 text-black dark:text-white border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-black dark:focus:ring-white"}),y.jsx("button",{onClick:n,className:"px-3 py-3 bg-black dark:bg-white text-white dark:text-black font-medium rounded-lg hover:bg-gray-800 dark:hover:bg-gray-200 transition-colors",children:"Subscribe"})]})]})}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-4",children:"LEGAL"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Returns"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Privacy Policy"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Terms and Conditions"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Shipping"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-4",children:"SHOP"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Sweetspants"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Hoodies"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"All Products"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-4",children:"CUSTOMER CARE"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Search"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:"Contact"})})]})]}),y.jsxs("div",{children:[y.jsx("h4",{className:"font-bold mb-4",children:"FOLLOW US"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:y.jsx(Uk,{className:"w-6 h-6"})}),y.jsx("a",{href:"#",className:"text-gray-600 dark:text-gray-400 hover:text-black dark:hover:text-white transition-colors",children:y.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"})})})]})]})]}),y.jsxs("div",{className:"pt-8 border-t border-gray-300 dark:border-gray-800 flex flex-col md:flex-row justify-between items-center gap-4",children:[y.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-sm",children:" 2025, Wants and Needs"}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M15.724 15.769h-1.457l-.868-2.113-.434 2.113h-1.5l1.913-4.385 1.913 4.385zm-2.25-2.784l-.576-1.404-.576 1.404h1.152zm4.846-1.601h1.5v4.385h-1.5v-4.385zm2.25 0h1.5l-.9 2.25-.9-2.25h.9zm-9-2.25h3v1.5h-3v-1.5zm12.75-6H2.25C1.01 3 0 4.01 0 5.25v13.5C0 19.99 1.01 21 2.25 21h19.5c1.24 0 2.25-1.01 2.25-2.25V5.25c0-1.24-1.01-2.25-2.25-2.25zM3 6.75h18v10.5H3V6.75z"})}),y.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"AM EX"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("rect",{width:"18",height:"14",x:"3",y:"5",rx:"2"}),y.jsx("path",{d:"M3 10h18"})]}),y.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pay"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9.5v3h10v-3H7z"})}),y.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"DISCOVER"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[y.jsx("rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2"}),y.jsx("path",{d:"M12 18h.01"})]}),y.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"G Pay"})]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{d:"M18 6H6C4.9 6 4 6.9 4 8v8c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H6V8h12v8zM8 15.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5zm6 0c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5z"})}),y.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:"VISA"})]})]})]})]})})};function v3({id:t,name:e,price:n,images:s,colors:a}){const l=Pa(),[c,d]=M.useState(0),[m,p]=M.useState(!1),v=()=>{l(`/shop/${t}`,{state:{id:t,name:e,price:n,images:s,colors:a}})},_=()=>{p(!0),s.length>1&&d(1)},w=()=>{p(!1),d(0)};return y.jsxs("div",{onClick:v,onMouseEnter:_,onMouseLeave:w,className:"group bg-white dark:bg-neutral-900 rounded-2xl shadow-lg hover:shadow-2xl overflow-hidden hover:scale-105 transition-all duration-500 cursor-pointer border border-gray-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"relative overflow-hidden",children:[y.jsx("img",{src:s[c],alt:e,className:"w-full h-64 object-cover transition-all duration-500 group-hover:scale-110"}),y.jsx("div",{className:`absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-500 ${m?"bg-black/10":""}`}),y.jsx("div",{className:`absolute top-4 right-4 bg-white/95 dark:bg-black/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-black dark:text-white transform transition-all duration-500 ${m?"translate-x-0 opacity-100":"translate-x-8 opacity-0"}`,children:"View Details "}),s.length>1&&y.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-1.5",children:s.map((R,O)=>y.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all duration-300 ${c===O?"bg-white scale-125":"bg-white/60"}`},O))})]}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsx("h3",{className:"text-xl font-bold text-black dark:text-white line-clamp-2 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors",children:e}),y.jsxs("div",{className:"flex flex-col items-end",children:[y.jsxs("p",{className:"text-2xl font-black text-black dark:text-white",children:["$",n]}),y.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Free Shipping"})]})]}),a.length>0&&y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:"Colors:"}),y.jsx("div",{className:"flex gap-1.5",children:a.map((R,O)=>y.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300 dark:border-gray-600 shadow-sm",style:{backgroundColor:R.toLowerCase()},title:R},O))})]}),y.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-neutral-800",children:[y.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),y.jsx("span",{children:"Quick View"})]}),y.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[y.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),y.jsx("span",{children:"Premium"})]})]}),y.jsx("div",{className:`mt-4 text-center py-2 bg-linear-to-r from-black/5 to-transparent dark:from-white/5 rounded-lg transform transition-all duration-500 ${m?"translate-y-0 opacity-100":"translate-y-2 opacity-0"}`,children:y.jsx("span",{className:"text-sm font-semibold text-black dark:text-white",children:"Click to View Details"})})]}),y.jsx("div",{className:`absolute inset-0 border-2 border-transparent group-hover:border-black/10 dark:group-hover:border-white/10 rounded-2xl transition-all duration-500 pointer-events-none ${m?"opacity-100":"opacity-0"}`})]})}function b3({value:t,onChange:e,options:n}){const[s,a]=M.useState(!1),l=M.useRef(null),c=n.find(d=>d.id===t);return M.useEffect(()=>{const d=m=>{l.current&&!l.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),M.useEffect(()=>{const d=m=>{m.key==="Escape"&&a(!1)};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[]),y.jsxs("div",{ref:l,className:"relative",children:[y.jsxs("button",{onClick:()=>a(!s),className:"flex items-center justify-between w-56 px-5 py-3.5 bg-linear-to-br from-white to-gray-50 dark:from-neutral-900 dark:to-neutral-800 border-2 border-gray-200 dark:border-neutral-700 rounded-2xl text-black dark:text-white focus:outline-none focus:ring-4 focus:ring-black/20 dark:focus:ring-white/20 transition-all duration-300 hover:scale-105 hover:border-gray-300 dark:hover:border-neutral-600 hover:shadow-2xl shadow-lg group",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"p-1.5 bg-black/5 dark:bg-white/10 rounded-lg group-hover:scale-110 transition-transform",children:y.jsx("svg",{className:"w-4 h-4 text-gray-600 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})}),y.jsx("span",{className:"font-semibold text-sm tracking-wide",children:c?.label})]}),y.jsx("div",{className:`transform transition-all duration-300 ${s?"rotate-180 scale-110":"group-hover:scale-110"}`,children:y.jsx("svg",{className:"w-5 h-5 text-gray-500 dark:text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),s&&y.jsxs("div",{className:"absolute top-full left-0 right-0 mt-3 bg-linear-to-br from-white to-gray-50 dark:from-neutral-900 dark:to-neutral-800 border-2 border-gray-200 dark:border-neutral-700 rounded-2xl shadow-2xl backdrop-blur-xl z-50 overflow-hidden transform origin-top transition-all duration-300 scale-95 animate-in fade-in slide-in-from-top-2",children:[y.jsx("div",{className:"px-5 py-3.5 border-b border-gray-100 dark:border-neutral-700 bg-linear-to-r from-black/5 to-transparent dark:from-white/5",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"p-1 bg-black/10 dark:bg-white/20 rounded-lg",children:y.jsx("svg",{className:"w-4 h-4 text-black dark:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})})}),y.jsx("span",{className:"font-bold text-sm text-black dark:text-white tracking-wide",children:"SORT BY"})]})}),y.jsx("div",{className:"p-2 space-y-1",children:n.map((d,m)=>y.jsxs("button",{onClick:()=>{e(d.id),a(!1)},className:`w-full flex items-center gap-3 px-4 py-3.5 rounded-xl text-left transition-all duration-300 group relative overflow-hidden ${t===d.id?"bg-linear-to-r from-black to-gray-800 dark:from-white dark:to-gray-300 text-white dark:text-black shadow-lg transform scale-105":"text-gray-700 dark:text-neutral-300 hover:bg-black/5 dark:hover:bg-white/10 hover:scale-102 hover:shadow-md"}`,style:{animationDelay:`${m*50}ms`,animation:"fadeInUp 0.3s ease-out forwards"},children:[y.jsx("div",{className:`absolute inset-0 transition-opacity duration-300 ${t===d.id?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:y.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-black/5 to-transparent dark:from-white/5"})}),y.jsx("div",{className:`relative z-10 w-2 h-2 rounded-full border-2 transition-all duration-300 ${t===d.id?"bg-white dark:bg-black border-white dark:border-black scale-125":"border-gray-400 dark:border-neutral-600 group-hover:border-black dark:group-hover:border-white"}`,children:t===d.id&&y.jsx("div",{className:"absolute inset-0 bg-white dark:bg-black rounded-full animate-ping opacity-75"})}),y.jsx("span",{className:`relative z-10 font-medium text-sm tracking-wide transition-all duration-300 ${t===d.id?"text-white dark:text-black font-semibold":"group-hover:text-black dark:group-hover:text-white"}`,children:d.label}),y.jsx("svg",{className:`w-4 h-4 ml-auto transition-all duration-300 ${t===d.id?"opacity-100 translate-x-0 text-white dark:text-black":"opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 text-gray-500 dark:text-neutral-400"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},d.id))}),y.jsx("div",{className:"px-5 py-3 border-t border-gray-100 dark:border-neutral-700 bg-linear-to-r from-transparent to-black/5 dark:to-white/5",children:y.jsxs("div",{className:"flex items-center justify-between text-xs",children:[y.jsx("span",{className:"text-gray-500 dark:text-neutral-400 font-medium",children:"Currently selected"}),y.jsx("span",{className:"text-black dark:text-white font-bold",children:c?.label})]})})]}),y.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-in {
          animation: fadeInUp 0.3s ease-out;
        }
      `})]})}function _3(){const[t,e]=M.useState([]),[n,s]=M.useState([]),[a,l]=M.useState(!0),[c,d]=M.useState("all"),[m,p]=M.useState("newest"),[v,_]=M.useState([45,100]);M.useEffect(()=>{(async()=>{const B=await c3();e(B),s(B),_([45,100]),l(!1)})()},[]),M.useEffect(()=>{let j=[...t];switch(c!=="all"&&(j=j.filter(N=>N.category===c)),j=j.filter(N=>N.price>=v[0]&&N.price<=v[1]),m){case"price-low":j.sort((N,B)=>N.price-B.price);break;case"price-high":j.sort((N,B)=>B.price-N.price);break;case"name":j.sort((N,B)=>N.name.localeCompare(B.name));break}s(j)},[t,c,m,v]);const w=[{id:"all",label:"All Products",count:t.length},{id:"sweatpants",label:"Sweatpants",count:t.filter(j=>j.category==="sweatpants").length},{id:"hoodies",label:"Hoodies",count:t.filter(j=>j.category==="hoodies").length}],R=[{id:"newest",label:"Newest First"},{id:"price-low",label:"Price: Low to High"},{id:"price-high",label:"Price: High to Low"},{id:"name",label:"Name: A-Z"}],O=`
    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      height: 20px;
      width: 20px;
      border-radius: 50%;
      background: black;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .slider::-moz-range-thumb {
      height: 20px;
      width: 20px;
      border-radius: 50%;
      background: black;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    }
    .dark .slider::-webkit-slider-thumb {
      background: white;
      border: 2px solid black;
    }
    .dark .slider::-moz-range-thumb {
      background: white;
      border: 2px solid black;
    }
  `;return a?y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 dark:border-neutral-700 border-t-black dark:border-t-white rounded-full animate-spin mx-auto mb-6"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg font-medium",children:"Loading premium collection..."})]})}):y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black py-12",children:[y.jsx("style",{children:O}),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[y.jsxs("div",{className:"text-center mb-16",children:[y.jsxs("div",{className:"inline-flex items-center gap-2 bg-black dark:bg-white text-white dark:text-black px-4 py-2 rounded-full text-sm font-medium mb-6",children:[y.jsx("span",{children:""}),y.jsx("span",{children:"Premium Collection"})]}),y.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-black dark:text-white mb-6 tracking-tight",children:["ELEVATE YOUR",y.jsx("br",{className:"hidden md:block"})," STYLE"]}),y.jsx("p",{className:"text-xl text-gray-600 dark:text-neutral-400 max-w-2xl mx-auto leading-relaxed",children:"Discover luxury comfort with our curated essentials. Where premium meets everyday wear."})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-12",children:[y.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h3",{className:"font-bold text-black dark:text-white text-lg mb-4",children:"Categories"}),y.jsx("div",{className:"space-y-2",children:w.map(j=>y.jsxs("button",{onClick:()=>d(j.id),className:`w-full flex justify-between items-center p-3 rounded-xl text-left transition-all duration-200 ${c===j.id?"bg-black dark:bg-white text-white dark:text-black font-semibold":"bg-gray-100 dark:bg-neutral-800 text-gray-700 dark:text-neutral-300 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[y.jsx("span",{children:j.label}),y.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${c===j.id?"bg-white/20 dark:bg-black/20":"bg-black/10 dark:bg-white/10"}`,children:j.count})]},j.id))})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h3",{className:"font-bold text-black dark:text-white text-lg mb-4",children:"Price Range"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("input",{type:"range",min:"45",max:"100",value:v[1],onChange:j=>_([45,parseInt(j.target.value)]),className:"w-full h-2 bg-gray-200 dark:bg-neutral-700 rounded-lg appearance-none cursor-pointer slider"}),y.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-neutral-400",children:[y.jsxs("span",{children:["$",v[0]]}),y.jsxs("span",{className:"font-semibold text-black dark:text-white",children:["Up to $",v[1]]})]})]})]})]}),y.jsxs("div",{className:"lg:col-span-3",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8",children:[y.jsx("div",{children:y.jsxs("p",{className:"text-gray-600 dark:text-neutral-400",children:["Showing ",y.jsx("span",{className:"font-bold text-black dark:text-white",children:n.length})," products"]})}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-sm font-semibold text-black dark:text-white",children:"Sort by:"}),y.jsx(b3,{value:m,onChange:p,options:R})]})]}),n.length===0?y.jsxs("div",{className:"text-center py-20 bg-white dark:bg-neutral-900 rounded-2xl border border-gray-200 dark:border-neutral-800",children:[y.jsx("div",{className:"text-6xl mb-6",children:""}),y.jsx("h3",{className:"text-2xl font-bold text-black dark:text-white mb-4",children:"No products match your filters"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 mb-6 max-w-md mx-auto",children:"Try adjusting your filters to see more products"}),y.jsx("button",{onClick:()=>{d("all"),_([45,100])},className:"px-8 py-3 bg-black dark:bg-white text-white dark:text-black rounded-xl font-semibold hover:scale-105 transition-transform",children:"Reset All Filters"})]}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:n.map(j=>y.jsx(v3,{id:j.id,name:j.name,price:j.price,images:j.images,colors:j.colors},j.id))})]})]}),y.jsxs("div",{className:"mt-20",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h2",{className:"text-4xl font-black text-black dark:text-white mb-4",children:"WHY CHOOSE US"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg",children:"Experience the difference of premium craftsmanship"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:"",title:"Premium Materials",desc:"Luxury fabrics that last"},{icon:"",title:"Fast Shipping",desc:"Free delivery on all orders"},{icon:"",title:"Elite Quality",desc:"Crafted to perfection"}].map((j,N)=>y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-8 border border-gray-200 dark:border-neutral-800 text-center hover:scale-105 transition-transform",children:[y.jsx("div",{className:"text-3xl mb-4",children:j.icon}),y.jsx("h3",{className:"font-bold text-black dark:text-white text-xl mb-2",children:j.title}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400",children:j.desc})]},N))})]})]})]})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function x3(t,e,n,s){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(v){try{p(s.next(v))}catch(_){c(_)}}function m(v){try{p(s.throw(v))}catch(_){c(_)}}function p(v){v.done?l(v.value):a(v.value).then(d,m)}p((s=s.apply(t,[])).next())})}function T3(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,a,l,c;return c={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(v){return m([p,v])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(v){p=[6,v],a=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bo=function(){return Bo=Object.assign||function(e){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Bo.apply(this,arguments)},CA=function(t){return{loading:t==null,value:t}},w3=function(){return function(t,e){switch(e.type){case"error":return Bo(Bo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return CA(e.defaultValue);case"value":return Bo(Bo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},E3=(function(t){var e=t?t():void 0,n=M.useReducer(w3(),CA(e)),s=n[0],a=n[1],l=M.useCallback(function(){var m=t?t():void 0;a({type:"reset",defaultValue:m})},[t]),c=M.useCallback(function(m){a({type:"error",error:m})},[]),d=M.useCallback(function(m){a({type:"value",value:m})},[]);return M.useMemo(function(){return{error:s.error,loading:s.loading,reset:l,setError:c,setValue:d,value:s.value}},[s.error,s.loading,l,c,d,s.value])}),v0=(function(t,e){var n=E3(function(){return t.currentUser}),s=n.error,a=n.loading,l=n.setError,c=n.setValue,d=n.value;return M.useEffect(function(){var m=Dy(t,function(p){return x3(void 0,void 0,void 0,function(){var v;return T3(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return _.sent(),[3,4];case 3:return v=_.sent(),l(v),[3,4];case 4:return c(p),[2]}})})},l);return function(){m()}},[t]),[d,a,s]});const NA=M.createContext(void 0),kA=()=>{const t=M.useContext(NA);if(!t)throw new Error("useCart must be used within a CartProvider");return t},S3=({children:t})=>{const[e]=v0(Ns),[n,s]=M.useState([]);M.useEffect(()=>{if(e){const v=localStorage.getItem(`cart_${e.uid}`);if(v)try{s(JSON.parse(v))}catch(_){console.error("Error loading cart from localStorage:",_),s([])}}else{const v=localStorage.getItem("cart_guest");if(v)try{s(JSON.parse(v))}catch(_){console.error("Error loading guest cart:",_),s([])}}},[e]),M.useEffect(()=>{e?localStorage.setItem(`cart_${e.uid}`,JSON.stringify(n)):localStorage.setItem("cart_guest",JSON.stringify(n))},[n,e]);const a=v=>{s(_=>{const w=_.findIndex(R=>R.id===v.id&&R.size===v.size&&R.color===v.color);if(w>-1){const R=[..._];return R[w].quantity+=v.quantity,R}else return[..._,v]})},l=v=>{s(_=>_.filter(w=>w.id!==v))},c=(v,_)=>{s(w=>w.map(R=>R.id===v?{...R,quantity:_}:R))},d=()=>{s([]),e?localStorage.removeItem(`cart_${e.uid}`):localStorage.removeItem("cart_guest")},m=n.reduce((v,_)=>v+_.quantity,0),p={cart:n,addToCart:a,removeFromCart:l,updateQuantity:c,clearCart:d,cartCount:m};return y.jsx(NA.Provider,{value:p,children:t})};function A3(){const{productId:t}=wN(),[e]=v0(Ns),[n,s]=M.useState(null),[a,l]=M.useState(!0),[c,d]=M.useState(1),[m,p]=M.useState(void 0),[v,_]=M.useState(void 0),[w,R]=M.useState(0),[O,j]=M.useState(!1),[N,B]=M.useState(!1),{addToCart:G}=kA();M.useEffect(()=>{(async()=>{const C=Pi(Wn,"products",t),L=await kf(C);if(L.exists()){const P={id:L.id,...L.data()};if(s(P),e){const D=await u3(e.uid,P.id);j(D)}}l(!1)})()},[t,e]);const F=()=>{if(n){if(n.sizes&&n.sizes.length>0&&!m){alert("Please select a size");return}if(n.colors&&n.colors.length>0&&!v){alert("Please select a color");return}G({id:n.id,name:n.title||n.name,price:n.price,image:n.images?n.images[0]:n.image,quantity:c,size:m,color:v}),alert(`${n.title||n.name} added to cart `)}},se=async()=>{if(!e){alert("Please log in to add items to your wishlist");return}B(!0);try{O?(await l3(e.uid,n.id),j(!1)):await o3(e.uid,e.email||"",e.displayName||e.email?.split("@")[0]||"User",n)&&j(!0)}catch(A){console.error("Error updating wishlist:",A),alert("Error updating wishlist. Please try again.")}finally{B(!1)}};if(a)return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 border-4 border-gray-300 dark:border-neutral-700 border-t-black dark:border-t-white rounded-full animate-spin mx-auto mb-6"}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg font-medium",children:"Loading product details..."})]})});if(!n)return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-black",children:y.jsx("p",{className:"text-center text-gray-600 dark:text-neutral-400 text-lg",children:"Product not found"})});const ae=n.images||[n.image],ue=n.colors||[],k=n.sizes||[];return y.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-black py-12",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[y.jsxs("div",{className:"space-y-6",children:[y.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-8 border border-gray-200 dark:border-neutral-800",children:y.jsxs("div",{className:"flex items-center justify-center min-h-[500px] bg-gray-100 dark:bg-neutral-800 rounded-xl overflow-hidden relative",children:[y.jsx("img",{src:ae[w],alt:n.title||n.name,className:"max-w-full max-h-[500px] w-auto h-auto object-scale-down"}),y.jsx("button",{onClick:se,disabled:N,className:`absolute top-4 right-4 p-3 rounded-full backdrop-blur-sm transition-all duration-300 ${O?"bg-red-500 text-white":"bg-white/90 dark:bg-black/90 text-gray-600 dark:text-gray-400 hover:bg-red-500 hover:text-white"} ${N?"opacity-50 cursor-not-allowed":"hover:scale-110"}`,children:y.jsx(Fr,{className:`w-6 h-6 ${O?"fill-current":""}`})})]})}),ae.length>1&&y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 border border-gray-200 dark:border-neutral-800",children:[y.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-4",children:"More Views"}),y.jsx("div",{className:"grid grid-cols-4 gap-4",children:ae.map((A,C)=>y.jsx("button",{onClick:()=>R(C),className:`aspect-square bg-gray-100 dark:bg-neutral-800 rounded-lg overflow-hidden border-2 transition-all duration-300 flex items-center justify-center ${w===C?"border-black dark:border-white scale-105":"border-transparent hover:border-gray-300 dark:hover:border-neutral-600"}`,children:y.jsx("img",{src:A,alt:`${n.title||n.name} view ${C+1}`,className:"w-full h-full object-cover"})},C))})]})]}),y.jsxs("div",{className:"space-y-8",children:[y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-8 border border-gray-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"px-3 py-1 bg-black dark:bg-white text-white dark:text-black text-sm font-medium rounded-full",children:n.category}),n.isNew&&y.jsx("span",{className:"px-3 py-1 bg-green-500 text-white text-sm font-medium rounded-full",children:"New Arrival"})]}),y.jsx("button",{onClick:se,disabled:N,className:`lg:hidden p-2 rounded-lg transition-all ${O?"bg-red-500 text-white":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-gray-400"} ${N?"opacity-50 cursor-not-allowed":""}`,children:y.jsx(Fr,{className:`w-5 h-5 ${O?"fill-current":""}`})})]}),y.jsx("h1",{className:"text-4xl font-black text-black dark:text-white mb-4",children:n.title||n.name}),y.jsxs("p",{className:"text-3xl font-black text-black dark:text-white mb-6",children:["$",n.price]}),y.jsx("p",{className:"text-gray-600 dark:text-neutral-400 text-lg leading-relaxed",children:n.description})]}),y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-8 border border-gray-200 dark:border-neutral-800 space-y-8",children:[ue.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-black dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Color: ",v&&y.jsxs("span",{className:"text-gray-600 dark:text-neutral-400 font-normal",children:["(",v,")"]})]}),y.jsx("div",{className:"flex gap-3 flex-wrap",children:ue.map((A,C)=>y.jsxs("button",{onClick:()=>_(A),className:`flex items-center gap-2 px-4 py-3 rounded-xl border-2 transition-all duration-300 ${v===A?"border-black dark:border-white bg-black/5 dark:bg-white/10 scale-105":"border-gray-300 dark:border-neutral-600 hover:border-gray-400 dark:hover:border-neutral-500"}`,children:[y.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 dark:border-gray-600 shadow-sm",style:{backgroundColor:A.toLowerCase()}}),y.jsx("span",{className:"text-sm font-medium text-black dark:text-white",children:A})]},C))})]}),k.length>0&&y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-black dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Size: ",m&&y.jsxs("span",{className:"text-gray-600 dark:text-neutral-400 font-normal",children:["(",m,")"]})]}),y.jsx("div",{className:"grid grid-cols-4 gap-3",children:k.map((A,C)=>y.jsx("button",{onClick:()=>p(A),className:`py-4 rounded-xl border-2 text-center transition-all duration-300 font-semibold ${m===A?"border-black dark:border-white bg-black text-white dark:bg-white dark:text-black scale-105":"border-gray-300 dark:border-neutral-600 text-black dark:text-white hover:border-gray-400 dark:hover:border-neutral-500"}`,children:A},C))})]}),y.jsxs("div",{children:[y.jsxs("h3",{className:"text-lg font-bold text-black dark:text-white mb-4 flex items-center gap-2",children:[y.jsx("span",{children:""}),"Quantity"]}),y.jsxs("div",{className:"flex items-center gap-4 max-w-xs",children:[y.jsx("button",{onClick:()=>d(A=>Math.max(1,A-1)),className:"w-12 h-12 bg-gray-100 dark:bg-neutral-800 rounded-xl flex items-center justify-center text-xl font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:"-"}),y.jsx("span",{className:"text-2xl font-black text-black dark:text-white min-w-12 text-center",children:c}),y.jsx("button",{onClick:()=>d(A=>A+1),className:"w-12 h-12 bg-gray-100 dark:bg-neutral-800 rounded-xl flex items-center justify-center text-xl font-bold text-black dark:text-white hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:"+"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("button",{onClick:F,disabled:!m&&k.length>0||!v&&ue.length>0,className:"bg-black dark:bg-white text-white dark:text-black py-4 rounded-xl font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 flex items-center justify-center gap-2 border-2 border-black dark:border-white",children:[y.jsx(Yu,{className:"w-5 h-5"}),"Add to Cart - $",(n.price*c).toFixed(2)]}),y.jsxs("button",{onClick:se,disabled:N,className:`py-4 rounded-xl font-bold border-2 transition-all flex items-center justify-center gap-2 ${O?"bg-red-500 border-red-500 text-white hover:bg-red-600":"bg-transparent border-gray-300 dark:border-neutral-600 text-gray-700 dark:text-gray-300 hover:border-red-500 hover:text-red-500 dark:hover:text-red-400"} ${N?"opacity-50 cursor-not-allowed":"hover:scale-105"}`,children:[y.jsx(Fr,{className:`w-5 h-5 ${O?"fill-current":""}`}),O?"In Wishlist":"Add to Wishlist"]})]}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-6 border-t border-gray-200 dark:border-neutral-800",children:[y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Free Shipping"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"30-Day Returns"})]}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-2xl mb-2",children:""}),y.jsx("p",{className:"text-xs text-gray-600 dark:text-neutral-400",children:"Premium Quality"})]})]})]})]})]})})})}function R3(){const[t]=v0(Ns),{cart:e,removeFromCart:n,clearCart:s,updateQuantity:a}=kA(),[l,c]=M.useState(0),[d,m]=M.useState(!1),p=Pa();M.useEffect(()=>{const N=e.reduce((B,G)=>B+G.price*G.quantity,0);c(N)},[e]);const v=async()=>{if(console.log(" Checkout started..."),!t){alert("Please log in to complete checkout."),p("/login");return}if(e.length===0){alert("Your cart is empty.");return}m(!0);try{console.log(" Creating order..."),console.log("User:",t.email),console.log("Cart:",e);const N=e.map(F=>({id:F.id||"",name:F.name||"",price:F.price||0,image:F.image||"",quantity:F.quantity||1,size:F.size||"",color:F.color||""})),B={userEmail:t.email||"",items:N,total:l,subtotal:l,shipping:l>100?0:15,tax:l*.075,status:"processing",createdAt:hw(),updatedAt:hw()};console.log(" Order data:",B);const G=await _P(sc(Wn,"orders"),B);console.log(" Order saved with ID:",G.id),alert(" Order placed successfully!"),s(),p("/profile")}catch(N){console.error(" Error details:",N),console.error("Error code:",N.code),console.error("Error message:",N.message),alert(`Checkout failed: ${N.message}`)}finally{m(!1)}},_=(N,B)=>{if(B<1){n(N);return}a&&a(N,B)};if(e.length===0)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-ash dark:bg-black px-4",children:y.jsxs("div",{className:"text-center max-w-md",children:[y.jsx("div",{className:"w-32 h-32 bg-white dark:bg-neutral-900 rounded-full flex items-center justify-center mx-auto mb-6 border border-neutral-200 dark:border-neutral-800",children:y.jsx(Yu,{className:"w-16 h-16 text-neutral-400"})}),y.jsx("h2",{className:"text-3xl font-bold mb-3 dark:text-white",children:"Your Cart is Empty"}),y.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Looks like you haven't added anything to your cart yet."}),y.jsxs("button",{onClick:()=>p("/shop"),className:"px-8 py-4 bg-black dark:bg-white text-white dark:text-black rounded-xl font-bold hover:scale-105 transition-transform inline-flex items-center gap-2 border-2 border-black dark:border-white",children:["Start Shopping",y.jsx(Jo,{className:"w-5 h-5"})]})]})});const w=l,R=l>100?0:15,O=l*.075,j=w+R+O;return y.jsx("div",{className:"min-h-screen bg-ash dark:bg-black py-8 px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h1",{className:"text-4xl font-bold mb-2 dark:text-white",children:"Shopping Cart"}),y.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:[e.length," ",e.length===1?"item":"items"," in your cart"]})]}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsx("div",{className:"lg:col-span-2 space-y-4",children:e.map(N=>y.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-lg border border-neutral-200 dark:border-neutral-800 group hover:shadow-xl transition-shadow",children:y.jsxs("div",{className:"flex gap-4",children:[y.jsx("div",{className:"shrink-0",children:y.jsx("img",{src:N.image,alt:N.name,className:"w-24 h-24 rounded-xl object-cover bg-neutral-100 dark:bg-neutral-800"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex justify-between items-start mb-2",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-lg dark:text-white group-hover:text-neutral-600 dark:group-hover:text-neutral-300 transition-colors",children:N.name}),y.jsxs("div",{className:"flex gap-3 mt-1",children:[N.size&&y.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Size: ",N.size]}),N.color&&y.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Color: ",N.color]})]})]}),y.jsx("button",{onClick:()=>n(N.id),className:"p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors group/btn",children:y.jsx(YE,{className:"w-5 h-5 text-neutral-400 group-hover/btn:text-red-500 transition-colors"})})]}),y.jsxs("div",{className:"flex items-center justify-between mt-4",children:[y.jsxs("div",{className:"flex items-center gap-3 bg-neutral-100 dark:bg-neutral-800 rounded-lg p-1",children:[y.jsx("button",{onClick:()=>_(N.id,N.quantity-1),className:"p-2 hover:bg-white dark:hover:bg-black rounded-md transition-colors",children:y.jsx(Yk,{className:"w-4 h-4 dark:text-white"})}),y.jsx("span",{className:"w-8 text-center font-semibold dark:text-white",children:N.quantity}),y.jsx("button",{onClick:()=>_(N.id,N.quantity+1),className:"p-2 hover:bg-white dark:hover:bg-black rounded-md transition-colors",children:y.jsx(Wk,{className:"w-4 h-4 dark:text-white"})})]}),y.jsxs("div",{className:"text-right",children:[y.jsxs("p",{className:"text-xl font-bold dark:text-white",children:["$",(N.price*N.quantity).toFixed(2)]}),y.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:["$",N.price.toFixed(2)," each"]})]})]})]})]})},`${N.id}-${N.size}-${N.color}`))}),y.jsx("div",{className:"lg:col-span-1",children:y.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 shadow-lg border border-neutral-200 dark:border-neutral-800 sticky top-8",children:[y.jsx("h2",{className:"text-xl font-bold mb-6 dark:text-white",children:"Order Summary"}),y.jsxs("div",{className:"space-y-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between text-neutral-600 dark:text-neutral-400",children:[y.jsx("span",{children:"Subtotal"}),y.jsxs("span",{className:"font-semibold",children:["$",w.toFixed(2)]})]}),y.jsxs("div",{className:"flex justify-between text-neutral-600 dark:text-neutral-400",children:[y.jsx("span",{children:"Shipping"}),y.jsx("span",{className:"font-semibold",children:R===0?y.jsx("span",{className:"text-green-600 dark:text-green-400",children:"FREE"}):`$${R.toFixed(2)}`})]}),y.jsxs("div",{className:"flex justify-between text-neutral-600 dark:text-neutral-400",children:[y.jsx("span",{children:"Tax (7.5%)"}),y.jsxs("span",{className:"font-semibold",children:["$",O.toFixed(2)]})]}),l<100&&y.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:y.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:["Add $",(100-l).toFixed(2)," more for free shipping!"]})}),y.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-700 pt-4",children:y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsx("span",{className:"text-lg font-bold dark:text-white",children:"Total"}),y.jsxs("span",{className:"text-2xl font-black dark:text-white",children:["$",j.toFixed(2)]})]})})]}),y.jsxs("div",{className:"mb-6 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[y.jsx(kk,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"}),y.jsx("span",{className:"font-medium dark:text-white",children:"Payment Method"})]}),y.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Cash on Delivery"})]}),y.jsx("button",{onClick:v,disabled:d,className:"w-full bg-black dark:bg-white text-white dark:text-black py-4 rounded-xl font-bold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 border-2 border-black dark:border-white",children:d?y.jsxs(y.Fragment,{children:[y.jsx(Bk,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):y.jsxs(y.Fragment,{children:[y.jsx(_a,{className:"w-5 h-5"}),"Place Order"]})}),y.jsx("p",{className:"text-xs text-center text-neutral-500 dark:text-neutral-400 mt-4",children:"By placing your order, you agree to our terms and conditions"})]})})]})]})})}const IA=M.createContext({});function C3(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const b0=typeof window<"u",N3=b0?M.useLayoutEffect:M.useEffect,_0=M.createContext(null);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function T0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const js=(t,e,n)=>n>e?e:n<t?t:n;let w0=()=>{};const Ps={},DA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function MA(t){return typeof t=="object"&&t!==null}const VA=t=>/^0[^.\s]+$/u.test(t);function E0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jn=t=>t,k3=(t,e)=>n=>e(t(n)),Ac=(...t)=>t.reduce(k3),ic=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class S0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>T0(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xr=t=>t*1e3,Zn=t=>t/1e3;function OA(t,e){return e?t*(1e3/e):0}const jA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I3=1e-7,D3=12;function M3(t,e,n,s,a){let l,c,d=0;do c=e+(n-e)/2,l=jA(c,s,a)-t,l>0?n=c:e=c;while(Math.abs(l)>I3&&++d<D3);return c}function Rc(t,e,n,s){if(t===e&&n===s)return Jn;const a=l=>M3(l,0,1,t,n);return l=>l===0||l===1?l:jA(a(l),e,s)}const PA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LA=t=>e=>1-t(1-e),UA=Rc(.33,1.53,.69,.99),A0=LA(UA),zA=PA(A0),BA=t=>(t*=2)<1?.5*A0(t):.5*(2-Math.pow(2,-10*(t-1))),R0=t=>1-Math.sin(Math.acos(t)),FA=LA(R0),qA=PA(R0),V3=Rc(.42,0,1,1),O3=Rc(0,0,.58,1),HA=Rc(.42,0,.58,1),j3=t=>Array.isArray(t)&&typeof t[0]!="number",GA=t=>Array.isArray(t)&&typeof t[0]=="number",P3={linear:Jn,easeIn:V3,easeInOut:HA,easeOut:O3,circIn:R0,circInOut:qA,circOut:FA,backIn:A0,backInOut:zA,backOut:UA,anticipate:BA},L3=t=>typeof t=="string",yw=t=>{if(GA(t)){w0(t.length===4);const[e,n,s,a]=t;return Rc(e,n,s,a)}else if(L3(t))return P3[t];return t},md=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function U3(t,e){let n=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(v){c.has(v)&&(p.schedule(v),t()),v(d)}const p={schedule:(v,_=!1,w=!1)=>{const O=w&&a?n:s;return _&&c.add(v),O.has(v)||O.add(v),v},cancel:v=>{s.delete(v),c.delete(v)},process:v=>{if(d=v,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(v))}};return p}const z3=40;function $A(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=md.reduce((F,se)=>(F[se]=U3(l),F),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:v,update:_,preRender:w,render:R,postRender:O}=c,j=()=>{const F=Ps.useManualTiming?a.timestamp:performance.now();n=!1,Ps.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(F-a.timestamp,z3),1)),a.timestamp=F,a.isProcessing=!0,d.process(a),m.process(a),p.process(a),v.process(a),_.process(a),w.process(a),R.process(a),O.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(j))},N=()=>{n=!0,s=!0,a.isProcessing||t(j)};return{schedule:md.reduce((F,se)=>{const ae=c[se];return F[se]=(ue,k=!1,A=!1)=>(n||N(),ae.schedule(ue,k,A)),F},{}),cancel:F=>{for(let se=0;se<md.length;se++)c[md[se]].cancel(F)},state:a,steps:c}}const{schedule:ht,cancel:Li,state:Zt,steps:tg}=$A(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0);let kd;function B3(){kd=void 0}const wn={now:()=>(kd===void 0&&wn.set(Zt.isProcessing||Ps.useManualTiming?Zt.timestamp:performance.now()),kd),set:t=>{kd=t,queueMicrotask(B3)}},KA=t=>e=>typeof e=="string"&&e.startsWith(t),C0=KA("--"),F3=KA("var(--"),N0=t=>F3(t)?q3.test(t.split("/*")[0].trim()):!1,q3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ac={...vl,transform:t=>js(0,1,t)},pd={...vl,default:1},Fu=t=>Math.round(t*1e5)/1e5,k0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function H3(t){return t==null}const G3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I0=(t,e)=>n=>!!(typeof n=="string"&&G3.test(n)&&n.startsWith(t)||e&&!H3(n)&&Object.prototype.hasOwnProperty.call(n,e)),YA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,c,d]=s.match(k0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},$3=t=>js(0,255,t),ng={...vl,transform:t=>Math.round($3(t))},Ea={test:I0("rgb","red"),parse:YA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+ng.transform(t)+", "+ng.transform(e)+", "+ng.transform(n)+", "+Fu(ac.transform(s))+")"};function K3(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yg={test:I0("#"),parse:K3,transform:Ea.transform},Cc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_i=Cc("deg"),Wr=Cc("%"),we=Cc("px"),Y3=Cc("vh"),Q3=Cc("vw"),vw={...Wr,parse:t=>Wr.parse(t)/100,transform:t=>Wr.transform(t*100)},Fo={test:I0("hsl","hue"),parse:YA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Wr.transform(Fu(e))+", "+Wr.transform(Fu(n))+", "+Fu(ac.transform(s))+")"},Vt={test:t=>Ea.test(t)||Yg.test(t)||Fo.test(t),parse:t=>Ea.test(t)?Ea.parse(t):Fo.test(t)?Fo.parse(t):Yg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):Fo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},X3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W3(t){return isNaN(t)&&typeof t=="string"&&(t.match(k0)?.length||0)+(t.match(X3)?.length||0)>0}const QA="number",XA="color",Z3="var",J3="var(",bw="${}",e6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function oc(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const d=e.replace(e6,m=>(Vt.test(m)?(s.color.push(l),a.push(XA),n.push(Vt.parse(m))):m.startsWith(J3)?(s.var.push(l),a.push(Z3),n.push(m)):(s.number.push(l),a.push(QA),n.push(parseFloat(m))),++l,bw)).split(bw);return{values:n,split:d,indexes:s,types:a}}function WA(t){return oc(t).values}function ZA(t){const{split:e,types:n}=oc(t),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const d=n[c];d===QA?l+=Fu(a[c]):d===XA?l+=Vt.transform(a[c]):l+=a[c]}return l}}const t6=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function n6(t){const e=WA(t);return ZA(t)(e.map(t6))}const Ui={test:W3,parse:WA,createTransformer:ZA,getAnimatableNone:n6};function rg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function r6({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,c=0;if(!e)a=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;a=rg(m,d,t+1/3),l=rg(m,d,t),c=rg(m,d,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function rf(t,e){return n=>n>0?e:t}const dt=(t,e,n)=>t+(e-t)*n,sg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},s6=[Yg,Ea,Fo],i6=t=>s6.find(e=>e.test(t));function _w(t){const e=i6(t);if(!e)return!1;let n=e.parse(t);return e===Fo&&(n=r6(n)),n}const xw=(t,e)=>{const n=_w(t),s=_w(e);if(!n||!s)return rf(t,e);const a={...n};return l=>(a.red=sg(n.red,s.red,l),a.green=sg(n.green,s.green,l),a.blue=sg(n.blue,s.blue,l),a.alpha=dt(n.alpha,s.alpha,l),Ea.transform(a))},Qg=new Set(["none","hidden"]);function a6(t,e){return Qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function o6(t,e){return n=>dt(t,e,n)}function D0(t){return typeof t=="number"?o6:typeof t=="string"?N0(t)?rf:Vt.test(t)?xw:c6:Array.isArray(t)?JA:typeof t=="object"?Vt.test(t)?xw:l6:rf}function JA(t,e){const n=[...t],s=n.length,a=t.map((l,c)=>D0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=a[c](l);return n}}function l6(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=D0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function u6(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],d=t.values[c]??0;n[a]=d,s[l]++}return n}const c6=(t,e)=>{const n=Ui.createTransformer(e),s=oc(t),a=oc(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Qg.has(t)&&!a.values.length||Qg.has(e)&&!s.values.length?a6(t,e):Ac(JA(u6(s,a),a.values),n):rf(t,e)};function e2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dt(t,e,n):D0(t)(t,e)}const h6=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>ht.update(e,n),stop:()=>Li(e),now:()=>Zt.isProcessing?Zt.timestamp:wn.now()}},t2=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},sf=2e4;function M0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<sf;)e+=n,s=t.next(e);return e>=sf?1/0:e}function d6(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(M0(s),sf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Zn(a)}}const f6=5;function n2(t,e,n){const s=Math.max(e-f6,0);return OA(n-t(s),e-s)}const yt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ig=.001;function m6({duration:t=yt.duration,bounce:e=yt.bounce,velocity:n=yt.velocity,mass:s=yt.mass}){let a,l,c=1-e;c=js(yt.minDamping,yt.maxDamping,c),t=js(yt.minDuration,yt.maxDuration,Zn(t)),c<1?(a=p=>{const v=p*c,_=v*t,w=v-n,R=Xg(p,c),O=Math.exp(-_);return ig-w/R*O},l=p=>{const _=p*c*t,w=_*n+n,R=Math.pow(c,2)*Math.pow(p,2)*t,O=Math.exp(-_),j=Xg(Math.pow(p,2),c);return(-a(p)+ig>0?-1:1)*((w-R)*O)/j}):(a=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-ig+v*_},l=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const d=5/t,m=g6(a,l,d);if(t=Xr(t),isNaN(m))return{stiffness:yt.stiffness,damping:yt.damping,duration:t};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const p6=12;function g6(t,e,n){let s=n;for(let a=1;a<p6;a++)s=s-t(s)/e(s);return s}function Xg(t,e){return t*Math.sqrt(1-e*e)}const y6=["duration","bounce"],v6=["stiffness","damping","mass"];function Tw(t,e){return e.some(n=>t[n]!==void 0)}function b6(t){let e={velocity:yt.velocity,stiffness:yt.stiffness,damping:yt.damping,mass:yt.mass,isResolvedFromDuration:!1,...t};if(!Tw(t,v6)&&Tw(t,y6))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*js(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yt.mass,stiffness:a,damping:l}}else{const n=m6(t);e={...e,...n,mass:yt.mass},e.isResolvedFromDuration=!0}return e}function af(t=yt.visualDuration,e=yt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:m,damping:p,mass:v,duration:_,velocity:w,isResolvedFromDuration:R}=b6({...n,velocity:-Zn(n.velocity||0)}),O=w||0,j=p/(2*Math.sqrt(m*v)),N=c-l,B=Zn(Math.sqrt(m/v)),G=Math.abs(N)<5;s||(s=G?yt.restSpeed.granular:yt.restSpeed.default),a||(a=G?yt.restDelta.granular:yt.restDelta.default);let F;if(j<1){const ae=Xg(B,j);F=ue=>{const k=Math.exp(-j*B*ue);return c-k*((O+j*B*N)/ae*Math.sin(ae*ue)+N*Math.cos(ae*ue))}}else if(j===1)F=ae=>c-Math.exp(-B*ae)*(N+(O+B*N)*ae);else{const ae=B*Math.sqrt(j*j-1);F=ue=>{const k=Math.exp(-j*B*ue),A=Math.min(ae*ue,300);return c-k*((O+j*B*N)*Math.sinh(A)+ae*N*Math.cosh(A))/ae}}const se={calculatedDuration:R&&_||null,next:ae=>{const ue=F(ae);if(R)d.done=ae>=_;else{let k=ae===0?O:0;j<1&&(k=ae===0?Xr(O):n2(F,ae,ue));const A=Math.abs(k)<=s,C=Math.abs(c-ue)<=a;d.done=A&&C}return d.value=d.done?c:ue,d},toString:()=>{const ae=Math.min(M0(se),sf),ue=t2(k=>se.next(ae*k).value,ae,30);return ae+"ms "+ue},toTransition:()=>{}};return se}af.applyToOptions=t=>{const e=d6(t,100,af);return t.ease=e.ease,t.duration=Xr(e.duration),t.type="keyframes",t};function Wg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:v}){const _=t[0],w={done:!1,value:_},R=A=>d!==void 0&&A<d||m!==void 0&&A>m,O=A=>d===void 0?m:m===void 0||Math.abs(d-A)<Math.abs(m-A)?d:m;let j=n*e;const N=_+j,B=c===void 0?N:c(N);B!==N&&(j=B-_);const G=A=>-j*Math.exp(-A/s),F=A=>B+G(A),se=A=>{const C=G(A),L=F(A);w.done=Math.abs(C)<=p,w.value=w.done?B:L};let ae,ue;const k=A=>{R(w.value)&&(ae=A,ue=af({keyframes:[w.value,O(w.value)],velocity:n2(F,A,w.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return k(0),{calculatedDuration:null,next:A=>{let C=!1;return!ue&&ae===void 0&&(C=!0,se(A),k(A)),ae!==void 0&&A>=ae?ue.next(A-ae):(!C&&se(A),w)}}}function _6(t,e,n){const s=[],a=n||Ps.mix||e2,l=t.length-1;for(let c=0;c<l;c++){let d=a(t[c],t[c+1]);if(e){const m=Array.isArray(e)?e[c]||Jn:e;d=Ac(m,d)}s.push(d)}return s}function x6(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(w0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=_6(e,s,a),m=d.length,p=v=>{if(c&&v<t[0])return e[0];let _=0;if(m>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const w=ic(t[_],t[_+1],v);return d[_](w)};return n?v=>p(js(t[0],t[l-1],v)):p}function T6(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=ic(0,e,s);t.push(dt(n,1,a))}}function w6(t){const e=[0];return T6(e,t.length-1),e}function E6(t,e){return t.map(n=>n*e)}function S6(t,e){return t.map(()=>e||HA).splice(0,t.length-1)}function qu({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=j3(s)?s.map(yw):yw(s),l={done:!1,value:e[0]},c=E6(n&&n.length===e.length?n:w6(e),t),d=x6(c,e,{ease:Array.isArray(a)?a:S6(e,a)});return{calculatedDuration:t,next:m=>(l.value=d(m),l.done=m>=t,l)}}const A6=t=>t!==null;function V0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(A6),d=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const R6={decay:Wg,inertia:Wg,tween:qu,keyframes:qu,spring:af};function r2(t){typeof t.type=="string"&&(t.type=R6[t.type])}class O0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const C6=t=>t/100;class j0 extends O0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==wn.now()&&this.tick(wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;r2(e);const{type:n=qu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const m=n||qu;m!==qu&&typeof d[0]!="number"&&(this.mixKeyframes=Ac(C6,e2(d[0],d[1])),d=[0,100]);const p=m({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=M0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:v,repeat:_,repeatType:w,repeatDelay:R,type:O,onUpdate:j,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const B=this.currentTime-p*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>a;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let F=this.currentTime,se=s;if(_){const A=Math.min(this.currentTime,a)/d;let C=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&C--,C=Math.min(C,_+1),!!(C%2)&&(w==="reverse"?(L=1-L,R&&(L-=R/d)):w==="mirror"&&(se=c)),F=js(0,1,L)*d}const ae=G?{done:!1,value:v[0]}:se.next(F);l&&(ae.value=l(ae.value));let{done:ue}=ae;!G&&m!==null&&(ue=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&O!==Wg&&(ae.value=V0(v,this.options,N,this.speed)),j&&j(ae.value),k&&this.finish(),ae}then(e,n){return this.finished.then(e,n)}get duration(){return Zn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(this.currentTime)}set time(e){e=Xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(wn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=h6,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function N6(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Sa=t=>t*180/Math.PI,Zg=t=>{const e=Sa(Math.atan2(t[1],t[0]));return Jg(e)},k6={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zg,rotateZ:Zg,skewX:t=>Sa(Math.atan(t[1])),skewY:t=>Sa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Jg=t=>(t=t%360,t<0&&(t+=360),t),ww=Zg,Ew=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Sw=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),I6={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ew,scaleY:Sw,scale:t=>(Ew(t)+Sw(t))/2,rotateX:t=>Jg(Sa(Math.atan2(t[6],t[5]))),rotateY:t=>Jg(Sa(Math.atan2(-t[2],t[0]))),rotateZ:ww,rotate:ww,skewX:t=>Sa(Math.atan(t[4])),skewY:t=>Sa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ey(t){return t.includes("scale")?1:0}function ty(t,e){if(!t||t==="none")return ey(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=I6,a=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=k6,a=d}if(!a)return ey(e);const l=s[e],c=a[1].split(",").map(M6);return typeof l=="function"?l(c):c[l]}const D6=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ty(n,e)};function M6(t){return parseFloat(t.trim())}const bl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(bl),Aw=t=>t===vl||t===we,V6=new Set(["x","y","z"]),O6=bl.filter(t=>!V6.has(t));function j6(t){const e=[];return O6.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Ca={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ty(e,"x"),y:(t,{transform:e})=>ty(e,"y")};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const Na=new Set;let ny=!1,ry=!1,sy=!1;function s2(){if(ry){const t=Array.from(Na).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=j6(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ry=!1,ny=!1,Na.forEach(t=>t.complete(sy)),Na.clear()}function i2(){Na.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ry=!0)})}function P6(){sy=!0,i2(),s2(),sy=!1}class P0{constructor(e,n,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Na.add(this),ny||(ny=!0,ht.read(i2),ht.resolveKeyframes(s2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}N6(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Na.delete(this)}cancel(){this.state==="scheduled"&&(Na.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L6=t=>t.startsWith("--");function U6(t,e,n){L6(e)?t.style.setProperty(e,n):t.style[e]=n}const z6=E0(()=>window.ScrollTimeline!==void 0),B6={};function F6(t,e){const n=E0(t);return()=>B6[e]??n()}const a2=F6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ou=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Rw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ou([0,.65,.55,1]),circOut:Ou([.55,0,1,.45]),backIn:Ou([.31,.01,.66,-.59]),backOut:Ou([.33,1.53,.69,.99])};function o2(t,e){if(t)return typeof t=="function"?a2()?t2(t,e):"ease-out":GA(t)?Ou(t):Array.isArray(t)?t.map(n=>o2(n,e)||Rw.easeOut):Rw[t]}function q6(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const v={[e]:n};m&&(v.offset=m);const _=o2(d,a);Array.isArray(_)&&(v.easing=_);const w={delay:s,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(w.pseudoElement=p),t.animate(v,w)}function l2(t){return typeof t=="function"&&"applyToOptions"in t}function H6({type:t,...e}){return l2(t)&&a2()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class G6 extends O0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,w0(typeof e.type!="string");const p=H6(e);this.animation=q6(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=V0(a,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(v):U6(n,s,v),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zn(e)}get time(){return Zn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&z6()?(this.animation.timeline=e,Jn):n(this)}}const u2={anticipate:BA,backInOut:zA,circInOut:qA};function $6(t){return t in u2}function K6(t){typeof t.ease=="string"&&$6(t.ease)&&(t.ease=u2[t.ease])}const Cw=10;class Y6 extends G6{constructor(e){K6(e),r2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new j0({...c,autoplay:!1}),m=Xr(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-Cw).value,d.sample(m).value,Cw),d.stop()}}const Nw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ui.test(t)||t==="0")&&!t.startsWith("url("));function Q6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function X6(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=Nw(a,e),d=Nw(l,e);return!c||!d?!1:Q6(t)||(n==="spring"||l2(n))&&s}function iy(t){t.duration=0,t.type="keyframes"}const W6=new Set(["opacity","clipPath","filter","transform"]),Z6=E0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function J6(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return Z6()&&n&&W6.has(n)&&(n!=="transform"||!p)&&!m&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const e5=40;class t5 extends O0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:v,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=wn.now();const w={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:c,name:m,motionValue:p,element:v,..._},R=v?.KeyframeResolver||P0;this.keyframeResolver=new R(d,(O,j,N)=>this.onKeyframesResolved(O,j,w,!N),m,p,v),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:v}=s;this.resolvedAt=wn.now(),X6(e,l,c,d)||((Ps.instantAnimations||!m)&&v?.(V0(e,s,n)),e[0]=e[e.length-1],iy(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>e5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},R=!p&&J6(w)?new Y6({...w,element:w.motionValue.owner.current}):new j0(w);R.finished.then(()=>this.notifyFinished()).catch(Jn),this.pendingTimeline&&(this.stopTimeline=R.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=R}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),P6()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const n5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r5(t){const e=n5.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function c2(t,e,n=1){const[s,a]=r5(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return DA(c)?parseFloat(c):c}return N0(a)?c2(a,e,n+1):a}function L0(t,e){return t?.[e]??t?.default??t}const h2=new Set(["width","height","top","left","right","bottom",...bl]),s5={test:t=>t==="auto",parse:t=>t},d2=t=>e=>e.test(t),f2=[vl,we,Wr,_i,Q3,Y3,s5],kw=t=>f2.find(d2(t));function i5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VA(t):!0}const a5=new Set(["brightness","contrast","saturate","opacity"]);function o5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(k0)||[];if(!s)return t;const a=n.replace(s,"");let l=a5.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const l5=/\b([a-z-]*)\(.*?\)/gu,ay={...Ui,getAnimatableNone:t=>{const e=t.match(l5);return e?e.map(o5).join(" "):t}},Iw={...vl,transform:Math.round},u5={rotate:_i,rotateX:_i,rotateY:_i,rotateZ:_i,scale:pd,scaleX:pd,scaleY:pd,scaleZ:pd,skew:_i,skewX:_i,skewY:_i,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:ac,originX:vw,originY:vw,originZ:we},U0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we,...u5,zIndex:Iw,fillOpacity:ac,strokeOpacity:ac,numOctaves:Iw},c5={...U0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:ay,WebkitFilter:ay},m2=t=>c5[t];function p2(t,e){let n=m2(t);return n!==ay&&(n=Ui),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const h5=new Set(["auto","none","0"]);function d5(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!h5.has(l)&&oc(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=p2(n,a)}class f5 extends P0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),N0(p))){const v=c2(p,n.current);v!==void 0&&(e[m]=v),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!h2.has(s)||e.length!==2)return;const[a,l]=e,c=kw(a),d=kw(l);if(c!==d)if(Aw(c)&&Aw(d))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Ca[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||i5(e[a]))&&s.push(a);s.length&&d5(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ca[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function m5(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const g2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function p5(t){return MA(t)&&"offsetHeight"in t}const Dw=30,g5=t=>!isNaN(parseFloat(t));class y5{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=g5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new S0);const s=this.events[e].add(n);return e==="change"?()=>{s(),ht.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dw);return OA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new y5(t,e)}const{schedule:z0}=$A(queueMicrotask,!1),dr={x:!1,y:!1};function y2(){return dr.x||dr.y}function v5(t){return t==="x"||t==="y"?dr[t]?null:(dr[t]=!0,()=>{dr[t]=!1}):dr.x||dr.y?null:(dr.x=dr.y=!0,()=>{dr.x=dr.y=!1})}function v2(t,e){const n=m5(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function Mw(t){return!(t.pointerType==="touch"||y2())}function b5(t,e,n={}){const[s,a,l]=v2(t,n),c=d=>{if(!Mw(d))return;const{target:m}=d,p=e(m,d);if(typeof p!="function"||!m)return;const v=_=>{Mw(_)&&(p(_),m.removeEventListener("pointerleave",v))};m.addEventListener("pointerleave",v,a)};return s.forEach(d=>{d.addEventListener("pointerenter",c,a)}),l}const b2=(t,e)=>e?t===e?!0:b2(t,e.parentElement):!1,B0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function x5(t){return _5.has(t.tagName)||t.tabIndex!==-1}const Id=new WeakSet;function Vw(t){return e=>{e.key==="Enter"&&t(e)}}function ag(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T5=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Vw(()=>{if(Id.has(n))return;ag(n,"down");const a=Vw(()=>{ag(n,"up")}),l=()=>ag(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function Ow(t){return B0(t)&&!y2()}function w5(t,e,n={}){const[s,a,l]=v2(t,n),c=d=>{const m=d.currentTarget;if(!Ow(d))return;Id.add(m);const p=e(m,d),v=(R,O)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",w),Id.has(m)&&Id.delete(m),Ow(R)&&typeof p=="function"&&p(R,{success:O})},_=R=>{v(R,m===window||m===document||n.useGlobalTarget||b2(m,R.target))},w=R=>{v(R,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",w,a)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,a),p5(d)&&(d.addEventListener("focus",p=>T5(p,a)),!x5(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function _2(t){return MA(t)&&"ownerSVGElement"in t}function E5(t){return _2(t)&&t.tagName==="svg"}const un=t=>!!(t&&t.getVelocity),S5=[...f2,Vt,Ui],A5=t=>S5.find(d2(t)),x2=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function R5(t=!0){const e=M.useContext(_0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=M.useId();M.useEffect(()=>{if(t)return a(l)},[t]);const c=M.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const T2=M.createContext({strict:!1}),jw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ll={};for(const t in jw)ll[t]={isEnabled:e=>jw[t].some(n=>!!e[n])};function C5(t){for(const e in t)ll[e]={...ll[e],...t[e]}}const N5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function of(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N5.has(t)}let w2=t=>!of(t);function k5(t){typeof t=="function"&&(w2=e=>e.startsWith("on")?!of(e):t(e))}try{k5(require("@emotion/is-prop-valid").default)}catch{}function I5(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(w2(a)||n===!0&&of(a)||!e&&!of(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Mf=M.createContext({});function Vf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function lc(t){return typeof t=="string"||Array.isArray(t)}const F0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q0=["initial",...F0];function Of(t){return Vf(t.animate)||q0.some(e=>lc(t[e]))}function E2(t){return!!(Of(t)||t.variants)}function D5(t,e){if(Of(t)){const{initial:n,animate:s}=t;return{initial:n===!1||lc(n)?n:void 0,animate:lc(s)?s:void 0}}return t.inherit!==!1?e:{}}function M5(t){const{initial:e,animate:n}=D5(t,M.useContext(Mf));return M.useMemo(()=>({initial:e,animate:n}),[Pw(e),Pw(n)])}function Pw(t){return Array.isArray(t)?t.join(" "):t}const uc={};function V5(t){for(const e in t)uc[e]=t[e],C0(e)&&(uc[e].isCSSVariable=!0)}function S2(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uc[t]||t==="opacity")}const O5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j5=bl.length;function P5(t,e,n){let s="",a=!0;for(let l=0;l<j5;l++){const c=bl[l],d=t[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const p=g2(d,U0[c]);if(!m){a=!1;const v=O5[c]||c;s+=`${v}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function H0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let c=!1,d=!1;for(const m in e){const p=e[m];if(_l.has(m)){c=!0;continue}else if(C0(m)){a[m]=p;continue}else{const v=g2(p,U0[m]);m.startsWith("origin")?(d=!0,l[m]=v):s[m]=v}}if(e.transform||(c||n?s.transform=P5(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:v=0}=l;s.transformOrigin=`${m} ${p} ${v}`}}const G0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function A2(t,e,n){for(const s in e)!un(e[s])&&!S2(s,n)&&(t[s]=e[s])}function L5({transformTemplate:t},e){return M.useMemo(()=>{const n=G0();return H0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function U5(t,e){const n=t.style||{},s={};return A2(s,n,t),Object.assign(s,L5(t,e)),s}function z5(t,e){const n={},s=U5(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const B5={offset:"stroke-dashoffset",array:"stroke-dasharray"},F5={offset:"strokeDashoffset",array:"strokeDasharray"};function q5(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?B5:F5;t[l.offset]=we.transform(-s);const c=we.transform(e),d=we.transform(n);t[l.array]=`${c} ${d}`}function R2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...d},m,p,v){if(H0(t,d,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:w}=t;_.transform&&(w.transform=_.transform,delete _.transform),(w.transform||_.transformOrigin)&&(w.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),w.transform&&(w.transformBox=v?.transformBox??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),s!==void 0&&(_.scale=s),a!==void 0&&q5(_,a,l,c,!1)}const C2=()=>({...G0(),attrs:{}}),N2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function H5(t,e,n,s){const a=M.useMemo(()=>{const l=C2();return R2(l,e,N2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};A2(l,t.style,t),a.style={...l,...a.style}}return a}const G5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $0(t){return typeof t!="string"||t.includes("-")?!1:!!(G5.indexOf(t)>-1||/[A-Z]/u.test(t))}function $5(t,e,n,{latestValues:s},a,l=!1){const d=($0(t)?H5:z5)(e,s,a,t),m=I5(e,typeof t=="string",l),p=t!==M.Fragment?{...m,...d,ref:n}:{},{children:v}=e,_=M.useMemo(()=>un(v)?v.get():v,[v]);return M.createElement(t,{...p,children:_})}function Lw(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function K0(t,e,n,s){if(typeof e=="function"){const[a,l]=Lw(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Lw(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Dd(t){return un(t)?t.get():t}function K5({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:Y5(n,s,a,t),renderState:e()}}function Y5(t,e,n,s){const a={},l=s(t,{});for(const w in l)a[w]=Dd(l[w]);let{initial:c,animate:d}=t;const m=Of(t),p=E2(t);e&&p&&!m&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let v=n?n.initial===!1:!1;v=v||c===!1;const _=v?d:c;if(_&&typeof _!="boolean"&&!Vf(_)){const w=Array.isArray(_)?_:[_];for(let R=0;R<w.length;R++){const O=K0(t,w[R]);if(O){const{transitionEnd:j,transition:N,...B}=O;for(const G in B){let F=B[G];if(Array.isArray(F)){const se=v?F.length-1:0;F=F[se]}F!==null&&(a[G]=F)}for(const G in j)a[G]=j[G]}}}return a}const k2=t=>(e,n)=>{const s=M.useContext(Mf),a=M.useContext(_0),l=()=>K5(t,e,s,a);return n?l():C3(l)};function Y0(t,e,n){const{style:s}=t,a={};for(const l in s)(un(s[l])||e.style&&un(e.style[l])||S2(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const Q5=k2({scrapeMotionValuesFromProps:Y0,createRenderState:G0});function I2(t,e,n){const s=Y0(t,e,n);for(const a in t)if(un(t[a])||un(e[a])){const l=bl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const X5=k2({scrapeMotionValuesFromProps:I2,createRenderState:C2}),W5=Symbol.for("motionComponentSymbol");function qo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Z5(t,e,n){return M.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):qo(n)&&(n.current=s))},[e])}const Q0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J5="framerAppearId",D2="data-"+Q0(J5),M2=M.createContext({});function eL(t,e,n,s,a){const{visualElement:l}=M.useContext(Mf),c=M.useContext(T2),d=M.useContext(_0),m=M.useContext(x2).reducedMotion,p=M.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const v=p.current,_=M.useContext(M2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&tL(p.current,n,a,_);const w=M.useRef(!1);M.useInsertionEffect(()=>{v&&w.current&&v.update(n,d)});const R=n[D2],O=M.useRef(!!R&&!window.MotionHandoffIsComplete?.(R)&&window.MotionHasOptimisedAnimation?.(R));return N3(()=>{v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),O.current&&v.animationState&&v.animationState.animateChanges())}),M.useEffect(()=>{v&&(!O.current&&v.animationState&&v.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(R)}),O.current=!1),v.enteringChildren=void 0)}),v}function tL(t,e,n,s){const{layoutId:a,layout:l,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:V2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||d&&qo(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:v,layoutScroll:m,layoutRoot:p})}function V2(t){if(t)return t.options.allowProjection!==!1?t.projection:V2(t.parent)}function og(t,{forwardMotionProps:e=!1}={},n,s){n&&C5(n);const a=$0(t)?X5:Q5;function l(d,m){let p;const v={...M.useContext(x2),...d,layoutId:nL(d)},{isStatic:_}=v,w=M5(d),R=a(d,_);if(!_&&b0){rL();const O=sL(v);p=O.MeasureLayout,w.visualElement=eL(t,R,v,s,O.ProjectionNode)}return y.jsxs(Mf.Provider,{value:w,children:[p&&w.visualElement?y.jsx(p,{visualElement:w.visualElement,...v}):null,$5(t,d,Z5(R,w.visualElement,m),R,_,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=M.forwardRef(l);return c[W5]=t,c}function nL({layoutId:t}){const e=M.useContext(IA).id;return e&&t!==void 0?e+"-"+t:t}function rL(t,e){M.useContext(T2).strict}function sL(t){const{drag:e,layout:n}=ll;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function iL(t,e){if(typeof Proxy>"u")return og;const n=new Map,s=(l,c)=>og(l,c,t,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,og(c,void 0,t,e)),n.get(c))})}function O2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function aL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function oL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function lg(t){return t===void 0||t===1}function oy({scale:t,scaleX:e,scaleY:n}){return!lg(t)||!lg(e)||!lg(n)}function Ta(t){return oy(t)||j2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function j2(t){return Uw(t.x)||Uw(t.y)}function Uw(t){return t&&t!=="0%"}function lf(t,e,n){const s=t-n,a=e*s;return n+a}function zw(t,e,n,s,a){return a!==void 0&&(t=lf(t,a,s)),lf(t,n,s)+e}function ly(t,e=0,n=1,s,a){t.min=zw(t.min,e,n,s,a),t.max=zw(t.max,e,n,s,a)}function P2(t,{x:e,y:n}){ly(t.x,e.translate,e.scale,e.originPoint),ly(t.y,n.translate,n.scale,n.originPoint)}const Bw=.999999999999,Fw=1.0000000000001;function lL(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,c;for(let d=0;d<a;d++){l=n[d],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Go(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,P2(t,c)),s&&Ta(l.latestValues)&&Go(t,l.latestValues))}e.x<Fw&&e.x>Bw&&(e.x=1),e.y<Fw&&e.y>Bw&&(e.y=1)}function Ho(t,e){t.min=t.min+e,t.max=t.max+e}function qw(t,e,n,s,a=.5){const l=dt(t.min,t.max,a);ly(t,e,n,l,s)}function Go(t,e){qw(t.x,e.x,e.scaleX,e.scale,e.originX),qw(t.y,e.y,e.scaleY,e.scale,e.originY)}function L2(t,e){return O2(oL(t.getBoundingClientRect(),e))}function uL(t,e,n){const s=L2(t,n),{scroll:a}=e;return a&&(Ho(s.x,a.offset.x),Ho(s.y,a.offset.y)),s}const Hw=()=>({translate:0,scale:1,origin:0,originPoint:0}),$o=()=>({x:Hw(),y:Hw()}),Gw=()=>({min:0,max:0}),Tt=()=>({x:Gw(),y:Gw()}),uy={current:null},U2={current:!1};function cL(){if(U2.current=!0,!!b0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>uy.current=t.matches;t.addEventListener("change",e),e()}else uy.current=!1}const hL=new WeakMap;function dL(t,e,n){for(const s in e){const a=e[s],l=n[s];if(un(a))t.addValue(s,a);else if(un(l))t.addValue(s,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=t.getStaticValue(s);t.addValue(s,ol(c!==void 0?c:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const $w=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class fL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=wn.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,ht.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Of(n),this.isVariantNode=E2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in _){const R=_[w];m[w]!==void 0&&un(R)&&R.set(m[w])}}mount(e){this.current=e,hL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),U2.current||cL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uy.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Li(this.notifyUpdate),Li(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=_l.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&ht.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ll){const n=ll[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<$w.length;s++){const a=$w[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=dL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=ol(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(DA(s)||VA(s))?s=parseFloat(s):!A5(s)&&Ui.test(n)&&(s=p2(e,n)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=K0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new S0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){z0.render(this.render)}}class z2 extends fL{constructor(){super(...arguments),this.KeyframeResolver=f5}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function B2(t,{style:e,vars:n},s,a){const l=t.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function mL(t){return window.getComputedStyle(t)}class pL extends z2{constructor(){super(...arguments),this.type="html",this.renderInstance=B2}readValueFromInstance(e,n){if(_l.has(n))return this.projection?.isProjecting?ey(n):D6(e,n);{const s=mL(e),a=(C0(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return L2(e,n)}build(e,n,s){H0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return Y0(e,n,s)}}const F2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gL(t,e,n,s){B2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(F2.has(a)?a:Q0(a),e.attrs[a])}class yL extends z2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const s=m2(n);return s&&s.default||0}return n=F2.has(n)?n:Q0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return I2(e,n,s)}build(e,n,s){R2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){gL(e,n,s,a)}mount(e){this.isSVGTag=N2(e.tagName),super.mount(e)}}const vL=(t,e)=>$0(t)?new yL(e):new pL(e,{allowProjection:t!==M.Fragment});function Zo(t,e,n){const s=t.getProps();return K0(s,e,n!==void 0?n:s.custom,t)}const cy=t=>Array.isArray(t);function bL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function _L(t){return cy(t)?t[t.length-1]||0:t}function xL(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const c in l){const d=_L(l[c]);bL(t,c,d)}}function TL(t){return!!(un(t)&&t.add)}function hy(t,e){const n=t.getValue("willChange");if(TL(n))return n.add(e);if(!n&&Ps.WillChange){const s=new Ps.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function q2(t){return t.props[D2]}const wL=t=>t!==null;function EL(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(wL),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const SL={type:"spring",stiffness:500,damping:25,restSpeed:10},AL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),RL={type:"keyframes",duration:.8},CL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NL=(t,{keyframes:e})=>e.length>2?RL:_l.has(t)?t.startsWith("scale")?AL(e[1]):SL:CL;function kL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:d,from:m,elapsed:p,...v}){return!!Object.keys(v).length}const X0=(t,e,n,s={},a,l)=>c=>{const d=L0(s,t)||{},m=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-Xr(m);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:w=>{e.set(w),d.onUpdate&&d.onUpdate(w)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:a};kL(d)||Object.assign(v,NL(t,v)),v.duration&&(v.duration=Xr(v.duration)),v.repeatDelay&&(v.repeatDelay=Xr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(iy(v),v.delay===0&&(_=!0)),(Ps.instantAnimations||Ps.skipAnimations)&&(_=!0,iy(v),v.delay=0),v.allowFlatten=!d.type&&!d.ease,_&&!l&&e.get()!==void 0){const w=EL(v.keyframes,d);if(w!==void 0){ht.update(()=>{v.onUpdate(w),v.onComplete()});return}}return d.isSync?new j0(v):new t5(v)};function IL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function H2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const m=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in d){const _=t.getValue(v,t.latestValues[v]??null),w=d[v];if(w===void 0||p&&IL(p,v))continue;const R={delay:n,...L0(l||{},v)},O=_.get();if(O!==void 0&&!_.isAnimating&&!Array.isArray(w)&&w===O&&!R.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const B=q2(t);if(B){const G=window.MotionHandoffAnimation(B,v,ht);G!==null&&(R.startTime=G,j=!0)}}hy(t,v),_.start(X0(v,_,w,t.shouldReduceMotion&&h2.has(v)?{type:!1}:R,t,j));const N=_.animation;N&&m.push(N)}return c&&Promise.all(m).then(()=>{ht.update(()=>{c&&xL(t,c)})}),m}function G2(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,v)=>p.sortNodePosition(v)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):a===1?l*s:d-l*s}function dy(t,e,n={}){const s=Zo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(H2(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:_}=a;return DL(t,e,m,p,v,_,n)}:()=>Promise.resolve(),{when:d}=a;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function DL(t,e,n=0,s=0,a=0,l=1,c){const d=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),d.push(dy(m,e,{...c,delay:n+(typeof s=="function"?0:s)+G2(t.variantChildren,m,s,a,l)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(d)}function ML(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>dy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=dy(t,e,n);else{const a=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(H2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function $2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const VL=q0.length;function K2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?K2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<VL;n++){const s=q0[n],a=t.props[s];(lc(a)||a===!1)&&(e[s]=a)}return e}const OL=[...F0].reverse(),jL=F0.length;function PL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>ML(t,n,s)))}function LL(t){let e=PL(t),n=Kw(),s=!0;const a=m=>(p,v)=>{const _=Zo(t,v,m==="exit"?t.presenceContext?.custom:void 0);if(_){const{transition:w,transitionEnd:R,...O}=_;p={...p,...O,...R}}return p};function l(m){e=m(t)}function c(m){const{props:p}=t,v=K2(t.parent)||{},_=[],w=new Set;let R={},O=1/0;for(let N=0;N<jL;N++){const B=OL[N],G=n[B],F=p[B]!==void 0?p[B]:v[B],se=lc(F),ae=B===m?G.isActive:null;ae===!1&&(O=N);let ue=F===v[B]&&F!==p[B]&&se;if(ue&&s&&t.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...R},!G.isActive&&ae===null||!F&&!G.prevProp||Vf(F)||typeof F=="boolean")continue;const k=UL(G.prevProp,F);let A=k||B===m&&G.isActive&&!ue&&se||N>O&&se,C=!1;const L=Array.isArray(F)?F:[F];let P=L.reduce(a(B),{});ae===!1&&(P={});const{prevResolvedValues:D={}}=G,I={...D,...P},He=ie=>{A=!0,w.has(ie)&&(C=!0,w.delete(ie)),G.needsAnimating[ie]=!0;const he=t.getValue(ie);he&&(he.liveStyle=!1)};for(const ie in I){const he=P[ie],be=D[ie];if(R.hasOwnProperty(ie))continue;let Ie=!1;cy(he)&&cy(be)?Ie=!$2(he,be):Ie=he!==be,Ie?he!=null?He(ie):w.add(ie):he!==void 0&&w.has(ie)?He(ie):G.protectedKeys[ie]=!0}G.prevProp=F,G.prevResolvedValues=P,G.isActive&&(R={...R,...P}),s&&t.blockInitialAnimation&&(A=!1);const ot=ue&&k;A&&(!ot||C)&&_.push(...L.map(ie=>{const he={type:B};if(typeof ie=="string"&&s&&!ot&&t.manuallyAnimateOnMount&&t.parent){const{parent:be}=t,Ie=Zo(be,ie);if(be.enteringChildren&&Ie){const{delayChildren:U}=Ie.transition||{};he.delay=G2(be.enteringChildren,t,U)}}return{animation:ie,options:he}}))}if(w.size){const N={};if(typeof p.initial!="boolean"){const B=Zo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);B&&B.transition&&(N.transition=B.transition)}w.forEach(B=>{const G=t.getBaseTarget(B),F=t.getValue(B);F&&(F.liveStyle=!0),N[B]=G??null}),_.push({animation:N})}let j=!!_.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(_):Promise.resolve()}function d(m,p){if(n[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const v=c(m);for(const _ in n)n[_].protectedKeys={};return v}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Kw()}}}function UL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$2(e,t):!1}function ba(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kw(){return{animate:ba(!0),whileInView:ba(),whileHover:ba(),whileTap:ba(),whileDrag:ba(),whileFocus:ba(),exit:ba()}}class Bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zL extends Bi{constructor(e){super(e),e.animationState||(e.animationState=LL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let BL=0;class FL extends Bi{constructor(){super(...arguments),this.id=BL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qL={animation:{Feature:zL},exit:{Feature:FL}};function cc(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Nc(t){return{point:{x:t.pageX,y:t.pageY}}}const HL=t=>e=>B0(e)&&t(e,Nc(e));function Hu(t,e,n,s){return cc(t,e,HL(n),s)}const Y2=1e-4,GL=1-Y2,$L=1+Y2,Q2=.01,KL=0-Q2,YL=0+Q2;function mn(t){return t.max-t.min}function QL(t,e,n){return Math.abs(t-e)<=n}function Yw(t,e,n,s=.5){t.origin=s,t.originPoint=dt(e.min,e.max,t.origin),t.scale=mn(n)/mn(e),t.translate=dt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=GL&&t.scale<=$L||isNaN(t.scale))&&(t.scale=1),(t.translate>=KL&&t.translate<=YL||isNaN(t.translate))&&(t.translate=0)}function Gu(t,e,n,s){Yw(t.x,e.x,n.x,s?s.originX:void 0),Yw(t.y,e.y,n.y,s?s.originY:void 0)}function Qw(t,e,n){t.min=n.min+e.min,t.max=t.min+mn(e)}function XL(t,e,n){Qw(t.x,e.x,n.x),Qw(t.y,e.y,n.y)}function Xw(t,e,n){t.min=e.min-n.min,t.max=t.min+mn(e)}function $u(t,e,n){Xw(t.x,e.x,n.x),Xw(t.y,e.y,n.y)}function Yn(t){return[t("x"),t("y")]}const X2=({current:t})=>t?t.ownerDocument.defaultView:null,Ww=(t,e)=>Math.abs(t-e);function WL(t,e){const n=Ww(t.x,e.x),s=Ww(t.y,e.y);return Math.sqrt(n**2+s**2)}class W2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=cg(this.lastMoveEventInfo,this.history),R=this.startEvent!==null,O=WL(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!R&&!O)return;const{point:j}=w,{timestamp:N}=Zt;this.history.push({...j,timestamp:N});const{onStart:B,onMove:G}=this.handlers;R||(B&&B(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),G&&G(this.lastMoveEvent,w)},this.handlePointerMove=(w,R)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=ug(R,this.transformPagePoint),ht.update(this.updatePoint,!0)},this.handlePointerUp=(w,R)=>{this.end();const{onEnd:O,onSessionEnd:j,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=cg(w.type==="pointercancel"?this.lastMoveEventInfo:ug(R,this.transformPagePoint),this.history);this.startEvent&&O&&O(w,B),j&&j(w,B)},!B0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const d=Nc(e),m=ug(d,this.transformPagePoint),{point:p}=m,{timestamp:v}=Zt;this.history=[{...p,timestamp:v}];const{onSessionStart:_}=n;_&&_(e,cg(m,this.history)),this.removeListeners=Ac(Hu(this.contextWindow,"pointermove",this.handlePointerMove),Hu(this.contextWindow,"pointerup",this.handlePointerUp),Hu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Li(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function Zw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cg({point:t},e){return{point:t,delta:Zw(t,Z2(e)),offset:Zw(t,ZL(e)),velocity:JL(e,.1)}}function ZL(t){return t[0]}function Z2(t){return t[t.length-1]}function JL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=Z2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Xr(e)));)n--;if(!s)return{x:0,y:0};const l=Zn(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function e9(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?dt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?dt(n,t,s.max):Math.min(t,n)),t}function Jw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function t9(t,{top:e,left:n,bottom:s,right:a}){return{x:Jw(t.x,n,a),y:Jw(t.y,e,s)}}function eE(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function n9(t,e){return{x:eE(t.x,e.x),y:eE(t.y,e.y)}}function r9(t,e){let n=.5;const s=mn(t),a=mn(e);return a>s?n=ic(e.min,e.max-s,t.min):s>a&&(n=ic(t.min,t.max-a,e.min)),js(0,1,n)}function s9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fy=.35;function i9(t=fy){return t===!1?t=0:t===!0&&(t=fy),{x:tE(t,"left","right"),y:tE(t,"top","bottom")}}function tE(t,e,n){return{min:nE(t,e),max:nE(t,n)}}function nE(t,e){return typeof t=="number"?t:t[e]||0}const a9=new WeakMap;class o9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nc(_).point)},c=(_,w)=>{const{drag:R,dragPropagation:O,onDragStart:j}=this.getProps();if(R&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v5(R),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Yn(B=>{let G=this.getAxisMotionValue(B).get()||0;if(Wr.test(G)){const{projection:F}=this.visualElement;if(F&&F.layout){const se=F.layout.layoutBox[B];se&&(G=mn(se)*(parseFloat(G)/100))}}this.originPoint[B]=G}),j&&ht.postRender(()=>j(_,w)),hy(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},d=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w;const{dragPropagation:R,dragDirectionLock:O,onDirectionLock:j,onDrag:N}=this.getProps();if(!R&&!this.openDragLock)return;const{offset:B}=w;if(O&&this.currentDirection===null){this.currentDirection=l9(B),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,B),this.updateAxis("y",w.point,B),this.visualElement.render(),N&&N(_,w)},m=(_,w)=>{this.latestPointerEvent=_,this.latestPanInfo=w,this.stop(_,w),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Yn(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new W2(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,distanceThreshold:s,contextWindow:X2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ht.postRender(()=>d(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!gd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=e9(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&qo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=t9(s.layoutBox,e):this.constraints=!1,this.elastic=i9(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Yn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=s9(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!qo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=uL(s,a.root,this.visualElement.getTransformPagePoint());let c=n9(a.layout.layoutBox,l);if(n){const d=n(aL(c));this.hasMutatedConstraints=!!d,d&&(c=O2(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Yn(v=>{if(!gd(v,n,this.currentDirection))return;let _=m&&m[v]||{};c&&(_={min:0,max:0});const w=a?200:1e6,R=a?40:1e7,O={type:"inertia",velocity:s?e[v]:0,bounceStiffness:w,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(v,O)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return hy(this.visualElement,e),s.start(X0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Yn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Yn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Yn(n=>{const{drag:s}=this.getProps();if(!gd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];l.set(e[n]-dt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!qo(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Yn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();a[c]=r9({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Yn(c=>{if(!gd(c,e,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(dt(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;a9.set(this.visualElement,this);const e=this.visualElement.current,n=Hu(e,"pointerdown",m=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();qo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ht.read(s);const c=cc(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Yn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=m[v].translate,_.set(_.get()+m[v].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=fy,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function gd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function l9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class u9 extends Bi{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new o9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const rE=t=>(e,n)=>{t&&ht.postRender(()=>t(e,n))};class c9 extends Bi{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new W2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:X2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:rE(e),onStart:rE(n),onMove:s,onEnd:(l,c)=>{delete this.session,a&&ht.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Hu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=sE(t,e.target.x),s=sE(t,e.target.y);return`${n}% ${s}%`}},h9={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ui.parse(t);if(a.length>5)return s;const l=Ui.createTransformer(t),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=m;const p=dt(d,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};let hg=!1;class d9 extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;V5(f9),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),hg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,hg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||ht.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),z0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;hg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J2(t){const[e,n]=R5(),s=M.useContext(IA);return y.jsx(d9,{...t,layoutGroup:s,switchLayoutGroup:M.useContext(M2),isPresent:e,safeToRemove:n})}const f9={borderRadius:{...Cu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cu,borderTopRightRadius:Cu,borderBottomLeftRadius:Cu,borderBottomRightRadius:Cu,boxShadow:h9};function m9(t,e,n){const s=un(t)?t:ol(t);return s.start(X0("",s,e,n)),s.animation}const p9=(t,e)=>t.depth-e.depth;class g9{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){T0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p9),this.isDirty=!1,this.children.forEach(e)}}function y9(t,e){const n=wn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Li(s),t(l-e))};return ht.setup(s,!0),()=>Li(s)}const eR=["TopLeft","TopRight","BottomLeft","BottomRight"],v9=eR.length,iE=t=>typeof t=="string"?parseFloat(t):t,aE=t=>typeof t=="number"||we.test(t);function b9(t,e,n,s,a,l){a?(t.opacity=dt(0,n.opacity??1,_9(s)),t.opacityExit=dt(e.opacity??1,0,x9(s))):l&&(t.opacity=dt(e.opacity??1,n.opacity??1,s));for(let c=0;c<v9;c++){const d=`border${eR[c]}Radius`;let m=oE(e,d),p=oE(n,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||aE(m)===aE(p)?(t[d]=Math.max(dt(iE(m),iE(p),s),0),(Wr.test(p)||Wr.test(m))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=dt(e.rotate||0,n.rotate||0,s))}function oE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _9=tR(0,.5,FA),x9=tR(.5,.95,Jn);function tR(t,e,n){return s=>s<t?0:s>e?1:n(ic(t,e,s))}function lE(t,e){t.min=e.min,t.max=e.max}function Kn(t,e){lE(t.x,e.x),lE(t.y,e.y)}function uE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cE(t,e,n,s,a){return t-=e,t=lf(t,1/n,s),a!==void 0&&(t=lf(t,1/a,s)),t}function T9(t,e=0,n=1,s=.5,a,l=t,c=t){if(Wr.test(e)&&(e=parseFloat(e),e=dt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=dt(l.min,l.max,s);t===l&&(d-=e),t.min=cE(t.min,e,n,d,a),t.max=cE(t.max,e,n,d,a)}function hE(t,e,[n,s,a],l,c){T9(t,e[n],e[s],e[a],e.scale,l,c)}const w9=["x","scaleX","originX"],E9=["y","scaleY","originY"];function dE(t,e,n,s){hE(t.x,e,w9,n?n.x:void 0,s?s.x:void 0),hE(t.y,e,E9,n?n.y:void 0,s?s.y:void 0)}function fE(t){return t.translate===0&&t.scale===1}function nR(t){return fE(t.x)&&fE(t.y)}function mE(t,e){return t.min===e.min&&t.max===e.max}function S9(t,e){return mE(t.x,e.x)&&mE(t.y,e.y)}function pE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rR(t,e){return pE(t.x,e.x)&&pE(t.y,e.y)}function gE(t){return mn(t.x)/mn(t.y)}function yE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class A9{constructor(){this.members=[]}add(e){x0(this.members,e),e.scheduleRender()}remove(e){if(T0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R9(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:w,skewX:R,skewY:O}=n;p&&(s=`perspective(${p}px) ${s}`),v&&(s+=`rotate(${v}deg) `),_&&(s+=`rotateX(${_}deg) `),w&&(s+=`rotateY(${w}deg) `),R&&(s+=`skewX(${R}deg) `),O&&(s+=`skewY(${O}deg) `)}const d=t.x.scale*e.x,m=t.y.scale*e.y;return(d!==1||m!==1)&&(s+=`scale(${d}, ${m})`),s||"none"}const dg=["","X","Y","Z"],C9=1e3;let N9=0;function fg(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function sR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=q2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ht,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&sR(s)}function iR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},d=e?.()){this.id=N9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(D9),this.nodes.forEach(j9),this.nodes.forEach(P9),this.nodes.forEach(M9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new g9)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new S0),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=_2(c)&&!E5(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),t){let v,_=0;const w=()=>this.root.updateBlockedByResize=!1;ht.read(()=>{_=window.innerWidth}),t(c,()=>{const R=window.innerWidth;R!==_&&(_=R,this.root.updateBlockedByResize=!0,v&&v(),v=y9(w,250),Md.hasAnimatedSinceResize&&(Md.hasAnimatedSinceResize=!1,this.nodes.forEach(_E)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:_,hasRelativeLayoutChanged:w,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||p.getDefaultTransition()||F9,{onLayoutAnimationStart:j,onLayoutAnimationComplete:N}=p.getProps(),B=!this.targetLayout||!rR(this.targetLayout,R),G=!_&&w;if(this.options.layoutRoot||this.resumeFrom||G||_&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...L0(O,"layout"),onPlay:j,onComplete:N};(p.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(v,G)}else _||_E(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Li(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(L9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(bE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(O9),this.nodes.forEach(k9),this.nodes.forEach(I9)):this.nodes.forEach(bE),this.clearAllSnapshots();const d=wn.now();Zt.delta=js(0,1e3/60,d-Zt.timestamp),Zt.timestamp=d,Zt.isProcessing=!0,tg.update.process(Zt),tg.preRender.process(Zt),tg.render.process(Zt),Zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,z0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V9),this.sharedNodes.forEach(U9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ht.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ht.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mn(this.snapshot.measuredBox.x)&&!mn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!nR(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ta(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),q9(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Tt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(H9))){const{scroll:p}=this.root;p&&(Ho(d.x,p.offset.x),Ho(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Tt();if(Kn(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:v,options:_}=p;p!==this.root&&v&&_.layoutScroll&&(v.wasRoot&&Kn(d,c),Ho(d.x,v.offset.x),Ho(d.y,v.offset.y))}return d}applyTransform(c,d=!1){const m=Tt();Kn(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Go(m,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ta(v.latestValues)&&Go(m,v.latestValues)}return Ta(this.latestValues)&&Go(m,this.latestValues),m}removeTransform(c){const d=Tt();Kn(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ta(p.latestValues))continue;oy(p.latestValues)&&p.updateSnapshot();const v=Tt(),_=p.measurePageBox();Kn(v,_),dE(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Ta(this.latestValues)&&dE(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:_}=this.options;if(!(!this.layout||!(v||_))){if(this.resolvedRelativeTargetAt=Zt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),$u(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Kn(this.target,this.layout.layoutBox),P2(this.target,this.targetDelta)):Kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),$u(this.relativeTargetOrigin,this.target,w.target),Kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oy(this.parent.latestValues)||j2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Zt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;Kn(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,w=this.treeScale.y;lL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Tt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(uE(this.prevProjectionDelta.x,this.projectionDelta.x),uE(this.prevProjectionDelta.y,this.projectionDelta.y)),Gu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==w||!yE(this.projectionDelta.x,this.prevProjectionDelta.x)||!yE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$o(),this.projectionDelta=$o(),this.projectionDeltaWithTransform=$o()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},v={...this.latestValues},_=$o();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const w=Tt(),R=m?m.source:void 0,O=this.layout?this.layout.source:void 0,j=R!==O,N=this.getStack(),B=!N||N.members.length<=1,G=!!(j&&!B&&this.options.crossfade===!0&&!this.path.some(B9));this.animationProgress=0;let F;this.mixTargetDelta=se=>{const ae=se/1e3;xE(_.x,c.x,ae),xE(_.y,c.y,ae),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($u(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z9(this.relativeTarget,this.relativeTargetOrigin,w,ae),F&&S9(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Tt()),Kn(F,this.relativeTarget)),j&&(this.animationValues=v,b9(v,p,this.latestValues,ae,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ae},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Li(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ht.update(()=>{Md.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.currentAnimation=m9(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:v}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&aR(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Tt();const _=mn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const w=mn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+w}Kn(d,m),Go(d,v),Gu(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new A9),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&fg("z",c,p,this.animationValues);for(let v=0;v<dg.length;v++)fg(`rotate${dg[v]}`,c,p,this.animationValues),fg(`skew${dg[v]}`,c,p,this.animationValues);c.render();for(const v in p)c.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Dd(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Dd(d?.pointerEvents)||""),this.hasProjected&&!Ta(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const v=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=R9(this.projectionDeltaWithTransform,this.treeScale,v);m&&(_=m(v,_)),c.transform=_;const{x:w,y:R}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${R.origin*100}% 0`,p.animationValues?c.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:c.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const O in uc){if(v[O]===void 0)continue;const{correct:j,applyTo:N,isCSSVariable:B}=uc[O],G=_==="none"?v[O]:j(v[O],p);if(N){const F=N.length;for(let se=0;se<F;se++)c[N[se]]=G}else B?this.options.visualElement.renderState.vars[O]=G:c[O]=G}this.options.layoutId&&(c.pointerEvents=p===this?Dd(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(vE),this.root.sharedNodes.clear()}}}function k9(t){t.updateLayout()}function I9(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Yn(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],w=mn(_);_.min=n[v].min,_.max=_.min+w}):aR(a,e.layoutBox,n)&&Yn(v=>{const _=l?e.measuredBox[v]:e.layoutBox[v],w=mn(n[v]);_.max=_.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const c=$o();Gu(c,n,e.layoutBox);const d=$o();l?Gu(d,t.applyTransform(s,!0),e.measuredBox):Gu(d,n,e.layoutBox);const m=!nR(c);let p=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:_,layout:w}=v;if(_&&w){const R=Tt();$u(R,e.layoutBox,_.layoutBox);const O=Tt();$u(O,n,w.layoutBox),rR(R,O)||(p=!0),v.options.layoutRoot&&(t.relativeTarget=O,t.relativeTargetOrigin=R,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function D9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function M9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V9(t){t.clearSnapshot()}function vE(t){t.clearMeasurements()}function bE(t){t.isLayoutDirty=!1}function O9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _E(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function j9(t){t.resolveTargetDelta()}function P9(t){t.calcProjection()}function L9(t){t.resetSkewAndRotation()}function U9(t){t.removeLeadSnapshot()}function xE(t,e,n){t.translate=dt(e.translate,0,n),t.scale=dt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function TE(t,e,n,s){t.min=dt(e.min,n.min,s),t.max=dt(e.max,n.max,s)}function z9(t,e,n,s){TE(t.x,e.x,n.x,s),TE(t.y,e.y,n.y,s)}function B9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const F9={duration:.45,ease:[.4,0,.1,1]},wE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EE=wE("applewebkit/")&&!wE("chrome/")?Math.round:Jn;function SE(t){t.min=EE(t.min),t.max=EE(t.max)}function q9(t){SE(t.x),SE(t.y)}function aR(t,e,n){return t==="position"||t==="preserve-aspect"&&!QL(gE(e),gE(n),.2)}function H9(t){return t!==t.root&&t.scroll?.wasRoot}const G9=iR({attachResizeListener:(t,e)=>cc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mg={current:void 0},oR=iR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mg.current){const t=new G9({});t.mount(window),t.setOptions({layoutScroll:!0}),mg.current=t}return mg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$9={pan:{Feature:c9},drag:{Feature:u9,ProjectionNode:oR,MeasureLayout:J2}};function AE(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&ht.postRender(()=>l(e,Nc(e)))}class K9 extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=b5(e,(n,s)=>(AE(this.node,s,"Start"),a=>AE(this.node,a,"End"))))}unmount(){}}class Y9 extends Bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(cc(this.node.current,"focus",()=>this.onFocus()),cc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RE(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&ht.postRender(()=>l(e,Nc(e)))}class Q9 extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=w5(e,(n,s)=>(RE(this.node,s,"Start"),(a,{success:l})=>RE(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const my=new WeakMap,pg=new WeakMap,X9=t=>{const e=my.get(t.target);e&&e(t)},W9=t=>{t.forEach(X9)};function Z9({root:t,...e}){const n=t||document;pg.has(n)||pg.set(n,{});const s=pg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(W9,{root:t,...e})),s[a]}function J9(t,e,n){const s=Z9(e);return my.set(t,n),s.observe(t),()=>{my.delete(t),s.unobserve(t)}}const eU={some:0,all:1};class tU extends Bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:eU[a]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),w=p?v:_;w&&w(m)};return J9(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nU(e,n))&&this.startObserver()}unmount(){}}function nU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rU={inView:{Feature:tU},tap:{Feature:Q9},focus:{Feature:Y9},hover:{Feature:K9}},sU={layout:{ProjectionNode:oR,MeasureLayout:J2}},iU={...qL,...rU,...$9,...sU},CE=iL(iU,vL),aU=()=>y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black",children:y.jsxs("div",{className:"text-center",children:[y.jsx(CE.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:[.22,1,.36,1]},children:y.jsx("img",{src:Df,alt:"Wants & Needs",className:"h-20 w-20 object-contain mx-auto mb-4 filter brightness-0 invert"})}),y.jsx(CE.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:y.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full mx-auto animate-spin"})})]})});function oU(){const[t,e]=M.useState(!0);return M.useEffect(()=>{const n=setTimeout(()=>{e(!1)},3500);return()=>clearTimeout(n)},[]),M.useEffect(()=>()=>{},[]),t?y.jsx(aU,{}):y.jsx(ok,{children:y.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-black",children:[y.jsx(g3,{}),y.jsx("main",{children:y.jsxs(LN,{children:[y.jsx(bi,{path:"/",element:y.jsx(i3,{})}),y.jsx(bi,{path:"/shop",element:y.jsx(_3,{})}),y.jsx(bi,{path:"/shop/:productId",element:y.jsx(A3,{})}),y.jsx(bi,{path:"/cart",element:y.jsx(R3,{})}),y.jsx(bi,{path:"/signup",element:y.jsx(f3,{})}),y.jsx(bi,{path:"/login",element:y.jsx(m3,{})}),y.jsx(bi,{path:"/profile",element:y.jsx(p3,{})})]})}),y.jsx(y3,{})]})})}KC.createRoot(document.getElementById("root")).render(y.jsx(M.StrictMode,{children:y.jsx(S3,{children:y.jsx(oU,{})})}));
